(this.webpackJsonpcurate=this.webpackJsonpcurate||[]).push([[0],{100:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},151:function(e,t,a){e.exports=a.p+"static/media/developers1.b75ace5c.jpg"},152:function(e,t,a){e.exports=a.p+"static/media/developers2.cf83e454.jpg"},160:function(e,t,a){e.exports=a(325)},165:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},223:function(e,t){},225:function(e,t){},258:function(e,t){},259:function(e,t){},324:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(35),o=a.n(i),c=(a(165),a(19)),l=a(12),s=a(39),u=a(150),m=a(1),d={isAuth:!1,token:"",secret:"",name:""},f={theme:"theme_dark",textSize:"textsize_medium",themeColor:"themecolor1"},h={items:[]},v={items:[]},p=Object(s.c)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTH":return console.log("GET_AUTH reducer"),Object(m.a)({},e);case"ADD_AUTH":return console.log("ADD_AUTH reducer"),Object(m.a)({},e,{},t.payload);case"REMOVE_AUTH":return console.log("REMOVE_AUTH reducer"),Object(m.a)({},e,{isAuth:!1,token:"",secret:"",name:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return console.log("GET_PROFILE reducer"),Object(m.a)({},e);case"SET_PROFILE":return console.log("SET_PROFILE reducer"),Object(m.a)({},e,{},t.payload);default:return e}},bookmark:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOOKMARK":return console.log("FETCH_BOOKMARK reducer"),Object(m.a)({},e,{items:t.payload});default:return e}},note:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NOTE":return console.log("FETCH_NOTE reducer"),Object(m.a)({},e,{items:t.payload});default:return e}}}),E=[u.a],b=Object(s.e)(p,{},Object(s.d)(s.a.apply(void 0,E))),g=(a(100),a(170),a(171),a(26)),N=a(156),k=a(157),y=a(342),w=a(32),O=(a(172),a(151)),j=a.n(O),P=a(152),A=a.n(P),C=new(a(341).a);function _(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;C.next({name:e,signal:t,data:a})}function S(){return C.asObservable()}var z=function(e){return Object(n.useEffect)((function(){return _("navbar-transparency"),function(){return _("navbar-transparency",!1)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"section parallax bg1"}),r.a.createElement("div",{className:"section static bg1 odd"},r.a.createElement("h3",null,"A bookmarking app like never before"),r.a.createElement("p",null,"Take your link to the web wherever you go, with the most secure bookmark and note taking app"),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(w.a,{to:"/login",className:"navitem",activeClassName:"active"},"Sign up"),"\xa0for free")),r.a.createElement("div",{className:"section parallax bg bg2"}),r.a.createElement("div",{className:"section static bg2 even"},r.a.createElement("h3",null,"Secure by design"),r.a.createElement("p",null,"Designed with security as a primary factor from ground up"),r.a.createElement("p",null,"Your passwords never leaves your workstation"),r.a.createElement("p",null,"Our servers have zero knowledge about your password")),r.a.createElement("div",{className:"section parallax bg3"}),r.a.createElement("div",{className:"section static bg3 odd"},r.a.createElement("h3",null,"Premium features"),r.a.createElement("p",null,"Get premium features free for lifetime. We standby free software for all")),r.a.createElement("div",{className:"section parallax bg4"}),r.a.createElement("div",{className:"section static bg4 even"},r.a.createElement("h3",null,"Don't mix up personal and business"),r.a.createElement("p",null,"With the help of workspaces, you can now work in isolated containers")),r.a.createElement("div",{className:"section parallax bg5"}),r.a.createElement("div",{className:"section static bg5 odd"},r.a.createElement("h3",null,"We love open source"),r.a.createElement("p",null,"Our codebase is 100% available for the community to do peer review and audit for any security flaws")),r.a.createElement("div",{className:"section parallax bg6"}),r.a.createElement("div",{className:"section static bg6 even"},r.a.createElement("h3",null,"Clean clutter free interface"),r.a.createElement("p",null,"Modern interface with a clutter free design to keep you in focus on your activity")),r.a.createElement("div",{className:"section parallax bg7"}),r.a.createElement("div",{className:"section static bg7 odd"},r.a.createElement("h3",null,"Travel to the future"),r.a.createElement("p",null,"We are evolving for the future. More features on the way. You can watch our roadmap here")),r.a.createElement("div",{className:"section parallax bg8"}),r.a.createElement("div",{className:"section static developers bg8"},r.a.createElement("div",{className:"headline"},"Meet the creators"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"contact"},r.a.createElement("img",{src:A.a,alt:"Avatar"}),r.a.createElement("div",{className:"name"},"Amarandra Sahoo"),r.a.createElement("div",{className:"tag"},"Backend implementation"),r.a.createElement("div",{className:"description"},r.a.createElement("p",null,"Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor"))),r.a.createElement("div",{className:"contact"},r.a.createElement("img",{src:j.a,alt:"Avatar"}),r.a.createElement("div",{className:"name"},"Arun Kumar Selvaraj"),r.a.createElement("div",{className:"tag"},"Frontend implementation"),r.a.createElement("div",{className:"description"},r.a.createElement("p",null,"Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor")))))))},x=a(10),T=a(2);a(74);function R(e){return null===e||null!==e.match(/^ *$/)}function I(e,t){var a=!1;return t&&t.split(" ").forEach((function(t){e.match(new RegExp("(\\w*".concat(t,"\\w*)"),"gi"))&&(a=!0)})),a}var L=a(57),U=a.n(L),B="https://curate-express.herokuapp.com";function F(e,t){return U.a.get(B+e,t)}function D(e,t,a){return U.a.post(B+e,t,a)}function M(e,t,a){return U.a.put(B+e,t,a)}function H(e,t){return U.a.delete(B+e,t)}var K={API_URL_PRESIGNUP:"/auth/keys",API_URL_SIGNUP:"/auth/signup",API_URL_PRESIGNIN:"/auth/keys/",API_URL_SIGNIN:"/auth/signin",API_URL_RESET:"/auth/reset",API_URL_CODE:"/auth/sendResetCode",API_URL_BOOKMARK:"/bookmark",API_URL_BOOKMARK_IMPORT:"/bookmark/import",API_URL_MAIL:"/bookmark/sendExportMail",API_URL_PREFERENCES:"/user/preferences",API_URL_USER_DETAILS:"/user/details",API_URL_NOTE:"/note"},G=function(e){return function(t){F(K.API_URL_BOOKMARK,{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){t({type:"FETCH_BOOKMARK",payload:e.data})}))}},V=a(340),q=(a(109),function(e){Object(n.useEffect)((function(){var e=document.documentElement.clientWidth,t=window.innerWidth-e;document.documentElement.style.setProperty("--scrollbar-width","".concat(t,"px"))}),[]),Object(n.useEffect)((function(){return _("dialog",e.visible),e.visible?document.body.classList.add("oak-dialog-open"):document.body.classList.remove("oak-dialog-open"),document.addEventListener("keydown",t,!1),function(){return document.removeEventListener("keydown",t,!1)}}),[e.visible]);var t=function(t){27===t.keyCode&&e.visible&&e.toggleVisibility()},a=function(){var t="";return t+=e.small?" small":"",t+=e.fullscreen?" fullscreen":""};return r.a.createElement("div",{className:"oak-dialog"},r.a.createElement("div",{className:e.visible?"dialog show ".concat(a()):"dialog hide ".concat(a())},r.a.createElement("div",{className:e.visible?"container":"container hidetext"},r.a.createElement("div",{className:"dialog-header"},r.a.createElement("div",{className:"container",onClick:e.toggleVisibility},r.a.createElement("i",{className:"material-icons"},"close"),r.a.createElement("div",{className:"text-esc"},"esc"))),e.children)))}),W=(a(190),function(e){return r.a.createElement("button",{className:"oak-button ".concat(function(){var t=e.theme?e.theme:"";return t+=e.variant?" ".concat(e.variant):"",e.children||(t+=" icon"),t+=e.invert?" invert":"",t+=e.small?" small":"",t+=e.align?" align-".concat(e.align):""}()),onClick:e.action},e.icon&&r.a.createElement("i",{className:"material-icons"},e.icon),e.children&&e.children)}),Y=function(e){return r.a.createElement(q,{small:!0,visible:e.visible,toggleVisibility:e.toggleVisibility},r.a.createElement("div",{className:"dialog-body typography-4 space-top-4 space-bottom-4"},e.text?e.text:"Are you sure you want to continue?"),r.a.createElement("div",{className:"dialog-footer"},e.children&&e.children,!e.children&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{action:e.toggleVisibility,theme:"default",variant:"animate in",align:"left"},r.a.createElement("i",{className:"material-icons"},"close"),"No"),r.a.createElement(W,{action:function(){e.action(),e.toggleVisibility()},theme:"primary",variant:"animate out",align:"right"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Yes"))))},$=function(e){var t=Object(n.useState)(!1),a=Object(T.a)(t,2),i=a[0],o=a[1],c=[];return e.bookmark.tags&&e.bookmark.tags.split(" ").map((function(t){c.push(r.a.createElement("div",{className:"tag",key:t,onClick:function(){return e.searchByTag(t)}},t))})),r.a.createElement("div",{className:"item"},r.a.createElement(Y,{visible:i,toggleVisibility:function(){return o(!i)},action:function(){return e.deleteBookmark(e.id)},text:"Are you sure, you want to delete the bookmark?"}),r.a.createElement("div",{className:"item-container"},r.a.createElement("div",{className:"item-actions"},r.a.createElement("div",{className:"item-edit"},r.a.createElement("i",{onClick:function(){return window.open(e.bookmark.href)},className:"material-icons"},"link")),r.a.createElement("div",{className:"item-edit"},r.a.createElement("i",{onClick:function(){return e.editBookmark(e.bookmark)},className:"material-icons"},"edit")),r.a.createElement("div",{className:"item-delete"},r.a.createElement("i",{onClick:function(){return o(!i)},className:"material-icons"},"delete"))),r.a.createElement("div",{className:"item-content"},r.a.createElement("div",{className:"title typography-4"},e.bookmark.title),r.a.createElement("div",{className:"url typography-6"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.bookmark.href},e.bookmark.href)),r.a.createElement("div",{className:"timestamp typography-6 space-bottom-1"},e.bookmark.createdAt),c)))},J=(a(191),function(e){var t=Object(n.useState)(!1),a=Object(T.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)(!1),l=Object(T.a)(c,2),s=l[0],u=l[1],m=Object(n.useState)(),d=Object(T.a)(m,2),f=d[0],h=d[1],v=Object(n.useState)(),p=Object(T.a)(v,2),E=p[0],b=p[1],g=Object(n.useState)(),N=Object(T.a)(g,2),k=N[0],y=N[1],w=window.matchMedia("(max-width: 767px)");Object(n.useEffect)((function(){o(w.matches),w.addListener((function(){return o(w.matches)})),h(e.children);var t=S().subscribe((function(e){"sidebar"===e.name&&u(e.signal)}));return function(){return t.unsubscribe()}}),[]),Object(n.useEffect)((function(){h(e.children)}),[e.children]),Object(n.useEffect)((function(){O()}),[f]);var O=function(){r.a.Children.toArray(e.children).forEach((function(e){e.props.main?b(e):e.props.side&&y(e)}))},j=function(){_("sidebar",!s)};return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement("div",{className:"view-desktop"},k&&r.a.createElement("div",{className:"view-side"},k),r.a.createElement("div",{className:"view-content".concat(k?" side-present":"")},E)),i&&r.a.createElement("div",{className:"view-mobile"},r.a.createElement("div",{className:s?"slider show":"slider hide"},r.a.createElement("div",{className:"topbar",onClick:j},r.a.createElement("div",null,r.a.createElement(W,{theme:"default",variant:"disabled",action:j},!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"expand_more"),e.sideLabel?e.sideLabel:"Menu"),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"material-icons"},"expand_less"),"Collapse")))),r.a.createElement("div",{className:"view-side"},s&&k)),!s&&r.a.createElement("div",{className:"view-main"},E)))}),Q=function(e){return r.a.createElement("div",null,e.children)},X=(a(192),function(e){var t=Object(n.useState)(!1),a=Object(T.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)([{}]),l=Object(T.a)(c,2),s=l[0],u=l[1];Object(n.useEffect)((function(){_("sidebarExpanded",i,{label:e.label})}),[i]),Object(n.useEffect)((function(){o(!!e.show),u(e.elements?e.elements:[]);var t=S().subscribe((function(t){"sidebarExpanded"===t.name&&t.signal&&t.data&&t.data.label!==e.label&&o(!1)}));return function(){return t.unsubscribe()}}),[]);var m=s.map((function(e){return r.a.createElement("div",{key:e.label,className:"element",onClick:e.action},r.a.createElement("i",{className:"material-icons"},e.icon),e.label)}));return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:i?"header active":"header",onClick:function(){return o(!i)}},r.a.createElement("div",{className:"label"},r.a.createElement("i",{className:"material-icons"},e.icon),e.label,void 0!==e.number&&r.a.createElement("div",{className:"number"},e.number)),r.a.createElement("div",{className:"aria"},r.a.createElement("i",{className:i?"material-icons collapse":"material-icons"},"keyboard_arrow_left"))),r.a.createElement("div",{className:i?"content show ".concat(e.animate?"animate in":"static"):"content hide ".concat(e.animate?"animate in":"static")},m,e.children))}),Z=(a(193),function(e){return r.a.createElement("div",{className:"oak-text-field"},r.a.createElement("label",{htmlFor:e.id},e.label),!e.multiline&&r.a.createElement("input",{disabled:e.disabled,autoComplete:"off",className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),type:e.type?e.type:"text",name:e.id,id:e.id,value:e.data[e.id],onChange:e.handleChange}),e.multiline&&r.a.createElement("textarea",{disabled:e.disabled,className:(e.errorFields&&e.errorFields[e.id]?"error":"")+(e.disabled?" disabled":""),id:e.id,name:e.id,value:e.data[e.id],onChange:e.handleChange}))}),ee=(a(194),a(195),function(e){var t,a=Object(n.useState)(!1),i=Object(T.a)(a,2),o=i[0],c=i[1],l=function(t,a){t.target.name=e.id,t.target.value=a,e.handleChange(t),c(!o)},s=[];return e.elements?s=e.elements.map((function(e){return r.a.createElement("div",{className:"option",key:e,onClick:function(t){return l(t,e)}},e)})):e.objects&&(s=e.objects.map((function(e){return r.a.createElement("div",{className:"option",key:e.key,onClick:function(t){return l(t,e.key)}},e.value)}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"oak-select ".concat(function(){var t=e.theme?e.theme:"";return t+=e.variant?" ".concat(e.variant):"",t+=e.width?" ".concat(e.width):""}())},e.label&&r.a.createElement("label",{htmlFor:e.id},e.label),r.a.createElement("div",{className:"select-button",id:e.id,onClick:function(){return c(!o)}},e.elements&&r.a.createElement("div",null,e.data[e.id]),e.objects&&r.a.createElement("div",null,e.objects.find((function(t){return t.key===e.data[e.id]}))&&(null===(t=e.objects)||void 0===t?void 0:t.find((function(t){return t.key===e.data[e.id]})).value)),r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons"},"keyboard_arrow_down"))),r.a.createElement("div",{className:o?"dropdown show":"dropdown hide"},r.a.createElement("div",{className:"dropdown-content"},e.first&&r.a.createElement("div",{className:"option",onClick:function(t){return l(t,e.first)}},e.first),e.firstAction&&r.a.createElement("div",{className:"option",onClick:function(t){return l(t,e.firstAction)}},e.firstAction),s))))}),te=function(e){var t=Object(n.useState)({rowsPerPage:6,pageNo:1}),a=Object(T.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){c()}),[i]);var c=function(){e.onChangePage(i.pageNo,i.rowsPerPage)};return r.a.createElement("div",{className:"oak-pagination"},r.a.createElement("div",{className:"space-right-3"},e.label?e.label:"Rows per page"),r.a.createElement("div",{className:"space-right-3"},r.a.createElement(ee,{data:i,id:"rowsPerPage",handleChange:function(e){return t=e,void o(Object(m.a)({},i,Object(x.a)({},t.target.name,t.target.value)));var t},elements:["6","10","20","50"]})),r.a.createElement("div",{className:"page-number space-right-3"},r.a.createElement("div",null,(i.pageNo-1)*i.rowsPerPage+1,"-"," ",i.pageNo*i.rowsPerPage<e.totalRows?i.pageNo*i.rowsPerPage:e.totalRows,"\xa0of\xa0 ",e.totalRows," ")),r.a.createElement("div",{className:"page-nav"},r.a.createElement("div",{className:"space-right-2"},r.a.createElement("i",{className:1===i.pageNo?"material-icons disabled":"material-icons",onClick:function(){1!==i.pageNo&&o(Object(m.a)({},i,{pageNo:i.pageNo-1}))}},"keyboard_arrow_left")),r.a.createElement("div",null,r.a.createElement("i",{className:Math.ceil(e.totalRows/i.rowsPerPage)===i.pageNo?"material-icons disabled":"material-icons",onClick:function(){Math.ceil(e.totalRows/i.rowsPerPage)!==i.pageNo&&o(Object(m.a)({},i,{pageNo:i.pageNo+1}))}},"keyboard_arrow_right"))))},ae=function(e){var t=Object(n.useState)(!1),a=Object(T.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)({pageNo:1,rowsPerPage:6}),l=Object(T.a)(c,2),s=l[0],u=l[1],m={addNew:[{label:"New Bookmark",action:function(){return e.selectBookmark(null),void o(!0)},icon:"note_add"}]};function d(t){e.selectBookmark(t),o(!0)}function f(){o(!i)}Object(n.useEffect)((function(){var e=S().subscribe((function(e){"bookmark"===e.name&&e.signal&&(_("notification",!0,{type:"success",message:"".concat("bookmark"," ").concat(e.data.action),duration:5e3}),"deleted"!==e.data.action&&f())}));return function(){return e.unsubscribe()}}));return r.a.createElement("div",{className:"bookmarks"},r.a.createElement(q,{visible:i,toggleVisibility:f},r.a.createElement("div",{className:"dialog-body"},r.a.createElement(Z,{label:"Title",data:e.bookmark,id:"title",handleChange:function(t){return e.handleBookmarkDataChange(t)}}),r.a.createElement(Z,{label:"URL",data:e.bookmark,id:"href",handleChange:function(t){return e.handleBookmarkDataChange(t)}}),r.a.createElement(Z,{label:"Tags",data:e.bookmark,id:"tags",handleChange:function(t){return e.handleBookmarkDataChange(t)}})),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement(W,{action:f,theme:"default",variant:"outline",align:"left"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement(W,{action:e.update,theme:"primary",variant:"animate in",align:"right"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"))),r.a.createElement(J,null,r.a.createElement(Q,{main:!0},r.a.createElement(te,{totalRows:e.view.length,onChangePage:function(e,t){u({pageNo:e,rowsPerPage:t})},label:"Items per page"}),r.a.createElement("div",{className:"space-bottom-2"}),e.view.slice((s.pageNo-1)*s.rowsPerPage,s.pageNo*s.rowsPerPage).map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement($,{id:t._id,bookmark:t,editBookmark:d,deleteBookmark:e.deleteBookmark,searchByTag:e.searchByTag}),r.a.createElement("br",null))}))),r.a.createElement(Q,{side:!0},r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"section-main"},r.a.createElement(X,{label:"Add New",elements:m.addNew,icon:"add",animate:!0}),r.a.createElement(X,{label:"Search",icon:"search",animate:!0,number:e.searchPref.filtered?e.view.length:void 0},r.a.createElement("form",{method:"GET",onSubmit:e.search,noValidate:!0},r.a.createElement("div",{className:"space-top-2 space-left-4 space-right-4"},r.a.createElement(Z,{label:"Keywords",id:"searchText",data:e.searchPref,handleChange:function(t){return e.handleSearchPrefDataChange(t)}}))),r.a.createElement("div",{className:"typography-5 space-top-2 space-left-4"},r.a.createElement(V.a,{checked:e.searchPref.title,onChange:function(){return e.toggleSearchPref("title")},inputProps:{"aria-label":"primary checkbox"}}),"Include title"),r.a.createElement("div",{className:"typography-5 space-top-2 space-left-4"},r.a.createElement(V.a,{checked:e.searchPref.tags,onChange:function(){return e.toggleSearchPref("tags")},inputProps:{"aria-label":"primary checkbox"}}),"Include tags"),r.a.createElement("div",{className:"typography-5 space-top-2 space-left-4"},r.a.createElement(V.a,{checked:e.searchPref.href,onChange:function(){return e.toggleSearchPref("href")},inputProps:{"aria-label":"primary checkbox"}}),"Include URL"),e.searchPref.filtered&&r.a.createElement("div",{className:"typography-4 space-top-2 space-left-2"},"Found ",e.view.length," bookmarks matching the search criteria"),r.a.createElement("div",{className:"actionbar-2 space-top-2 space-bottom-2"},r.a.createElement("div",null,r.a.createElement(W,{action:e.clearSearch,theme:"default"},"Clear")),r.a.createElement("div",null,r.a.createElement(W,{action:e.search,theme:"primary",variant:"animate in"},"Search")))))))))},ne=a(58),re=Object(l.b)((function(e){return{bookmark:e.bookmark}}),{fetchBookmark:G,saveBookmark:function(e,t){return function(a){M(K.API_URL_BOOKMARK,t,{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(){_("bookmark",!0,{action:t.id?"updated":"created"}),a(G(e))})).catch((function(e){401===e.response.status&&_("session expired")}))}},deleteBookmark:function(e,t){return function(a){H("".concat(K.API_URL_BOOKMARK,"/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(t){201===t.status&&(_("bookmark",!0,{action:"deleted"}),a(G(e)))})).catch((function(e){401===e.response.status&&_("session expired")}))}}})((function(e){var t=Object(n.useState)({id:void 0,title:"",href:"",tags:""}),a=Object(T.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)({title:!0,tags:!0,href:!0,content:!0,searchText:"",filtered:!1,filterActivator:!1}),l=Object(T.a)(c,2),s=l[0],u=l[1],d=Object(n.useState)(!0),f=Object(T.a)(d,2),h=f[0],v=f[1],p=Object(n.useState)([]),E=Object(T.a)(p,2),b=E[0],g=E[1];Object(n.useEffect)((function(){if(e.location.search){var t=ne.parse(e.location.search);t&&t.q&&(t.q.startsWith("tags")&&u(Object(m.a)({},s,{title:!1,tags:!0,href:!0,content:!1})),u(Object(m.a)({},s,{searchText:t.q,filterActivator:!s.filterActivator})))}}),[e.location.search]),Object(n.useEffect)((function(){var t;h&&(null===(t=e.authorization)||void 0===t?void 0:t.isAuth)&&(e.fetchBookmark(e.authorization),v(!1))}),[e.authorization]),Object(n.useEffect)((function(){u(Object(m.a)({},s,{filterActivator:!s.filterActivator}))}),[e.bookmark]),Object(n.useEffect)((function(){N()}),[s.filterActivator]);var N=function(t){var a,n,r;if(t&&t.preventDefault(),R(s.searchText))return g(null===(r=e.bookmark)||void 0===r?void 0:r.items),void u(Object(m.a)({},s,{filtered:!1}));g(null===(a=e.bookmark)||void 0===a?void 0:null===(n=a.items)||void 0===n?void 0:n.filter((function(e){return!(!s.title||!I(e.title,s.searchText))||(!(!s.tags||!I(e.tags,s.searchText))||(!(!s.href||!I(e.href,s.searchText))||void 0))}))),u(Object(m.a)({},s,{filtered:!0})),_("sidebar",!1)};return r.a.createElement(ae,{view:b,bookmark:i,handleBookmarkDataChange:function(e){o(Object(m.a)({},i,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))},selectBookmark:function(e){o({id:e?e._id:"",title:e?e.title:"",href:e?e.href:"",tags:e?e.tags:""})},update:function(){R(i.title)?_("notification",!0,{type:"failure",message:"Title / description missing",duration:5e3}):R(i.href)?_("notification",!0,{type:"failure",message:"Website URL / Link is missing",duration:5e3}):(R(i.tags)&&o(Object(m.a)({},i,{tags:"unsorted"})),e.saveBookmark(e.authorization,i))},deleteBookmark:function(t){e.deleteBookmark(e.authorization,t)},searchPref:s,handleSearchPrefDataChange:function(e){u(Object(m.a)({},s,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))},toggleSearchPref:function(e){u(Object(m.a)({},s,Object(x.a)({},e,!s[e])))},clearSearch:function(){var t;g(null===(t=e.bookmark)||void 0===t?void 0:t.items),v(!1),u(Object(m.a)({},s,{searchText:"",filterActivator:!s.filterActivator})),_("sidebar",!1)},search:N,searchByTag:function(e){u(Object(m.a)({},s,{title:!1,tags:!0,href:!1,searchText:e,filterActivator:!s.filterActivator}))}})})),ie=a(158),oe=(a(75),function(e){return function(t){F(K.API_URL_NOTE,{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){t({type:"FETCH_NOTE",payload:e.data})}))}}),ce=a(155),le=a.n(ce),se=(a(215),function(e){var t=new le.a.Converter({tables:!0}).makeHtml(e.source);return r.a.createElement("div",{className:"markdown-body"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}}))}),ue=function(e){var t=[{key:"one",value:r.a.createElement("div",{className:"select-palette one"})},{key:"two",value:r.a.createElement("div",{className:"select-palette two"})},{key:"three",value:r.a.createElement("div",{className:"select-palette three"})},{key:"four",value:r.a.createElement("div",{className:"select-palette four"})},{key:"five",value:r.a.createElement("div",{className:"select-palette five"})},{key:"six",value:r.a.createElement("div",{className:"select-palette six"})}],a=Object(n.useState)(!1),i=Object(T.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)(!0),s=Object(T.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(""),f=Object(T.a)(d,2),h=(f[0],f[1],[]);return e.note.tags&&e.note.tags.split(" ").map((function(e){h.push(r.a.createElement("div",{key:e,className:"tag"},e))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{visible:o,toggleVisibility:function(){return c(!o)},action:function(){e.deleteNote(e.note._id||e.note.id)},text:"Are you sure, you want to delete the bookmark?"}),!e.editNote&&r.a.createElement("div",{className:"noteitem"},r.a.createElement("div",{className:"notebook"},r.a.createElement("i",{className:"material-icons"},"insert_drive_file"),e.note.notebook),r.a.createElement("div",{className:"typography-3 space-bottom-1"},e.note.title),h,r.a.createElement("div",{className:"space-bottom-2"}),r.a.createElement(W,{action:function(){return e.setEditNote(!0)},theme:"secondary",variant:"animate in",align:"left"},r.a.createElement("i",{className:"material-icons"},"edit"),"Edit"),r.a.createElement(W,{action:function(){return c(!o)},theme:"secondary",variant:"animate in",align:"right"},r.a.createElement("i",{className:"material-icons"},"delete"),"Delete"),r.a.createElement(se,{source:e.note.content})),e.editNote&&r.a.createElement("div",{className:"noteitem"},r.a.createElement("div",{className:"typography-3 space-bottom-1"},e.note.title),r.a.createElement(W,{action:function(){var t=e.note.notebook;"<create new>"===t&&(t=e.note.newNotebook),e.saveNote(e.note,!0)},theme:"primary",variant:"animate in",align:"left"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"),r.a.createElement(W,{action:function(){return e.setEditNote(!0)},theme:"default",variant:"outline",align:"center"},r.a.createElement("i",{className:"material-icons"},"refresh"),"Undo All"),r.a.createElement(W,{action:function(){return e.setEditNote(!1)},theme:"default",variant:"outline",align:"center"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),!u&&r.a.createElement(W,{action:function(){return m(!u)},theme:"default",variant:"outline",align:"right"},r.a.createElement("i",{className:"material-icons"},"visibility"),"Show Preview"),u&&r.a.createElement(W,{action:m(!u),theme:"default",variant:"outline",align:"right"},r.a.createElement("i",{className:"material-icons"},"visibility_off"),"Hide Preview"),r.a.createElement("div",null,r.a.createElement(ee,{width:"width-25",label:"Flag",data:e.note,id:"flag",handleChange:function(t){return e.handleChange(t)},objects:t})),r.a.createElement("div",null,r.a.createElement(ee,{label:"Notebook",data:e.note,id:"notebook",handleChange:function(t){return e.handleChange(t)},elements:e.notebooks,firstAction:"<create new>"})),r.a.createElement("div",null,"<create new>"===e.note.notebook&&r.a.createElement(Z,{label:"Notebook name",data:e.note,id:"newNotebook",handleChange:function(t){return e.handleChange(t)}})),r.a.createElement(Z,{label:"Title",data:e.note,id:"title",handleChange:function(t){return e.handleChange(t)}}),r.a.createElement(Z,{label:"Tags (separated by blank spaces)",data:e.note,id:"tags",handleChange:function(t){return e.handleChange(t)}}),u&&r.a.createElement("div",{className:"edit-note-view"},r.a.createElement("div",null,r.a.createElement(Z,{label:"Content (Markdown / HTML / Plaintext)",data:e.note,id:"content",multiline:!0,handleChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",null,r.a.createElement("div",{className:"typography-5 space-bottom-1"},"Preview"),r.a.createElement(se,{source:e.note.content}))),!u&&r.a.createElement(Z,{label:"Content (Markdown / HTML / Plaintext)",data:e.note,id:"content",multiline:!0,handleChange:function(t){return e.handleChange(t)}}),r.a.createElement("div",{className:"space-top-2"})))},me=(a(216),function(e){var t=r.a.createElement("i",{className:"material-icons"},e.icon);return r.a.createElement("div",{className:"action-button"},e.leftLabel&&e.rightLabel&&r.a.createElement("button",{type:"button",className:"left ".concat(e.type),onClick:e.leftAction},e.icon&&t,e.leftLabel),e.leftLabel&&e.rightLabel&&r.a.createElement("button",{type:"button",className:"right ".concat(e.type),onClick:e.rightAction},e.icon&&t,e.rightLabel),e.leftLabel&&!e.rightLabel&&r.a.createElement("button",{type:"button",className:"center ".concat(e.type),onClick:e.leftAction},e.icon&&t,e.leftLabel))}),de=a(217),fe=function(e){var t=[];return e.note.tags&&e.note.tags.split(" ").map((function(e){t.push(r.a.createElement(me,{leftLabel:e}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.selected?"notelink selected":"notelink",onClick:function(){e.selectNote(e.id)}},r.a.createElement("div",{className:"content"},e.note.flag&&r.a.createElement("div",{className:"flag-palette ".concat(e.note.flag)}),e.showTag&&r.a.createElement("div",{className:"notebook"},e.note.notebook),r.a.createElement("div",{className:"title"},e.note.title),r.a.createElement("div",{className:"space-bottom-0"}),"Artboard"!==e.note.type&&r.a.createElement("div",{className:"detail"},de(e.note.content.substring(0,100))),"Artboard"===e.note.type&&r.a.createElement("div",{className:"detail-artboard"},r.a.createElement("i",{className:"material-icons"},"tv")))),r.a.createElement("div",{className:"separator"}))},he=[{key:"createdAt",value:"created"},{key:"lastModifiedAt",value:"last modified"},{key:"notebook",value:"notebook"},{key:"title",value:"note name"}],ve=["ascending","descending"],pe={id:void 0,type:"Notebook",title:"",content:"",tags:"",notebook:"",newNotebook:""},Ee=function(e){var t,a,i,o=Object(n.useState)(!1),c=Object(T.a)(o,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(T.a)(u,2),d=m[0],f=m[1],h={addNew:[{label:"New Note",action:function(){return v()},icon:"note_add"},{label:"New Whiteboard",action:function(){return v()},icon:"tv"}]};function v(){e.selectNote(pe),s(!0)}function p(){s(!l)}return Object(n.useEffect)((function(){var e=S().subscribe((function(e){"note"===e.name&&e.signal&&(_("notification",!0,{type:"success",message:"".concat("note"," ").concat(e.data.action),duration:5e3}),"created"===e.data.action?p():"updated"===e.data.action&&f(!1))}));return function(){return e.unsubscribe()}})),r.a.createElement("div",{className:"notes"},r.a.createElement(q,{visible:l,toggleVisibility:p},r.a.createElement("div",{className:"dialog-body"},r.a.createElement("div",null,r.a.createElement(ee,{label:"Notebook",theme:"default",data:e.note,id:"notebook",handleChange:function(t){return e.handleNoteDataChange(t)},elements:e.notebooks,firstAction:"<create new>"})),r.a.createElement("div",null,"<create new>"===e.note.notebook&&r.a.createElement(Z,{label:"Notebook name",data:e.note,id:"newNotebook",handleChange:function(t){return e.handleNoteDataChange(t)}})),r.a.createElement("div",null,r.a.createElement(Z,{label:"Title",data:e.note,id:"title",handleChange:function(t){return e.handleNoteDataChange(t)}})),r.a.createElement("div",null,r.a.createElement(Z,{label:"Tags (separated by blank spaces)",data:e.note,id:"tags",handleChange:function(t){return e.handleNoteDataChange(t)}})),r.a.createElement("div",null,r.a.createElement(Z,{label:"Content (Markdown / HTML / Plaintext)",data:e.note,id:"content",multiline:!0,handleChange:function(t){return e.handleNoteDataChange(t)}}))),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement(W,{action:p,theme:"default",variant:"outline",align:"left"},r.a.createElement("i",{className:"material-icons"},"close"),"Cancel"),r.a.createElement(W,{action:e.saveNote,theme:"primary",variant:"animate in",align:"right"},r.a.createElement("i",{className:"material-icons"},"double_arrow"),"Save"))),r.a.createElement(J,null,r.a.createElement(Q,{main:!0},((null===(t=e.note)||void 0===t?void 0:t._id)||(null===(a=e.note)||void 0===a?void 0:a.id))&&r.a.createElement(ue,{note:e.note,saveNote:e.saveNote,editNote:d,setEditNote:f,deleteNote:e.deleteNote,notebooks:e.notebooks,handleChange:function(t){return e.handleNoteDataChange(t)}})),r.a.createElement(Q,{side:!0},r.a.createElement("div",{className:"filter-container"},r.a.createElement("div",{className:"section-main"},r.a.createElement(X,{label:"Add New",elements:h.addNew,icon:"add",animate:!0}),r.a.createElement(X,{label:"Search",icon:"search",animate:!0,number:e.searchPref.filtered?e.searchResults.length:void 0},r.a.createElement("div",{className:"space-top-1"}),r.a.createElement("form",{method:"GET",onSubmit:e.search,noValidate:!0},r.a.createElement("div",{className:"space-left-4 space-right-4"},r.a.createElement(Z,{label:"Keywords",id:"searchText",data:e.searchPref,handleChange:function(t){return e.handleSearchPrefDataChange(t)}}))),r.a.createElement("div",{className:"typography-5 space-top-2 space-left-4"},r.a.createElement(V.a,{checked:e.searchPref.title,onChange:function(){return e.toggleSearchPref("title")},inputProps:{"aria-label":"primary checkbox"}}),"Include title"),r.a.createElement("div",{className:"typography-5 space-top-2 space-left-4"},r.a.createElement(V.a,{checked:e.searchPref.tags,onChange:function(){return e.toggleSearchPref("tags")},inputProps:{"aria-label":"primary checkbox"}}),"Include tags"),r.a.createElement("div",{className:"typography-5 space-top-2 space-left-4"},r.a.createElement(V.a,{checked:e.searchPref.content,onChange:function(){return e.toggleSearchPref("content")},inputProps:{"aria-label":"primary checkbox"}}),"Include Content"),e.searchPref.filtered&&r.a.createElement("div",{className:"typography-4 space-top-2"},"Found ",e.searchResults.length," notes matching the search criteria"),r.a.createElement("div",{className:"actionbar-2 space-top-2 space-bottom-2"},r.a.createElement("div",null,r.a.createElement(W,{action:e.clearSearch,theme:"default",variant:"animate none"},"Clear")),r.a.createElement("div",null,r.a.createElement(W,{action:e.search,theme:"default",variant:"animate in"},"Search")))),r.a.createElement(X,{label:e.searchPref.filtered?"Search results":"All Notes",icon:"notes",number:e.view.length},r.a.createElement("div",{className:"filter-bar"},e.searchResults.length>1&&r.a.createElement("div",null,r.a.createElement(ee,{label:"Notebook",data:e.filterPref,id:"notebookFilter",handleChange:function(t){return e.handleFilterPrefDataChange(t)},elements:e.filterPref.notebookList,first:"all notebooks"})),1===e.searchResults.length&&r.a.createElement("div",null,r.a.createElement(ee,{label:"Notebook",data:e.filterPref,id:"notebookFilter",handleChange:function(t){return e.handleFilterPrefDataChange(t)},elements:e.filterPref.notebookList})),r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement(ee,{label:"Sort by",data:e.filterPref,id:"sortBy",handleChange:function(t){return e.handleFilterPrefDataChange(t)},objects:he})),r.a.createElement("div",null,r.a.createElement(ee,{label:"Sort Order",data:e.filterPref,id:"sortOrder",handleChange:function(t){return e.handleFilterPrefDataChange(t)},elements:ve}))),null===(i=e.view)||void 0===i?void 0:i.map((function(t){var a,n;return r.a.createElement("div",{key:t._id?t._id:t.id},r.a.createElement(fe,{selected:!((null===(a=e.note)||void 0===a?void 0:a._id)!==t._id&&(null===(n=e.note)||void 0===n?void 0:n.id)!==t._id),id:t._id,note:t,selectNote:function(){return function(t){e.selectNote(t),_("sidebar",!1)}(t)},showTag:!0}))}))))))))},be=a(58),ge=Object(l.b)((function(e){return{note:e.note}}),{fetchNote:oe,saveNote:function(e,t){return function(a){t._id&&(t.id=t._id,t._id=void 0),M(K.API_URL_NOTE,t,{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(){_("note",!0,{action:t.id?"updated":"created"}),a(oe(e))})).catch((function(e){401===e.response.status&&_("session expired")}))}},deleteNote:function(e,t){return function(a){H("".concat(K.API_URL_NOTE,"/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(t){201===t.status&&(_("note",!0,{action:"deleted"}),a(oe(e)))})).catch((function(e){401===e.response.status&&_("session expired")}))}}})((function(e){var t={_id:void 0,id:void 0,type:"Notebook",title:"",content:"",tags:"",notebook:"",newNotebook:""},a=Object(n.useState)(t),i=Object(T.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)({title:!0,tags:!0,content:!0,searchText:"",filtered:!1,filterActivator:!1}),s=Object(T.a)(l,2),u=s[0],d=s[1],f=Object(n.useState)({notebookFilter:"all notebooks",notebookList:Object(ie.a)(new Set),sortBy:"lastModifiedAt",sortOrder:"descending",filtered:!1,filterActivator:!1}),h=Object(T.a)(f,2),v=h[0],p=h[1],E=Object(n.useState)(!0),b=Object(T.a)(E,2),g=b[0],N=b[1],k=Object(n.useState)([]),y=Object(T.a)(k,2),w=y[0],O=y[1],j=Object(n.useState)([]),P=Object(T.a)(j,2),A=P[0],C=P[1],S=Object(n.useState)([]),z=Object(T.a)(S,2),L=z[0],U=z[1];Object(n.useEffect)((function(){if(e.location.search){var t=be.parse(e.location.search);t&&t.q&&(t.q.startsWith("tags")&&d(Object(m.a)({},u,{title:!1,tags:!0,content:!1})),d(Object(m.a)({},u,{searchText:t.q,filterActivator:!u.filterActivator})))}}),[e.location.search]),Object(n.useEffect)((function(){var t;g&&(null===(t=e.authorization)||void 0===t?void 0:t.isAuth)&&(e.fetchNote(e.authorization),N(!1))}),[e.authorization]),Object(n.useEffect)((function(){var t,a;d(Object(m.a)({},u,{filterActivator:!u.filterActivator}));var n=[];null===(t=e.note)||void 0===t||null===(a=t.items)||void 0===a||a.map((function(e){return n.push(e.notebook)})),U(Array.from(new Set(n)))}),[e.note]),Object(n.useEffect)((function(){B()}),[u.filterActivator]),Object(n.useEffect)((function(){F()}),[v.filterActivator]);var B=function(t){var a,n,r;if(t&&t.preventDefault(),R(u.searchText))return O(null===(r=e.note)||void 0===r?void 0:r.items),d(Object(m.a)({},u,{filtered:!1})),void p(Object(m.a)({},v,{filterActivator:!v.filterActivator}));O(null===(a=e.note)||void 0===a?void 0:null===(n=a.items)||void 0===n?void 0:n.filter((function(e){return!(!u.title||!I(e.title,u.searchText))||(!(!u.tags||!I(e.tags,u.searchText))||void 0)}))),d(Object(m.a)({},u,{filtered:!0})),p(Object(m.a)({},v,{filterActivator:!v.filterActivator})),_("sidebar",!1)},F=function(){var e,t,a,n=[],r=[];if(w.map((function(e){(R(v.notebookFilter)||"all notebooks"===v.notebookFilter||e.notebook===v.notebookFilter)&&r.push(e),n.push(e.notebook)})),e=r,t=v.sortBy,a="descending"===v.sortOrder,(r=e.sort((function(e,n){return a?e[t]>n[t]?-1:e[t]<n[t]?1:0:e[t]<n[t]?-1:e[t]>n[t]?1:0}))).length>0){var i=!1;r.map((function(e){e._id!==o.id&&e._id!==o._id||(i=!0)})),i||c(w[0])}p(Object(m.a)({},v,{notebookList:Array.from(new Set(n)),filtered:!0})),C(r)};return r.a.createElement(Ee,{view:A,notebooks:L,searchResults:w,note:o,handleNoteDataChange:function(e){c(Object(m.a)({},o,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))},selectNote:function(e){c(e)},deleteNote:function(t){e.deleteNote(e.authorization,t)},saveNote:function(){o?R(o.notebook)||"<create new>"===o.notebook&&R(o.newNotebook)?_("notification",!0,{type:"failure",message:"Notebook not chosen",duration:5e3}):R(o.title)?_("notification",!0,{type:"failure",message:"Note name / title missing",duration:5e3}):(R(o.tags)&&(o.tags="unsorted"),"<create new>"===o.notebook&&(o.notebook=o.newNotebook),e.saveNote(e.authorization,o)):_("notification",!0,{type:"failure",message:"Unknown error",duration:5e3})},searchPref:u,handleSearchPrefDataChange:function(e){d(Object(m.a)({},u,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))},toggleSearchPref:function(e){d(Object(m.a)({},u,Object(x.a)({},e,!u[e])))},clearSearch:function(){var t;C(null===(t=e.note)||void 0===t?void 0:t.items),N(!1),d(Object(m.a)({},u,{searchText:"",filterActivator:!u.filterActivator})),_("sidebar",!1)},filterPref:v,handleFilterPrefDataChange:function(e){var t;p(Object(m.a)({},v,(t={},Object(x.a)(t,e.currentTarget.name,e.currentTarget.value),Object(x.a)(t,"filterActivator",!v.filterActivator),t)))},search:B})})),Ne=function(){return function(e){e({type:"GET_AUTH"})}},ke=function(e){return function(t){t({type:"ADD_AUTH",payload:e})}},ye=function(){return function(e){e({type:"REMOVE_AUTH"})}},we=(a(110),a(97)),Oe=a.n(we),je=a(98),Pe=a.n(je);function Ae(e){return F(K.API_URL_PRESIGNIN+e,null).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.resolve(e.response)}))}function Ce(e,t){try{var a=(n=e.password,r=JSON.stringify(t),Oe.a.decrypt(n,r));return D(K.API_URL_SIGNIN,{email:e.email,solution:a},null).then((function(e){return Promise.resolve(e)}))}catch(i){return"ccm: tag doesn't match"===i.message?Promise.resolve({status:401}):Promise.resolve(i)}var n,r}function _e(e,t,a){var n={cipher:"aes",iter:"12000",ks:256,salt:Pe.a.enc.Base64.stringify(Pe.a.enc.Utf8.parse(a))};return Oe.a.encrypt(e,t,n)}var Se=a(58),ze=Object(l.b)((function(e){return{authorization:e.authorization}}),{getAuth:Ne,addAuth:ke,removeAuth:ye})(Object(c.b)((function(e){var t=Object(n.useState)({newuser:!1,name:"",email:"",password:"",resetCode:""}),a=Object(T.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){if(e.location.search){var t=Se.parse(e.location.search);t&&"signup"===t.type&&o(Object(m.a)({},i,{newuser:!0}))}}),[]);var c=function(e){e.preventDefault(),_("notification",!1),_("spinner"),i.email&&i.password?Ae(i.email).then((function(e){200===e.status?Ce({email:i.email,password:i.password},e.data).then((function(e){200===e.status?(_("notification",!0,{message:"Signed In successfully",type:"success",duration:3e3}),f(e.data)):401===e.status?_("notification",!0,{message:"Incorrect passphrase",type:"failure",duration:3e3}):_("notification",!0,{message:"Unknown response from server. Please try again or at a later time",type:"failure",duration:3e3})})).catch((function(e){_("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})})):404===e.status&&_("notification",!0,{message:"User name does not exist",type:"failure",duration:3e3})})):_("notification",!0,{type:"failure",message:"Username/password cannot be empty",duration:3e3})},l=function(e){if(e.preventDefault(),_("notification",!1),_("spinner"),i.name&&i.password&&i.email){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i.email))return void _("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3});F(K.API_URL_PRESIGNUP,null).then((function(e){return Promise.resolve(e)})).then((function(e){200===e.status&&function(e){return D(K.API_URL_SIGNUP,{name:e.name,email:e.email,problem:_e(e.password,e.solution,e.salt),solution:e.solution},null).then((function(e){return Promise.resolve(e.status)}))}({name:i.name,password:i.password,email:i.email,solution:e.data.solution,salt:e.data.salt}).then((function(e){200===e&&(_("notification",!0,{type:"success",message:"Your account has been created. You can login now",duration:3e3}),o(Object(m.a)({},i,{newuser:!i.newuser})))}))}))}else i.name?i.email?i.password||_("notification",!0,{type:"failure",message:"Password cannot be empty",duration:3e3}):_("notification",!0,{type:"failure",message:"Email cannot be empty",duration:3e3}):_("notification",!0,{type:"failure",message:"Name cannot be empty",duration:3e3})},s=function(e){var t=1+99*Math.random();(function(e,t){return D(K.API_URL_CODE,e,null).then((function(e){return Promise.resolve(e.status)}))})({email:i.email,resetCode:t}).then((function(t){200===t?"password"===e&&_("notification",!0,{message:"Password sent successfully",type:"success",duration:3e3}):_("notification",!0,{type:"failure",message:"Invalid Email error",duration:3e3})})).catch((function(e){_("notification",!0,{type:"failure",message:"Bad request",duration:3e3})}))},u=function(e){o(Object(m.a)({},i,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))},d=function(){o(Object(m.a)({},i,{newuser:!i.newuser}))},f=function(t){e.addAuth({isAuth:!0,token:t.token,secret:t.secret,name:t.name}),_("loggedin",!0),e.cookies.set("isAuth",!0),e.cookies.set("token",t.token),e.cookies.set("secret",t.secret),e.cookies.set("name",t.name),e.cookies.set("email",t.email),e.history.push("/bookmarks")};return r.a.createElement("div",{className:"login"},!i.newuser&&r.a.createElement("div",{className:"container"},r.a.createElement("form",{method:"GET",onSubmit:c,noValidate:!0},r.a.createElement("h1",null,"Log In"),r.a.createElement("div",{className:"form"},r.a.createElement(Z,{label:"Username/e-mail",id:"email",data:i,handleChange:function(e){return u(e)}}),r.a.createElement(Z,{label:"Password",id:"password",type:"password",data:i,handleChange:function(e){return u(e)}})),r.a.createElement("br",null),r.a.createElement(W,{theme:"primary",variant:"animate in",action:c},"Sign In"),r.a.createElement("br",null),r.a.createElement("br",null),"Don't have an account? \xa0"," ",r.a.createElement(W,{theme:"secondary",variant:"outline",action:d},"Sign Up"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(W,{action:function(){R(i.email)?_("notification",!0,{message:"Email cannot be empty",type:"failure",duration:5e3}):s("password")}},"Forgot password ?")),i.newuser&&r.a.createElement("div",{className:"container"},r.a.createElement("form",{method:"GET",onSubmit:l,noValidate:!0},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("div",{className:"form"},r.a.createElement(Z,{label:"Name",id:"name",data:i,handleChange:function(e){return u(e)}}),r.a.createElement(Z,{label:"Email / User Name",id:"email",data:i,handleChange:function(e){return u(e)}}),r.a.createElement(Z,{label:"Password",id:"password",type:"password",data:i,handleChange:function(e){return u(e)}})),r.a.createElement("br",null),r.a.createElement(W,{theme:"primary",variant:"animate in",action:l},"Create account"),r.a.createElement("br",null),r.a.createElement("br",null),"Already have a account? \xa0"," ",r.a.createElement(W,{theme:"secondary",variant:"outline",action:d},"Sign In"))))}))),xe=Object(l.b)((function(e){return{authorization:e.authorization}}),{getAuth:Ne})((function(e){return Object(n.useEffect)((function(){e.getAuth()}),[e.authorization.isAuth]),r.a.createElement(r.a.Fragment,null,e.authorization.isAuth&&r.a.createElement(g.Route,{path:e.path,render:e.render}))})),Te=Object(l.b)((function(e){return{authorization:e.authorization}}),{getAuth:Ne,addAuth:ke,removeAuth:ye})(Object(c.b)((function(e){return Object(n.useEffect)((function(){!e.authorization.isAuth&&e.cookies.get("isAuth")&&e.addAuth({isAuth:!0,token:e.cookies.get("token"),secret:e.cookies.get("secret"),name:e.cookies.get("name")}),e.getAuth()}),[e.authorization.isAuth]),r.a.createElement(r.a.Fragment,null)}))),Re=function(){return function(e){e({type:"GET_PROFILE"})}},Ie=function(e){return function(t){t({type:"SET_PROFILE",payload:e})}},Le=function(){var e=Object(n.useState)(""),t=Object(T.a)(e,2),a=t[0],i=t[1];return Object(n.useEffect)((function(){var e=S().subscribe((function(e){"dialog"===e.name&&(e.signal?i("backdrop-fade"):i(""))}));return function(){return e.unsubscribe()}}),[]),r.a.createElement("div",{className:a})},Ue=(a(324),function(){var e=Object(n.useState)(!1),t=Object(T.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)({type:void 0,message:void 0}),c=Object(T.a)(o,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){var e=S().subscribe((function(e){"notification"===e.name&&(e.signal?(s(e.data),i(!1),e.data&&e.data.duration&&setTimeout((function(){_("notification",!1)}),e.data.duration)):s({type:void 0,message:void 0})),"spinner"===e.name&&i(e.signal)}));return function(){return e.unsubscribe()}}),[]),r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{className:"notification ".concat(null===l||void 0===l?void 0:l.type)},r.a.createElement("div",{className:"message"},null===l||void 0===l?void 0:l.message)),a&&r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),Be=(a(65),a(69)),Fe=a.n(Be),De=a(70),Me=a.n(De),He=function(e){return r.a.createElement("div",{className:"links"},e.authorization.isAuth&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{to:"/bookmarks",className:"navitem",activeClassName:"active"},"Bookmarks"),r.a.createElement(w.a,{to:"/notes",className:"navitem",activeClassName:"active"},"Notes"),r.a.createElement(w.a,{to:"/settings",className:"navitem",activeClassName:"active"},"Settings"),r.a.createElement(w.a,{to:"/help",className:"navitem",activeClassName:"active"},"Help")))},Ke=function(e){return Object(n.useEffect)((function(){e.getProfile()}),[]),r.a.createElement("div",{className:e.transparent?"navbar desktop transparent":"navbar desktop"},r.a.createElement("div",{className:"left"},!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:Me.a,alt:"Curate logo"}),(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:Fe.a,alt:"Curate logo"}),r.a.createElement(He,{authorization:e.authorization,profile:e.profile})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"action"},e.authorization.isAuth&&r.a.createElement(W,{theme:"default",variant:"outline",small:!0,action:e.toggleSettings},r.a.createElement("i",{className:"material-icons"},"brush"),"Appearance"),e.authorization.isAuth&&r.a.createElement(W,{theme:"default",variant:"outline",small:!0,action:e.logout()},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!e.authorization.isAuth&&r.a.createElement(W,{theme:"default",variant:"outline",small:!0,action:function(){return e.login("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!e.authorization.isAuth&&r.a.createElement(W,{theme:"default",variant:"outline",small:!0,action:function(){return e.login("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))))},Ge=function(e){var t=Object(n.useState)(!1),a=Object(T.a)(t,2),i=a[0],o=a[1];return Object(n.useEffect)((function(){e.getProfile()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.transparent?"navbar mobile transparent":"navbar mobile"},r.a.createElement("div",{className:"left"},!e.transparent&&"theme_light"===e.profile.theme&&r.a.createElement("img",{className:"logo",src:Me.a,alt:"Curate logo"}),(e.transparent||"theme_dark"===e.profile.theme)&&r.a.createElement("img",{className:"logo",src:Fe.a,alt:"Curate logo"})),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:i?"menu active":"menu",onClick:function(){return o(!i)}},r.a.createElement("div",null)))),r.a.createElement("div",{className:i?"slider show":"slider hide",onClick:function(){return o(!i)}},r.a.createElement("div",{className:i?"container":"container hidetext",onClick:function(){return o(!i)}},r.a.createElement("div",{className:"action"},r.a.createElement("div",{className:"settings-icon",onClick:e.toggleSettings},e.authorization.isAuth&&r.a.createElement(W,{theme:"default",variant:"outline",small:!0,action:e.toggleSettings},r.a.createElement("i",{className:"material-icons"},"brush"),"Appearance")),r.a.createElement("div",{className:"buttons"},e.authorization.isAuth&&r.a.createElement(W,{theme:"default",variant:"outline",small:!0,action:e.logout()},r.a.createElement("i",{className:"material-icons"},"power_settings_new"),"Logout"),!e.authorization.isAuth&&r.a.createElement(W,{theme:"secondary",variant:"animate none",small:!0,action:function(){return e.login("signin")}},r.a.createElement("i",{className:"material-icons"},"person"),"Login"),!e.authorization.isAuth&&r.a.createElement(W,{theme:"secondary",variant:"animate none",small:!0,action:function(){return e.login("signup")}},r.a.createElement("i",{className:"material-icons"},"person_add"),"Signup"))),r.a.createElement(He,{authorization:e.authorization,profile:e.profile}))))},Ve=Object(l.b)((function(e){return{profile:e.profile}}),{getProfile:Re,setProfile:Ie,reloadProfile:function(e){return function(t){F(K.API_URL_PREFERENCES,{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){t({type:"SET_PROFILE",payload:e.data})}))}}})(Object(c.b)(Object(g.withRouter)((function(e){var t=Object(n.useState)({visible:!1,mobilemenu:"hide",chooseTheme:!1,showSettings:!1,transparentNavBar:!1,firstLoad:!0}),a=Object(T.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){e.getProfile()}),[]),Object(n.useEffect)((function(){var t=S().subscribe((function(t){"navbar-transparency"===t.name&&o(Object(m.a)({},i,{transparentNavBar:t.signal})),"loggedin"===t.name&&(e.reloadProfile(e.authorization),o(Object(m.a)({},i,{firstLoad:!1}))),"loggedout"===t.name&&e.history.push("/home")}));return function(){return t.unsubscribe()}})),Object(n.useEffect)((function(){var t;i.firstLoad&&(null===(t=e.authorization)||void 0===t?void 0:t.isAuth)&&(e.reloadProfile(e.authorization),o(Object(m.a)({},i,{firstLoad:!1})))}),[e.authorization]);var c=function(t){e.setProfile(Object(m.a)({},e.profile,{textSize:t}))},l=function(t){e.setProfile(Object(m.a)({},e.profile,{themeColor:t}))},s=function(t){e.history.push("/login?type=".concat(t))},u=function(){o(Object(m.a)({},i,{showSettings:!i.showSettings}))};return r.a.createElement("div",{className:"nav"},r.a.createElement(Ke,Object.assign({},e,{logout:function(){return e.logout()},login:s,toggleSettings:function(){return u()},transparent:i.transparentNavBar})),r.a.createElement(Ge,Object.assign({},e,{logout:function(){return e.logout()},login:s,toggleSettings:function(){return u()},transparent:i.transparentNavBar})),r.a.createElement(q,{visible:i.showSettings,toggleVisibility:function(){return u()}},r.a.createElement("div",{className:"dialog-body"},r.a.createElement("div",{className:"settings"},r.a.createElement("div",null,"Dark mode"),r.a.createElement("div",null,r.a.createElement(V.a,{checked:"theme_dark"===e.profile.theme,onChange:function(){"theme_dark"===e.profile.theme?e.setProfile(Object(m.a)({},e.profile,{theme:"theme_light"})):e.setProfile(Object(m.a)({},e.profile,{theme:"theme_dark"}))},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("div",null,"Text Size"),r.a.createElement("div",null,r.a.createElement("div",{className:"text-size size-1 space-right-1 ".concat("textsize_tiny"===e.profile.textSize?"active":""),onClick:function(){return c("textsize_tiny")}},"Az"),r.a.createElement("div",{className:"text-size size-2 space-right-1 ".concat("textsize_small"===e.profile.textSize?"active":""),onClick:function(){return c("textsize_small")}},"Az"),r.a.createElement("div",{className:"text-size size-3 space-right-1 ".concat("textsize_medium"===e.profile.textSize?"active":""),onClick:function(){return c("textsize_medium")}},"Az"),r.a.createElement("div",{className:"text-size size-4 ".concat("textsize_large"===e.profile.textSize?"active":""),onClick:function(){return c("textsize_large")}},"Az")),r.a.createElement("div",{className:"typography-5"},"Color Scheme"),r.a.createElement("div",null,r.a.createElement("div",{className:"theme-color color-1",onClick:function(){return l("themecolor1")}},r.a.createElement("i",{className:"material-icons"},"themecolor1"===e.profile.themeColor&&"check")),r.a.createElement("div",{className:"theme-color color-2",onClick:function(){return l("themecolor2")}},r.a.createElement("i",{className:"material-icons"},"themecolor2"===e.profile.themeColor&&"check")),r.a.createElement("div",{className:"theme-color color-3",onClick:function(){return l("themecolor3")}},r.a.createElement("i",{className:"material-icons"},"themecolor3"===e.profile.themeColor&&"check")),r.a.createElement("div",{className:"theme-color color-4",onClick:function(){return l("themecolor4")}},r.a.createElement("i",{className:"material-icons"},"themecolor4"===e.profile.themeColor&&"check"))))),r.a.createElement("div",{className:"dialog-footer"},r.a.createElement(W,{theme:"primary",variant:"animate none",action:function(){return u()}},"Close"))))})))),qe=(a(48),function(e,t){return D(K.API_URL_BOOKMARK_IMPORT,e,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return Promise.resolve(e)}))}),We=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3"},"Import Bookmarks"),r.a.createElement("div",{className:"space-top-2"},r.a.createElement("label",{htmlFor:"import_bookmark",className:"file-upload"},r.a.createElement("input",{id:"import_bookmark",type:"file",name:"file",onChange:function(t){t.preventDefault();var a=new FileReader;_("spinner"),a.onload=function(t){qe({content:t.target.result},e.authorization.token).then((function(e){_("notification",!0,{message:"Imported (".concat(e.data.length,") bookmarks successfully"),type:"success",duration:6e3})}))},a.readAsText(t.target.files[0]),t.target.value=""}}),"Import")))};var Ye=function(e){var t=function(t){var a,n;(a={email:e.email,content:t},n={headers:{Authorization:"Bearer ".concat(e.authorization.token)}},D(K.API_URL_MAIL,a,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return Promise.resolve(e.status)}))).then((function(e){200===e&&_("notification",!0,{message:"Check your mail for bookmark attachment",type:"success",duration:3e3})})).catch((function(e){_("notification",!0,{type:"failure",message:"Bad request",duration:3e3})}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3 space-top-4"},"Export Bookmarks"),r.a.createElement("div",{className:"space-top-2"},r.a.createElement(W,{theme:"secondary",variant:"animate in",action:function(){F(K.API_URL_BOOKMARK,{headers:{Authorization:"Bearer ".concat(e.authorization.token)}}).then((function(e){var a='<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>';e.data.map((function(e){var t="".concat('<DL><p><DT><A HREF="').concat(e.href,'">').concat(e.title,"</A>")+"</DL><p>";a+=t})),console.log(a),t(a)}))}},"Export")))},$e=function(e){var t=function(t){e.persistProfile(e.authorization,Object(m.a)({},e.profile,{textSize:t}))},a=function(t){e.persistProfile(e.authorization,Object(m.a)({},e.profile,{themeColor:t}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3 space-top-4"},"Appearance"),r.a.createElement("div",{className:"appearance"},r.a.createElement("div",{className:"typography-5"},"Dark mode"),r.a.createElement("div",null,r.a.createElement(V.a,{checked:"theme_dark"===e.profile.theme,onChange:function(){"theme_dark"===e.profile.theme?e.persistProfile(e.authorization,Object(m.a)({},e.profile,{theme:"theme_light"})):e.persistProfile(e.authorization,Object(m.a)({},e.profile,{theme:"theme_dark"}))},inputProps:{"aria-label":"primary checkbox"}})),r.a.createElement("div",{className:"typography-5 space-bottom-2"},"Text Size"),r.a.createElement("div",{className:" space-bottom-2"},r.a.createElement("div",{className:"text-size size-1 space-right-1 ".concat("textsize_tiny"===e.profile.textSize?"active":""),onClick:function(){return t("textsize_tiny")}},"Az"),r.a.createElement("div",{className:"text-size size-2 space-right-1 ".concat("textsize_small"===e.profile.textSize?"active":""),onClick:function(){return t("textsize_small")}},"Az"),r.a.createElement("div",{className:"text-size size-3 space-right-1 ".concat("textsize_medium"===e.profile.textSize?"active":""),onClick:function(){return t("textsize_medium")}},"Az"),r.a.createElement("div",{className:"text-size size-4 ".concat("textsize_large"===e.profile.textSize?"active":""),onClick:function(){return t("textsize_large")}},"Az")),r.a.createElement("div",{className:"typography-5"},"Color Scheme"),r.a.createElement("div",null,r.a.createElement("div",{className:"theme-color color-1",onClick:function(){return a("themecolor1")}},r.a.createElement("i",{className:"material-icons"},"themecolor1"===e.profile.themeColor&&"check")),r.a.createElement("div",{className:"theme-color color-2",onClick:function(){return a("themecolor2")}},r.a.createElement("i",{className:"material-icons"},"themecolor2"===e.profile.themeColor&&"check")),r.a.createElement("div",{className:"theme-color color-3",onClick:function(){return a("themecolor3")}},r.a.createElement("i",{className:"material-icons"},"themecolor3"===e.profile.themeColor&&"check")),r.a.createElement("div",{className:"theme-color color-4",onClick:function(){return a("themecolor4")}},r.a.createElement("i",{className:"material-icons"},"themecolor4"===e.profile.themeColor&&"check")))))},Je=Object(c.b)((function(e){var t=Object(n.useState)({name:"",email:""}),a=Object(T.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){o(Object(m.a)({},i,{name:e.cookies.get("name"),email:e.cookies.get("email")}))}),[]);var c=function(e){o(Object(m.a)({},i,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3 space-top-4"},"User Account"),r.a.createElement("div",null,r.a.createElement(Z,{label:"Name",data:i,id:"name",handleChange:function(e){return c(e)}})),r.a.createElement("div",null,r.a.createElement(Z,{label:"Email",data:i,id:"email",handleChange:function(e){return c(e)}})),r.a.createElement("div",null,r.a.createElement(W,{theme:"secondary",variant:"animate in",action:function(){R(i.name)?_("notification",!0,{message:"Name not provided",type:"failure",duration:5e3}):R(i.email)?_("notification",!0,{message:"Email not provided",type:"failure",duration:5e3}):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i.email)?e.updateUserDetailsImpl(i,"user"):_("notification",!0,{type:"failure",message:"Email ID is invalid",duration:3e3})}},"Update details")))})),Qe=function(e){var t=Object(n.useState)({oldPassword:"",newPassword:"",repeatPassword:""}),a=Object(T.a)(t,2),i=a[0],o=a[1],c=function(e){o(Object(m.a)({},i,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))},l=function(t){Ae(e.email).then((function(t){200===t.status&&Ce({email:e.email,password:i.oldPassword},t.data).then((function(t){200===t.status?e.updateUserDetailsImpl({password:i.newPassword},"password"):401===t.status?_("notification",!0,{message:"Incorrect passphrase",type:"failure",duration:3e3}):_("notification",!0,{message:"Unknown response from server. Please try again or at a later time",type:"failure",duration:3e3})})).catch((function(e){_("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"typography-3 space-top-4"},"Password"),r.a.createElement("div",null,r.a.createElement(Z,{type:"password",label:"Old Password",data:i,id:"oldPassword",handleChange:function(e){return c(e)}})),r.a.createElement("div",null,r.a.createElement(Z,{type:"password",label:"New Password",data:i,id:"newPassword",handleChange:function(e){return c(e)}})),r.a.createElement("div",null,r.a.createElement(Z,{type:"password",label:"Repeat New Password",data:i,id:"repeatPassword",handleChange:function(e){return c(e)}})),r.a.createElement("div",null,r.a.createElement(W,{theme:"secondary",variant:"animate in",action:function(){R(i.oldPassword)?_("notification",!0,{message:"Old password not provided",type:"failure",duration:5e3}):R(i.newPassword)||R(i.repeatPassword)?_("notification",!0,{message:"New password not provided",type:"failure",duration:5e3}):i.newPassword===i.repeatPassword?l("oldpassword"):_("notification",!0,{message:"New password not provided",type:"failure",duration:5e3})}},"Change Password")))},Xe=Object(l.b)((function(e){return{profile:e.profile}}),{getProfile:Re,setProfile:Ie,persistProfile:function(e,t){return function(a){M(K.API_URL_PREFERENCES,t,{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){a({type:"SET_PROFILE",payload:e.data})}))}}})(Object(c.b)((function(e){var t=Object(n.useState)(""),a=Object(T.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){o(e.cookies.get("email"))}),[]);var c=function(t,a){(function(e,t,a){return F(K.API_URL_PRESIGNUP,null).then((function(n){if(200===n.status){var r={};return r=a&&"password"===a?{problem:_e(e.password,n.data.solution,n.data.salt),solution:n.data.solution}:{name:e.name,email:e.email},M(K.API_URL_USER_DETAILS,r,{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return Promise.resolve(e)}))}}))})({name:null===t||void 0===t?void 0:t.name,email:null===t||void 0===t?void 0:t.email,password:null===t||void 0===t?void 0:t.password},e.authorization.token,a).then((function(n){201===n.status?"password"===a?_("notification",!0,{message:"Password updated successfully",type:"success",duration:3e3}):(e.cookies.set("name",null===t||void 0===t?void 0:t.name),e.cookies.set("email",null===t||void 0===t?void 0:t.email),_("notification",!0,{message:"User account updated successfully",type:"success",duration:3e3})):_("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})})).catch((function(e){_("notification",!0,{type:"failure",message:"Unknown error. Please try again or at a later time",duration:3e3})}))};return r.a.createElement("div",{className:"settings"},r.a.createElement(J,{sideLabel:"More options"},r.a.createElement(Q,{main:!0},r.a.createElement(We,{authorization:e.authorization}),r.a.createElement(Ye,{authorization:e.authorization,email:i}),r.a.createElement($e,{authorization:e.authorization,profile:e.profile,persistProfile:e.persistProfile}),r.a.createElement(Je,{authorization:e.authorization,updateUserDetailsImpl:c}),r.a.createElement(Qe,{authorization:e.authorization,updateUserDetailsImpl:c,email:i}))))}))),Ze=a(58),et=Object(l.b)((function(e){return{authorization:e.authorization}}),{getAuth:Ne,addAuth:ke,removeAuth:ye})((function(e){var t=Object(n.useState)({password:"",repeatPassword:"",resetCode:""}),a=Object(T.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){if(e.location.search){var t=Ze.parse(e.location.search);t.code?o(Object(m.a)({},i,{resetCode:t.code})):e.history.push("/home")}}));var c=function(e){o(Object(m.a)({},i,Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))},l=function(){R(i.password)?_("notification",!0,{message:"password not provided",type:"failure",duration:5e3}):R(i.repeatPassword)||R(i.repeatPassword)?_("notification",!0,{message:"Repeat password not provided",type:"failure",duration:5e3}):i.password===i.repeatPassword?s("password"):_("notification",!0,{message:"Password is not matching",type:"failure",duration:5e3})},s=function(e){(function(e,t){return F(K.API_URL_PRESIGNUP,null).then((function(a){if(200===a.status){var n={};return t&&"password"===t&&(n={problem:_e(e.password,a.data.solution,a.data.salt),solution:a.data.solution,resetCode:e.resetCode}),D(K.API_URL_RESET,n,null).then((function(e){return Promise.resolve(e.status)}))}}))})({password:i.password,resetCode:i.resetCode},e).then((function(t){200===t?"password"===e&&_("notification",!0,{message:"Password Changed successfully",type:"success",duration:3e3}):_("notification",!0,{type:"failure",message:"Invalid request",duration:3e3})})).catch((function(e){_("notification",!0,{type:"failure",message:"Bad request",duration:3e3})}))};return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"container"},r.a.createElement("form",{method:"GET",onSubmit:l,noValidate:!0},r.a.createElement("h1",null,"Reset password"),r.a.createElement("div",{className:"form"},r.a.createElement(Z,{label:"Password",id:"password",type:"password",data:i,handleChange:function(e){return c(e)}}),r.a.createElement(Z,{label:"Repeat Password",id:"repeatPassword",type:"password",data:i,handleChange:function(e){return c(e)}})),r.a.createElement("br",null),r.a.createElement(W,{theme:"primary",variant:"animate in",action:l},"Submit"))))})),tt={themecolor1:at("#69A7BF"),themecolor2:at("#99587B"),themecolor3:at("#A66C26"),themecolor4:at("#37AE82")};function at(e){return Object(k.a)({palette:{primary:{main:e},secondary:{main:e}}})}var nt=Object(l.b)((function(e){return{authorization:e.authorization,profile:e.profile}}),{getAuth:Ne,addAuth:ke,removeAuth:ye,getProfile:Re})(Object(c.b)((function(e){Object(n.useEffect)((function(){e.getProfile(),e.getAuth()}),[]),Object(n.useEffect)((function(){var e=S().subscribe((function(e){"session expired"===e.name&&t(null,"failure","Session expired. Login again")}));return function(){return e.unsubscribe()}}));var t=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"You have been logged out";e.removeAuth(),e.cookies.remove("isAuth"),e.cookies.remove("token"),e.cookies.remove("secret"),e.cookies.remove("name"),_("notification",!0,{type:a,message:n,duration:3e3}),_("loggedout",!0)};return r.a.createElement("div",{className:"App ".concat(e.profile.theme," ").concat(e.profile.textSize," ").concat(e.profile.themeColor)},r.a.createElement(N.HashRouter,null,r.a.createElement(Te,null),r.a.createElement(Le,null),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"body-content"},r.a.createElement(Ue,null),r.a.createElement(y.a,{theme:tt[e.profile.themeColor]},r.a.createElement(Ve,Object.assign({},e,{logout:function(){return t}})),r.a.createElement(g.Route,{exact:!0,path:"/",render:function(a){return r.a.createElement(z,Object.assign({},e,a,{logout:function(){return t}}))}}),r.a.createElement(g.Route,{path:"/home",render:function(a){return r.a.createElement(z,Object.assign({},e,a,{logout:function(){return t}}))}}),r.a.createElement(g.Route,{path:"/login",render:function(a){return r.a.createElement(ze,Object.assign({},e,a,{logout:function(){return t}}))}}),r.a.createElement(g.Route,{path:"/reset",render:function(a){return r.a.createElement(et,Object.assign({},e,a,{logout:function(){return t}}))}}),r.a.createElement(xe,{path:"/bookmarks",render:function(a){return r.a.createElement(re,Object.assign({},e,a,{logout:t}))}}),r.a.createElement(xe,{path:"/notes",render:function(a){return r.a.createElement(ge,Object.assign({},e,a,{logout:function(){return t}}))}}),r.a.createElement(g.Route,{path:"/settings",render:function(a){return r.a.createElement(Xe,Object.assign({},e,a,{logout:function(){return t}}))}}))))))}))),rt=function(e){return r.a.createElement(l.a,{store:b},r.a.createElement(nt,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,null,r.a.createElement(rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){e.exports=a.p+"static/media/curate_white.62b209a5.svg"},70:function(e,t,a){e.exports=a.p+"static/media/curate_black.de996ba5.svg"},74:function(e,t,a){},75:function(e,t,a){}},[[160,1,2]]]);
//# sourceMappingURL=main.551ecdcd.chunk.js.map