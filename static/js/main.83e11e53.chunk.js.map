{"version":3,"sources":["images/developers1.jpg","images/developers2.jpg","reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","components/Home/index.tsx","components/Bookmarks/Link.tsx","components/Constants.ts","components/Ux/OakDialog.tsx","components/Ux/OakButton.tsx","components/Ux/ViewResolver.tsx","components/Ux/View.tsx","components/Utils.ts","components/Ux/Sidebar.tsx","components/Lib/RestTemplate.ts","components/Ux/OakText.tsx","components/Bookmarks/index.tsx","components/Ux/Showdown.tsx","components/Ux/OakSelect.tsx","components/Notes/Note.tsx","components/Ux/ActionButton.tsx","components/Canvas/index.tsx","components/Notes/NoteRef.tsx","components/Notes/Artboard.tsx","components/Notes/index.tsx","actions/AuthActions.ts","components/Auth/AuthService.ts","components/Auth/Login.tsx","components/Auth/PrivateRoute.tsx","components/Auth/AuthInit.tsx","actions/ProfileActions.ts","components/App/Backdrop.tsx","components/Notification/index.tsx","components/Navigation/Links.tsx","components/Navigation/Desktop.tsx","components/Navigation/Mobile.tsx","components/Navigation/index.tsx","components/Settings/index.tsx","components/Bookmarks/BookmarkService.ts","components/Settings/SettingsService.ts","components/Auth/ResetPassword.tsx","components/App/Content.tsx","components/App/index.tsx","serviceWorker.ts","index.tsx","images/curate_white.svg","images/curate_black.svg"],"names":["module","exports","__webpack_require__","p","initialState","isAuth","token","secret","name","theme","textSize","themeColor","combineReducers","authorization","state","arguments","length","undefined","action","type","console","log","Object","objectSpread","payload","profile","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","subject","Subject","sendMessage","signal","data","next","receiveMessage","asObservable","Home","react_default","a","createElement","Fragment","className","react_router_dom","to","activeClassName","src","developers2","alt","developers1","React","Component","Link","edit","_this","props","editBookmark","bookmark","delete","deleteBookmark","id","_this2","this","tags","split","map","item","push","key","onClick","searchByTag","title","target","rel","href","createdAt","constants","API_URL_PRESIGNUP","API_URL_SIGNUP","API_URL_PRESIGNIN","API_URL_SIGNIN","API_URL_RESET","API_URL_CODE","API_URL_BOOKMARK","API_URL_BOOKMARK_IMPORT","API_URL_MAIL","API_URL_PREFERENCES","API_URL_USER_DETAILS","API_URL_NOTE","OakDialog","escFunction","event","keyCode","visible","toggleVisibility","getDialogStyle","style","small","fullscreen","nextProps","document","body","classList","add","remove","addEventListener","documentWidth","documentElement","clientWidth","scrollBarWidth","window","innerWidth","setProperty","removeEventListener","children","OakButton","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getStyle","variant","invert","align","menuActive","icon","ViewResolver","_isMounted","viewPort","matchMedia","viewPortChange","port","setState","mobileViewPort","matches","toggleSideView","showSide","views","initializeViews","addListener","subscribe","message","_this3","Children","toArray","forEach","node","main","side","_this4","Ux_OakButton","sideLabel","View","isEmptyOrSpaces","str","match","text","words","found","word","RegExp","Sidebar","toggle","show","label","hide","elements","number","animate","baseUrl","process","httpGet","endpoint","headers","axios","get","httpPost","post","httpPut","put","httpDelete","OakText","multiline","disabled","autoComplete","errorFields","value","onChange","handleChange","queryString","require","Bookmarks","toggleEditDialog","isEditDialogOpen","editDialogLabel","_id","bookmarkId","that","assertThisInitialized","Authorization","then","response","status","duration","initializeBookmarks","catch","error","logout","clearSearch","view","items","isFiltered","searchtext","tagName","searchPref","search","preventDefault","filter","toggleSearchPref","pref","defineProperty","addBookmark","currentTarget","firstLoad","content","sidebarElements","addNew","location","query","parse","q","startsWith","listview","Bookmarks_Link","components_Ux_OakDialog","Ux_OakText","e","components_Ux_ViewResolver","Ux_View","components_Ux_Sidebar","method","onSubmit","noValidate","Switch","checked","inputProps","aria-label","Showdown","html","showdown","Converter","tables","makeHtml","source","dangerouslySetInnerHTML","__html","OakSelect","changeSelection","newValue","width","dropdownList","objects","find","element","first","firstAction","Note","deleteNote","showEdit","editNote","note","notebook","flag","hideEdit","save","newNotebook","saveNote","togglepreview","preview","flags","Ux_Showdown","OakSelect_OakSelect","notebooks","ActionButton","isDown","origX","origY","stroke","leftLabel","rightLabel","leftAction","rightAction","removeMd","NoteRef","selectNote","Ux_ActionButton","selected","showTag","substring","Canvas","height","innerHeight","backgroundColor","attributes","refreshCanvas","canvas","mouseDown","mouseMove","mouseUp","fabric","isDrawingMode","loadFromDatalessJSON","freeDrawingBrush","color","renderAll","on","o","pointer","getPointer","x","y","Line","strokeWidth","set","left","Math","abs","top","JSON","stringify","Artboard","attributeChange","contentChange","Canvas_Canvas","Notes","sortTypes","created","last modified","note name","sortOrders","newNote","toggleAddDialog","newArtboard","toggleArtboardAddDialog","isAddDialogOpen","resetForm","existingNotebook","isArtboardAddDialogOpen","closeAllDialog","toggleFilter","showFilter","searchResults","selectedNoteId","notebookFilter","notebookList","toConsumableArray","Set","applyFilter","array","property","isReverseOrder","noteList","sortBy","sortOrder","sort","o1","o2","filteredNotebookList","noteId","initializeNotes","saveNoteEvent","saveArtboardEvent","handleNotebookFilterChange","existingNotebookList","noteview","Notes_Note","Notes_Artboard","listNoteRef","Notes_NoteRef","keys","getAuth","dispatch","addAuth","removeAuth","preSignin","email","Promise","resolve","signin","problem","solution","password","ciphertext","sjcl","decrypt","encrypt","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","Utf8","Login","success","signup","test","sentEmailWithCode","sentPasswordChangeEmail","rand","random","resetCode","cookies","history","newuser","connect","withCookies","PrivateRoute","react_router","path","render","AuthInit","getProfile","setProfile","Backdrop","backdrop","Notification","spinner","notification","setTimeout","Links","toggleMenu","menu","Desktop","login","showSettings","transparent","curate_black","curate_white","Navigation_Links","toggleSettings","Mobile","Navigation","toggleDarkMode","changeTextSize","size","changeThemeColor","mobilemenu","chooseTheme","transparentNavBar","reloadProfile","isAut","Navigation_Desktop","assign","Navigation_Mobile","withRouter","Settings","persistProfile","changePassword","oldPassword","newPassword","repeatPassword","checkOldPassword","updateUserDetailsImpl","updateUserDetails","newData","fileChoosen","reader","FileReader","onload","result","readAsText","files","exportBookmark","staticContent","i","htmlContent","sendExportEmail","ResetPassword","resetPassword","code","themes","themecolor_1","getTheme","themecolor_2","themecolor_3","themecolor_4","createMuiTheme","palette","primary","secondary","Content","react_router_dom_min","Auth_AuthInit","App_Backdrop","components_Notification","MuiThemeProvider","components_Navigation","exact","Home_Home","components_Auth_Login","Auth_ResetPassword","Auth_PrivateRoute","components_Bookmarks","components_Notes","components_Settings","App","es","App_Content","Boolean","hostname","ReactDOM","es6","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.83e11e53.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/developers1.b75ace5c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/developers2.cf83e454.jpg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    token: '',\r\n    secret: '',\r\n    name: ''\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_AUTH:\r\n            console.log('GET_AUTH reducer');\r\n            return {\r\n                ...state\r\n            };\r\n        case ADD_AUTH:\r\n            console.log('ADD_AUTH reducer');\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case REMOVE_AUTH:\r\n            console.log('REMOVE_AUTH reducer');\r\n            return {\r\n                ...state,\r\n                isAuth: false,\r\n                token: '',\r\n                secret: '',\r\n                name: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    theme: 'theme_dark',\r\n    textSize: 'textsize_medium',\r\n    themeColor: 'themecolor_1'\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_PROFILE:\r\n            console.log('GET_PROFILE reducer');\r\n            return {\r\n                ...state\r\n            };\r\n        case SET_PROFILE:\r\n            console.log('SET_PROFILE reducer');\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport AuthReducer from './AuthReducer';\r\nimport ProfileReducer from './ProfileReducer';\r\n\r\nexport default combineReducers({\r\n    authorization: AuthReducer,\r\n    profile: ProfileReducer\r\n})","export const GET_AUTH = 'GET_AUTH';\r\nexport const ADD_AUTH = 'ADD_AUTH';\r\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\r\n\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const SET_PROFILE = 'SET_PROFILE';","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers'\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    compose(\r\n        applyMiddleware(...middleware)//,\r\n        // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    )\r\n);\r\n\r\nexport default store;\r\n","import { Subject, Observable } from 'rxjs';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n    subject.next({\r\n        name: name,\r\n        signal: signal,\r\n        data: data\r\n    });\r\n}\r\n\r\nexport function clearMessages() {\r\n    subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n    return subject.asObservable();\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './style.scss';\r\nimport developers1 from '../../images/developers1.jpg';\r\nimport developers2 from '../../images/developers2.jpg';\r\n\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  setProfile: Function,\r\n  profile: Profile,\r\n  match: any,\r\n  logout: Function\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nexport default class Home extends React.Component<Props, State> {\r\n  componentWillMount() {\r\n    sendMessage('navbar-transparency');\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    sendMessage('navbar-transparency', false);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"home\">\r\n          <div className=\"section parallax bg1\" />\r\n          <div className=\"section static bg1 odd\">\r\n            <h3>A bookmarking app like never before</h3>\r\n            <p>Take your link to the web wherever you go, with the most secure bookmark and note taking app</p>\r\n            <br />\r\n            <p><NavLink to=\"/login\" className=\"navitem\" activeClassName=\"active\">Sign up</NavLink>&nbsp;for free</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg bg2\" />\r\n          <div className=\"section static bg2 even\">\r\n            <h3>Secure by design</h3>\r\n            <p>Designed with security as a primary factor from ground up</p>\r\n            <p>Your passwords never leaves your workstation</p>\r\n            <p>Our servers have zero knowledge about your password</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg3\" />\r\n          <div className=\"section static bg3 odd\">\r\n            <h3>Premium features</h3>\r\n            <p>Get premium features free for lifetime. We standby free software for all</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg4\" />\r\n          <div className=\"section static bg4 even\">\r\n            <h3>Don't mix up personal and business</h3>\r\n            <p>With the help of workspaces, you can now work in isolated containers</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg5\" />\r\n          <div className=\"section static bg5 odd\">\r\n            <h3>We love open source</h3>\r\n            <p>Our codebase is 100% available for the community to do peer review and audit for any security flaws</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg6\" />\r\n          <div className=\"section static bg6 even\">\r\n            <h3>Clean clutter free interface</h3>\r\n            <p>Modern interface with a clutter free design to keep you in focus on your activity</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg7\" />\r\n          <div className=\"section static bg7 odd\">\r\n            <h3>Travel to the future</h3>\r\n            <p>We are evolving for the future. More features on the way. You can watch our roadmap here</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg8\" />\r\n          <div className=\"section static developers bg8\">\r\n            <div className=\"headline\">Meet the creators</div>\r\n            <div className=\"container\">\r\n              <div className=\"contact\">\r\n                <img src={developers2} alt=\"Avatar\" />\r\n                <div className=\"name\">Amarandra Sahoo</div>\r\n                <div className=\"tag\">Backend implementation</div>\r\n                <div className=\"description\">\r\n                  <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"contact\">\r\n                <img src={developers1} alt=\"Avatar\" />\r\n                <div className=\"name\">Arun Kumar Selvaraj</div>\r\n                <div className=\"tag\">Frontend implementation</div>\r\n                <div className=\"description\">\r\n                  {/* <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p> */}\r\n                  <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n    editBookmark: Function,\r\n    deleteBookmark: Function,\r\n    searchByTag: Function,\r\n    bookmark: any,\r\n    id: string\r\n}\r\ninterface State {\r\n}\r\n\r\nclass Link extends Component<Props, State> {\r\n\r\n    edit = () => {\r\n        this.props.editBookmark(this.props.bookmark);\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteBookmark(this.props.id);\r\n    }\r\n\r\n    render() {\r\n        const tags: any = [];\r\n        if (this.props.bookmark.tags) {\r\n            this.props.bookmark.tags.split(\" \").map(item => {\r\n                tags.push(<div className=\"tag\" key={item} onClick={() => this.props.searchByTag(item)}>{item}</div>);\r\n            })\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                <div className=\"title typography-4\">{this.props.bookmark.title}\r\n                    <div className=\"action-icon\">\r\n                        <i onClick={this.edit} className=\"material-icons\">edit</i>\r\n                        <i onClick={this.delete} className=\"material-icons\">delete</i>\r\n                    </div>\r\n                </div>\r\n                <div className=\"url typography-6\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.bookmark.href}>{this.props.bookmark.href}</a></div>\r\n                <div className=\"timestamp typography-6 space-bottom-1\">{this.props.bookmark.createdAt}</div>\r\n                {tags}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Link;\r\n","export const constants = {\r\n    API_URL_PRESIGNUP: \"/auth/keys\",\r\n    API_URL_SIGNUP: \"/auth/signup\",\r\n    API_URL_PRESIGNIN: \"/auth/keys/\",\r\n    API_URL_SIGNIN: \"/auth/signin\",\r\n    API_URL_RESET: \"/auth/reset\",\r\n    API_URL_CODE: \"/auth/sendResetCode\",\r\n\r\n    API_URL_BOOKMARK: \"/bookmark\",\r\n    API_URL_BOOKMARK_IMPORT: \"/bookmark/import\",\r\n    API_URL_MAIL: \"/bookmark/sendExportMail\",\r\n    API_URL_PREFERENCES: \"/user/preferences\",\r\n    API_URL_USER_DETAILS: \"/user/details\",\r\n\r\n    API_URL_NOTE: \"/note\"\r\n}\r\n","import React, { Component } from 'react';\r\nimport './OakDialog.scss';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    visible: boolean,\r\n    toggleVisibility: any,\r\n    small?: boolean,\r\n    fullscreen?: boolean\r\n}\r\n\r\ninterface State {\r\n}\r\n\r\nclass OakDialog extends Component<Props, State> {\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.visible !== nextProps.visible) {\r\n            if (nextProps.visible) {\r\n                sendMessage('dialog');\r\n                document.body.classList.add('oak-dialog-open');\r\n            } else {\r\n                sendMessage('dialog', false);\r\n                document.body.classList.remove('oak-dialog-open');\r\n            }\r\n        }\r\n    }\r\n    \r\n    componentDidMount(){\r\n      document.addEventListener(\"keydown\", this.escFunction, false);\r\n      const documentWidth = document.documentElement.clientWidth;\r\n      const windowWidth = window.innerWidth;\r\n      const scrollBarWidth = windowWidth - documentWidth;\r\n      document.documentElement.style\r\n          .setProperty('--scrollbar-width', scrollBarWidth + 'px');\r\n    }\r\n\r\n    componentWillUnmount(){\r\n      document.removeEventListener(\"keydown\", this.escFunction, false);\r\n    }\r\n\r\n    escFunction = (event) => {\r\n        if(event.keyCode === 27) {\r\n          if (this.props.visible) {\r\n            this.props.toggleVisibility();\r\n          }\r\n        }\r\n    }\r\n\r\n    getDialogStyle = () => {\r\n        let style = \"\";\r\n        style = style + (this.props.small ? \" small\" : \"\");\r\n        style = style + (this.props.fullscreen ? \" fullscreen\" : \"\");\r\n        return style;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"oak-dialog\">\r\n                <div className={(this.props.visible ? \"dialog show \" + this.getDialogStyle() : \"dialog hide \" + this.getDialogStyle())}>\r\n                    <div className={(this.props.visible ? \"container\": \"container hidetext\")}>\r\n                        <div className=\"dialog-header\">\r\n                            <div className=\"container\" onClick={this.props.toggleVisibility}>\r\n                                <i className=\"material-icons\">close</i><div className=\"text-esc\">esc</div>\r\n                            </div>\r\n                        </div>\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OakDialog;\r\n","import React, { Component } from 'react';\r\nimport './oak-button-oval.scss';\r\n\r\ninterface Props {\r\n    icon?: string,\r\n    action?: any,\r\n    variant?: 'block' | 'outline' | 'animate in' | 'animate out' | 'animate none' | 'disabled'\r\n    theme?: 'primary' | 'secondary' | 'tertiary' | 'default',\r\n    align?: 'left' | 'right' | 'center',\r\n    small?: boolean,\r\n    invert?: boolean\r\n}\r\n\r\ninterface State {\r\n}\r\n\r\nclass OakButton extends Component<Props, State> {    \r\n\r\n    constructor (props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            menuActive: false\r\n        }\r\n    }\r\n\r\n    getStyle = () => {\r\n        let style = this.props.theme ? this.props.theme : \"\";\r\n        style = style + (this.props.variant ? \" \" + this.props.variant : \"\");\r\n\r\n        if (!this.props.children) {\r\n            style = style + \" icon\";\r\n        }\r\n\r\n        style = style + (this.props.invert ? \" invert\": \"\");\r\n\r\n        style = style + (this.props.small ? \" small\" : \"\");\r\n\r\n        style = style + (this.props.align ? \" align-\" + this.props.align : \"\");\r\n\r\n        return style;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button className={\"oak-button \" + this.getStyle()} onClick={this.props.action}>\r\n                {this.props.icon && <i className=\"material-icons\">{this.props.icon}</i>}\r\n                {this.props.children && this.props.children}\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OakButton;","import React, { Component } from 'react';\r\nimport './ViewResolver.scss';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport OakButton from './OakButton';\r\n\r\ninterface Props {\r\n    sideLabel?: string\r\n}\r\n\r\ninterface State {\r\n    views: any,\r\n    main?: any,\r\n    side?: any,\r\n    showSide: boolean,\r\n    mobileViewPort: any\r\n}\r\n\r\nclass ViewResolver extends Component<Props, State> {\r\n\r\n    _isMounted = false;\r\n    \r\n    viewPort = window.matchMedia(\"(max-width: 767px)\");\r\n\r\n    viewPortChange = (port) => {\r\n        this.setState({\r\n            mobileViewPort: port.matches\r\n        });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            views: this.props.children,\r\n            showSide: false,\r\n            mobileViewPort: false\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.initializeViews();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        this.viewPortChange(this.viewPort);\r\n        this.viewPort.addListener(this.viewPortChange);\r\n\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'sidebar') {\r\n                    this.setState({\r\n                        showSide: message.signal\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    initializeViews() {\r\n        React.Children.toArray(this.state.views).forEach((node) => {\r\n            // node.type.name is minified after build and so static build result has different alphabet\r\n            // if (node.type.name === 'View') {\r\n                if (node.props.main) {\r\n                    this.setState({\r\n                        main: node\r\n                    })\r\n                } else if (node.props.side) {\r\n                    this.setState({\r\n                        side: node\r\n                    })\r\n                }\r\n            // }\r\n        })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.children) {\r\n            this.setState({\r\n                views: nextProps.children\r\n            }, () => {\r\n                this.initializeViews();\r\n            })\r\n        }\r\n    }\r\n\r\n    toggleSideView = () => {\r\n        sendMessage('sidebar', !this.state.showSide);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            {!this.state.mobileViewPort && <div className=\"view-desktop\">\r\n                {this.state.side && <div className=\"view-side\">\r\n                    {this.state.side}\r\n                </div>}\r\n                <div className={'view-content' + (this.state.side ? ' side-present' : '')}>\r\n                    {this.state.main}\r\n                </div>\r\n            </div>}\r\n\r\n            {this.state.mobileViewPort && <div className=\"view-mobile\">\r\n                <div className={(this.state.showSide ? \"slider show\" : \"slider hide\")}>\r\n                    <div className=\"topbar\" onClick={this.toggleSideView}>\r\n                        <div>\r\n                            <OakButton theme=\"default\" variant=\"disabled\" action={this.toggleSideView}>\r\n                                {!this.state.showSide && <><i className=\"material-icons\">expand_more</i>{this.props.sideLabel ? this.props.sideLabel : 'Menu'}</>}\r\n                                {this.state.showSide && <><i className=\"material-icons\">expand_less</i>Collapse</>}\r\n                            </OakButton>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"view-side\">\r\n                        {this.state.showSide && this.state.side}\r\n                    </div>\r\n                </div>\r\n                {!this.state.showSide && <div className=\"view-main\">\r\n                    {this.state.main}\r\n                </div>}\r\n            </div>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewResolver;","import React, { Component } from 'react';\r\n\r\ninterface Props {\r\n    main?: any,\r\n    side?: any\r\n}\r\n\r\ninterface State {\r\n}\r\n\r\nclass View extends Component<Props, State> {\r\n    render() {\r\n        return (\r\n            <div>\r\n               {/* {this.props} */}\r\n               {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default View;","export function isEmptyOrSpaces(str){\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function match(text, words) {\r\n    let found = false;\r\n    if (words) {\r\n        words.split(' ').forEach(word => {\r\n            if (text.match(new RegExp('(\\\\w*'+ word +'\\\\w*)','gi'))) {\r\n                found = true;\r\n            }\r\n        });\r\n    }\r\n    return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n    const result = array.sort(function(o1,o2){\r\n        if (isReverseOrder) {\r\n            return o1[property] > o2[property] ? -1 : o1[property] < o2[property] ? 1 : 0;\r\n        } else {\r\n            return o1[property] < o2[property] ? -1 : o1[property] > o2[property] ? 1 : 0;\r\n        }\r\n    });\r\n\r\n    return result;\r\n}","import React, { Component } from 'react';\r\nimport './Sidebar.scss';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    show?: boolean,\r\n    elements?: Array<string>,\r\n    label: string,\r\n    icon: string,\r\n    number?: number,\r\n    animate?: boolean\r\n}\r\n\r\ninterface State {\r\n    show: boolean,\r\n    elements: Array<string>\r\n}\r\n\r\nclass Sidebar extends Component<Props, State> {\r\n\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: this.props.show ? true : false,\r\n            elements: this.props.elements ? this.props.elements : []\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            show: !this.state.show\r\n        }, () => sendMessage('sidebarExpanded', this.state.show, {label: this.props.label}));\r\n    }\r\n\r\n    hide = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'sidebarExpanded' && message.signal && message.data && message.data.label !== this.props.label) {\r\n                    this.setState({\r\n                        show: false\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    render() {\r\n        const elements = this.state.elements.map((item: any) => (\r\n            <div key={item.label} className=\"element\" onClick={item.action}><i className=\"material-icons\">{item.icon}</i>{item.label}</div>\r\n        ))\r\n        return (            \r\n            <div className=\"sidebar\">\r\n                <div className={this.state.show ? \"header active\" : \"header\"} onClick={this.toggle}>\r\n                    <div className=\"label\">\r\n                        <i className=\"material-icons\">{this.props.icon}</i>\r\n                        {this.props.label}\r\n                        {this.props.number !== undefined && <div className=\"number\">{this.props.number}</div>}\r\n                    </div>\r\n                    {/* <div className=\"aria\"><i className=\"material-icons\">{this.state.show ? 'expand_less' : 'expand_more'}</i></div> */}\r\n                    <div className=\"aria\"><i className={this.state.show ? \"material-icons collapse\" : \"material-icons\"}>keyboard_arrow_left</i></div>\r\n                </div>\r\n                <div className={this.state.show ? \"content show \" + (this.props.animate ? \"animate in\" : \"static\") : \"content hide \" + (this.props.animate ? \"animate in\" : \"static\")}>\r\n                    {elements}\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n            \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Sidebar;","import axios from \"axios\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport function httpGet(endpoint: string, headers: any) {\r\n    return axios.get(baseUrl + endpoint, headers)\r\n        // .then(function(response) {\r\n        //     return Promise.resolve(response);\r\n        // }\r\n    // )\r\n}\r\n\r\nexport function httpPost(endpoint: string, payload: any, headers: any) {\r\n    return axios.post(baseUrl + endpoint, payload, headers)\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n\r\nexport function httpPut(endpoint: string, payload: any, headers: any) {\r\n    return axios.put(baseUrl + endpoint, payload, headers)\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n\r\nexport function httpDelete(endpoint: string, headers: any) {\r\n    return axios.delete(baseUrl + endpoint, headers)\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n","import React from 'react';\r\nimport './OakText.scss';\r\n\r\ninterface Props {\r\n    label: string,\r\n    id: string,\r\n    data: any,\r\n    type?: string,\r\n    handleChange: any,\r\n    errorFields?: any,\r\n    disabled?: boolean,\r\n    rows?: number,\r\n    multiline?: boolean\r\n}\r\nfunction OakText(props: Props) {\r\n    function handleChange(event) {\r\n        event.preventDefault();\r\n        event.target.name = props.id;\r\n        event.target.value = event.target.textContent;\r\n        console.log(event.target);\r\n        props.handleChange(event);\r\n    }\r\n    return (\r\n        <div className=\"oak-text-field\">\r\n            <label>{props.label}</label>\r\n            {!props.multiline && <input disabled={props.disabled} autoComplete=\"off\"\r\n                className={(props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                type={props.type ? props.type : \"text\"} name={props.id} value={props.data[props.id]} onChange={props.handleChange}></input>}\r\n            {/* rows={props.rows ? props.rows : 4} */}\r\n            {props.multiline && <textarea disabled={props.disabled}\r\n                className={(props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                name={props.id} value={props.data[props.id]} onChange={props.handleChange}></textarea>}\r\n            {/* {props.multiline && <div contentEditable={props.disabled ? false : true} suppressContentEditableWarning={true}\r\n                className={\"textarea \" + (props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                onBlur={handleChange}>{props.data[props.id]}</div>} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nOakText.propTypes = {\r\n};\r\n\r\nexport default OakText;\r\n","import React, { Component } from 'react';\r\nimport Link from './Link';\r\nimport { constants } from '../Constants';\r\nimport OakDialog from '../Ux/OakDialog';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport View from '../Ux/View';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport { isEmptyOrSpaces, match } from '../Utils';\r\nimport Sidebar from '../Ux/Sidebar';\r\nimport { httpGet, httpPut, httpDelete } from '../Lib/RestTemplate';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport OakText from '../Ux/OakText';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    authorization: Authorization\r\n    location: any,\r\n    logout: Function\r\n}\r\n\r\ninterface State {\r\n    items: any,\r\n    view: any,\r\n\r\n    searchtext: string,\r\n    isFiltered: boolean,\r\n\r\n    id?: string,\r\n    title: string,\r\n    href: string,\r\n    tags: string,\r\n    editDialogLabel: string,\r\n    isEditDialogOpen: boolean,\r\n    firstLoad: boolean,\r\n\r\n    searchPref: {\r\n        title: boolean,\r\n        tags: boolean,\r\n        href: boolean,\r\n        content: boolean\r\n    },\r\n\r\n    sidebarElements: any\r\n}\r\nclass Bookmarks extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            view: [],\r\n            isEditDialogOpen: false,\r\n\r\n            searchtext: '',\r\n            isFiltered: false,\r\n\r\n            id: undefined,\r\n            title: '',\r\n            href: '',\r\n            tags: '',\r\n            editDialogLabel: 'Add',\r\n            firstLoad: true,\r\n\r\n            searchPref: {\r\n                title: true,\r\n                tags: true,\r\n                href: true,\r\n                content: true\r\n            },\r\n\r\n            sidebarElements: {\r\n                addNew: [\r\n                    {\r\n                        label: 'New Bookmark',\r\n                        action: this.toggleEditDialog,\r\n                        icon: 'note_add'\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    this.setState({\r\n                        searchPref: {\r\n                            title: false,\r\n                            tags: true,\r\n                            href: true,\r\n                            content: false\r\n                        }\r\n                    })\r\n                }\r\n                this.setState({\r\n                    searchtext: query.q,\r\n                    isFiltered: true\r\n                })\r\n            }\r\n        }\r\n\r\n        if(this.state.firstLoad && this.props.authorization.isAuth) {\r\n            this.initializeBookmarks(this.props.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization) {\r\n            this.initializeBookmarks(nextProps.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n\r\n    initializeBookmarks(authorization) {\r\n        const that = this;\r\n        httpGet(constants.API_URL_BOOKMARK,\r\n            {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + authorization.token\r\n                }\r\n            })\r\n            .then(function(response) {\r\n                that.setState({items: response.data, view: response.data});\r\n                if (that.state.isFiltered) {\r\n                    that.search();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    toggleEditDialog = () => {\r\n        this.setState({\r\n            isEditDialogOpen: !this.state.isEditDialogOpen,\r\n            id: undefined,\r\n            title: '',\r\n            href: '',\r\n            tags: '',\r\n            editDialogLabel: 'Add'\r\n        })\r\n    }\r\n\r\n    editBookmark = (bookmark) => {\r\n        this.setState({\r\n            isEditDialogOpen: true,\r\n            id: bookmark._id,\r\n            title: bookmark.title,\r\n            href: bookmark.href,\r\n            tags: bookmark.tags,\r\n            editDialogLabel: 'Save'\r\n        })\r\n    }\r\n\r\n    deleteBookmark = (bookmarkId) => {\r\n        const that = this;\r\n        httpDelete(constants.API_URL_BOOKMARK + \"/\" + bookmarkId,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage('notification', true, {type: 'success', message: 'Bookmark deleted', duration: 5000});\r\n                that.initializeBookmarks(that.props.authorization);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    clearSearch = () => {\r\n        this.setState({\r\n            view: this.state.items,\r\n            isFiltered: false,\r\n            searchtext: ''\r\n        })\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    searchByTag = (tagName) => {\r\n        \r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                title: false,\r\n                tags: true,\r\n                href: false\r\n            },\r\n            searchtext: tagName,\r\n            isFiltered: true\r\n        }, () => this.initializeBookmarks(this.props.authorization));\r\n    }\r\n\r\n    search = (event?: any) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.searchtext)) {\r\n            this.setState({\r\n                view: this.state.items,\r\n                isFiltered: false\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            view: this.state.items.filter((item) => {\r\n                if (this.state.searchPref.title && match(item.title, this.state.searchtext)) {\r\n                    return true;\r\n                } else if (this.state.searchPref.tags && match(item.tags, this.state.searchtext)) {\r\n                    return true;\r\n                } else if (this.state.searchPref.href && match(item.href, this.state.searchtext)) {\r\n                    return true;\r\n                }\r\n            }),\r\n            isFiltered: true\r\n        });\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    toggleSearchPref = (pref) => {\r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                [pref]: !this.state.searchPref[pref]\r\n            }\r\n        })\r\n    }\r\n\r\n    addBookmark= () => {\r\n        const that = this;\r\n\r\n        let bookmark = {\r\n            id: this.state.id,\r\n            title: this.state.title,\r\n            href: this.state.href,\r\n            tags: this.state.tags\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.title)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Title / description missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.href)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Website URL / Link is missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.tags)) {\r\n            bookmark.tags = 'unsorted';\r\n        }\r\n\r\n        httpPut(constants.API_URL_BOOKMARK, bookmark,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage('notification', true, {type: 'success', message: 'Bookmark created', duration: 5000});\r\n                that.toggleEditDialog();\r\n\r\n                that.initializeBookmarks(that.props.authorization);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const listview = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n            <Link id={item._id} bookmark={item} editBookmark={this.editBookmark} deleteBookmark={this.deleteBookmark} searchByTag={this.searchByTag} />\r\n            <br />\r\n            </div>\r\n        ))\r\n        return (\r\n            <div className=\"bookmarks\">\r\n                <OakDialog visible={this.state.isEditDialogOpen} toggleVisibility={this.toggleEditDialog}>\r\n                    <div className=\"dialog-body\">\r\n                        <OakText label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                        <OakText label=\"URL\" data={this.state} id=\"href\" handleChange={e => this.handleChange(e)} />\r\n                        <OakText label=\"Tags\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n                    </div>\r\n                    <div className=\"dialog-footer\">\r\n                        <OakButton action={this.toggleEditDialog} theme=\"default\" variant=\"outline\" align=\"left\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n                        <OakButton action={this.addBookmark} theme=\"primary\" variant=\"animate in\" align=\"right\"><i className=\"material-icons\">double_arrow</i>{this.state.editDialogLabel}</OakButton>\r\n                    </div>\r\n                </OakDialog>\r\n\r\n                <ViewResolver>\r\n                    <View main>\r\n                        {listview}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                                <Sidebar label=\"Add New\" elements={this.state.sidebarElements['addNew']} icon=\"add\" animate />\r\n                                <Sidebar label=\"Search\" elements={this.state.sidebarElements['search']} icon=\"search\" animate number={this.state.isFiltered ? this.state.view.length : undefined}>\r\n                                    <form method=\"GET\" onSubmit={this.search} noValidate>\r\n                                    <div className=\"space-top-2 space-left-4 space-right-4\"><OakText label=\"Keywords\" id=\"searchtext\" data={this.state} handleChange={e => this.handleChange(e)} /></div>\r\n                                    </form>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.title}\r\n                                            onChange={() => this.toggleSearchPref('title')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include title\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.tags}\r\n                                            onChange={() => this.toggleSearchPref('tags')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include tags\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.href}\r\n                                            onChange={() => this.toggleSearchPref('href')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include URL\r\n                                    </div>\r\n                                    {this.state.isFiltered && <div className=\"typography-4 space-top-2 space-left-2\">Found {this.state.view.length} bookmarks matching the search criteria</div>}\r\n                                    <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                        <div>\r\n                                            <OakButton action={this.clearSearch} theme=\"default\">Clear</OakButton>\r\n                                        </div>\r\n                                        <div>\r\n                                        <OakButton action={this.search} theme=\"primary\" variant=\"animate in\">Search</OakButton>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Bookmarks;\r\n","import React from 'react';\r\nimport showdown  from 'showdown';\r\nimport './Showdown.scss';\r\n\r\ninterface Props {\r\n    source: string\r\n}\r\nfunction Showdown(props: Props) {\r\n    const converter = new showdown.Converter({tables: true});\r\n    const html      = converter.makeHtml(props.source);\r\n    return (\r\n        <div className=\"markdown-body\">\r\n            <div dangerouslySetInnerHTML={{__html:html}} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Showdown;\r\n","import React from 'react';\r\nimport './OakSelect.scss';\r\n\r\ninterface Props {\r\n  id: string,\r\n  label?: string,\r\n  handleChange: Function,\r\n  error?: boolean,\r\n  data: any,\r\n  elements?: string[],\r\n  objects?: Array<any>,\r\n  first?: string,\r\n  firstAction?: string,\r\n  variant?: 'outline' | 'no-outline' | 'block' | 'normal',\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default',\r\n  width?: 'width-25' | 'width-50' | 'width-75' | 'width-100'\r\n}\r\ninterface State {\r\n  show?: boolean\r\n}\r\n\r\nexport default class OakSelect extends React.Component<Props, State> {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      show: false\r\n    }\r\n  }\r\n  \r\n  toggle = () => {\r\n    this.setState({\r\n      show: !this.state.show\r\n    })\r\n  }\r\n\r\n  changeSelection = (e, newValue) => {\r\n    e.target.name = this.props.id;\r\n    e.target.value = newValue;\r\n    this.props.handleChange(e);\r\n    this.toggle();\r\n  }\r\n  \r\n  getStyle = () => {\r\n    let style = this.props.theme ? this.props.theme : \"\";\r\n    style = style + (this.props.variant ? \" \" + this.props.variant : \"\");\r\n    style = style + (this.props.width ? \" \" + this.props.width : \"\");\r\n\r\n    return style;\r\n  }\r\n\r\n  render() {\r\n    let dropdownList: Array<any> = [];\r\n\r\n    if (this.props.elements) {\r\n      dropdownList = this.props.elements.map(item => <div className=\"option\" key={item} onClick={(e) => this.changeSelection(e, item)}>{item}</div>);\r\n    } else if (this.props.objects) {\r\n      dropdownList = this.props.objects.map(item => <div className=\"option\" key={item} onClick={(e) => this.changeSelection(e, item.key)}>{item.value}</div>);\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className={\"oak-select \" + this.getStyle()}>\r\n          {this.props.label && <label>{this.props.label}</label>}\r\n          <div className=\"select-button\" onClick={() => this.toggle()}>\r\n            {this.props.elements && <div>{this.props.data[this.props.id]}</div>}\r\n            {this.props.objects && <div>{this.props.objects.find((element) => element.key === this.props.data[this.props.id]) && this.props.objects.find((element) => element.key === this.props.data[this.props.id]).value}</div>}\r\n            {/*{this.props.objects && <div>{this.props.objects[0].value}</div>}*/}\r\n            <div><i className=\"material-icons\">keyboard_arrow_down</i></div>\r\n          </div>\r\n          <div className={this.state.show ? \"dropdown show\" : \"dropdown hide\"}>\r\n            <div className=\"dropdown-content\">\r\n              {this.props.first && <div className=\"option\" onClick={e => this.changeSelection(e, this.props.first)}>{this.props.first}</div>}\r\n              {this.props.firstAction && <div className=\"option\" onClick={e => this.changeSelection(e, this.props.firstAction)}>{this.props.firstAction}</div>}\r\n              {dropdownList}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Showdown from '../Ux/Showdown';\r\nimport OakSelect from '../Ux/OakSelect';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport OakText from '../Ux/OakText';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\ninterface Props {\r\n    note: any,\r\n    id: string,\r\n    deleteNote: Function,\r\n    saveNote: Function,\r\n    notebooks: any\r\n}\r\n\r\ninterface State {\r\n    editNote: boolean,\r\n    preview: boolean,\r\n\r\n    newNotebook: string,\r\n\r\n    id?: string,\r\n    title: string,\r\n    tags: string,\r\n    content: any,\r\n    notebook: string,\r\n    flags: any,\r\n    flag: string\r\n}\r\n\r\nclass Note extends Component<Props, State> {\r\n    \r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editNote: false,\r\n            preview: true,\r\n            newNotebook: '',\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            notebook: '',\r\n            flag: '',\r\n\r\n            flags: [\r\n                {\r\n                    key: 'one',\r\n                    value: <div className=\"select-palette one\" />\r\n                },\r\n                {\r\n                    key: 'two',\r\n                    value: <div className=\"select-palette two\" />\r\n                },\r\n                {\r\n                    key: 'three',\r\n                    value: <div className=\"select-palette three\" />\r\n                },\r\n                {\r\n                    key: 'four',\r\n                    value: <div className=\"select-palette four\" />\r\n                },\r\n                {\r\n                    key: 'five',\r\n                    value: <div className=\"select-palette five\" />\r\n                },\r\n                {\r\n                    key: 'six',\r\n                    value: <div className=\"select-palette six\" />\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'closeNoteEditView' && message.signal) {\r\n                    this.hideEdit();\r\n                    this.setState({newNotebook: ''});\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteNote(this.props.id);\r\n    }\r\n\r\n    showEdit = () => {\r\n        this.setState({\r\n            editNote: true,\r\n            title: this.props.note.title,\r\n            content: this.props.note.content,\r\n            tags: this.props.note.tags,\r\n            notebook: this.props.note.notebook,\r\n            flag: this.props.note.flag\r\n        })\r\n    }\r\n\r\n    hideEdit = () => {\r\n        this.setState({\r\n            editNote: false\r\n        })\r\n    }\r\n\r\n    save = () => {\r\n        let notebook = this.state.notebook;\r\n\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n\r\n        this.props.saveNote({\r\n            id: this.props.id,\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            flag: this.state.flag,\r\n            notebook: notebook\r\n        }, true)\r\n    }\r\n\r\n    togglepreview = () => {\r\n        this.setState({\r\n            preview: !this.state.preview\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const tags: any = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<div key={item} className=\"tag\">{item}</div>);\r\n            })\r\n        }\r\n\r\n        return (\r\n            <>\r\n            {!this.state.editNote && \r\n            <>\r\n                <div className=\"notebook\"><i className=\"material-icons\">insert_drive_file</i>{this.props.note.notebook}</div>\r\n                {/* <div className=\"space-bottom-2\" /> */}\r\n                <div className=\"typography-3 space-bottom-1\">\r\n                    {this.props.note.title}\r\n                </div>\r\n                {tags}\r\n                <div className=\"space-bottom-2\" />\r\n                <OakButton action={this.showEdit} theme=\"secondary\" variant=\"animate in\" align=\"left\"><i className=\"material-icons\">edit</i>Edit</OakButton>\r\n                <OakButton action={this.delete} theme=\"secondary\" variant=\"animate in\" align=\"right\"><i className=\"material-icons\">delete</i>Delete</OakButton>\r\n                \r\n                \r\n                <Showdown source={this.props.note.content} />\r\n\r\n            </>}\r\n            \r\n            {this.state.editNote && \r\n                <div>\r\n                    <div className=\"typography-3 space-bottom-1\">{this.state.title}</div>\r\n                    \r\n                    <OakButton action={this.save} theme=\"primary\" variant=\"animate in\" align=\"left\"><i className=\"material-icons\">double_arrow</i>Save</OakButton>\r\n                    <OakButton action={this.showEdit} theme=\"default\" variant=\"outline\" align=\"center\"><i className=\"material-icons\">refresh</i>Undo All</OakButton>\r\n                    <OakButton action={this.hideEdit} theme=\"default\" variant=\"outline\" align=\"center\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n                    {!this.state.preview && <OakButton action={this.togglepreview} theme=\"default\" variant=\"outline\" align=\"right\"><i className=\"material-icons\">visibility</i>Show Preview</OakButton>}\r\n                    {this.state.preview && <OakButton action={this.togglepreview} theme=\"default\" variant=\"outline\" align=\"right\"><i className=\"material-icons\">visibility_off</i>Hide Preview</OakButton>}\r\n                    \r\n                    <div><OakSelect width=\"width-25\" label=\"Flag\" data={this.state} id=\"flag\" handleChange={e => this.handleChange(e)} objects={this.state.flags} /></div>\r\n                    <div><OakSelect label=\"Notebook\" data={this.state} id=\"notebook\" handleChange={e => this.handleChange(e)} elements={this.props.notebooks} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                        {this.state.notebook === '<create new>' && <OakText label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <OakText label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                    <OakText label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n\r\n                    {this.state.preview && <div className=\"edit-note-view\">\r\n                        <div><OakText label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} /></div>\r\n                        <div>\r\n                            <div className=\"typography-5 space-bottom-1\">Preview</div>\r\n                            <Showdown source={this.state.content} />\r\n                        </div>\r\n                    </div>}\r\n                    {!this.state.preview && <OakText label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} />}\r\n                    <div className=\"space-top-2\" />\r\n            </div>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Note;\r\n","import React from 'react';\r\nimport './ActionButton.scss';\r\n\r\ninterface Props {\r\n    icon?: string,\r\n    leftLabel?: string,\r\n    leftAction?: any,\r\n    rightLabel?: string,\r\n    rightAction?: any,\r\n    type?: string\r\n}\r\nfunction ActionButton(props: Props) {\r\n    const icon = <i className=\"material-icons\">{props.icon}</i>;\r\n    return (\r\n        <div className=\"action-button\">\r\n            {props.leftLabel && props.rightLabel && <button className={\"left \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n            {props.leftLabel && props.rightLabel && <button className={\"right \" + props.type} onClick={props.rightAction}>{props.icon && icon}{props.rightLabel}</button>}\r\n            {props.leftLabel && !props.rightLabel && <button className={\"center \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActionButton;\r\n","import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { fabric } from 'fabric';\r\n\r\nlet isDown, origX, origY, stroke;\r\n\r\ninterface Props {\r\n    attributes: any,\r\n    data: any,\r\n    edit?: boolean,\r\n    handleChange: Function\r\n}\r\n\r\ninterface State {\r\n    backgroundColor: string,\r\n    data: any,\r\n    width: number,\r\n    height: number\r\n}\r\n\r\nexport default class Canvas extends Component<Props, State> {\r\n    \r\n    viewPort = window.matchMedia(\"(max-width: 767px)\");\r\n\r\n    viewPortChange = (port) => {\r\n        this.setState({\r\n            width: port.matches ? window.innerWidth - 100 : window.innerWidth - 1000,\r\n            height: port.matches ? window.innerHeight - 100 : window.innerHeight\r\n        });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            backgroundColor: this.props.attributes && this.props.attributes.backgroundColor ? this.props.attributes.backgroundColor : 'red',\r\n            data: this.props.data ? this.props.data : null\r\n        }\r\n        this.refreshCanvas();\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            backgroundColor: nextProps.attributes && nextProps.attributes.backgroundColor ? nextProps.attributes.backgroundColor : 'red',\r\n            data: nextProps.data ? nextProps.data : null\r\n        }, () => this.refreshCanvas());\r\n    }\r\n\r\n    componentDidMount() {\r\n        let canvas = this.refreshCanvas();\r\n        this.mouseDown(canvas);\r\n        this.mouseMove(canvas);\r\n        this.mouseUp(canvas);\r\n\r\n        this.refreshCanvas();\r\n        this.viewPort.addListener(this.viewPortChange);\r\n    }\r\n\r\n    refreshCanvas() {\r\n        // this.viewPortChange(this.viewPort);\r\n        \r\n        let width = this.viewPort.matches ? window.innerWidth - 35 : window.innerWidth - 700;\r\n        let height = this.viewPort.matches ? window.innerHeight - 200 : window.innerHeight;\r\n\r\n        let canvas = new fabric.Canvas('c', {\r\n            backgroundColor: this.state.backgroundColor,\r\n            width: width,\r\n            height: height\r\n        });\r\n        canvas.isDrawingMode = this.props.edit;\r\n        if (this.state.data) {\r\n            canvas.loadFromDatalessJSON(this.state.data);\r\n            canvas.backgroundColor = this.state.backgroundColor;\r\n        }\r\n\r\n        canvas.freeDrawingBrush = new fabric['PencilBrush'](canvas);\r\n        canvas.freeDrawingBrush.width=10;\r\n        canvas.freeDrawingBrush.color='#D2E4C4';\r\n        canvas.renderAll();\r\n\r\n        return canvas;\r\n    }\r\n\r\n    mouseDown(canvas) {\r\n        let that = this;\r\n        canvas.on('mouse:down', function(o) {\r\n            canvas.backgroundColor = that.state.backgroundColor;\r\n            isDown = true;\r\n\t\t    let pointer = canvas.getPointer(o.e);\r\n\t\t    origX = pointer.x;\r\n\t\t    origY = pointer.y;\r\n            stroke = new fabric.Line({\r\n                strokeWidth:5,\r\n            });\r\n            canvas.add(stroke);\r\n        });\r\n    }\r\n\r\n    mouseMove(canvas) {\r\n        canvas.on('mouse:move', function(o) {\r\n            if (isDown) {\r\n                var pointer = canvas.getPointer(o.e);\r\n        \r\n                    if(origX>pointer.x){\r\n                        stroke.set({ left: Math.abs(pointer.x) });\r\n                    }\r\n                    if(origY>pointer.y){\r\n                        stroke.set({ top: Math.abs(pointer.y) });\r\n                    }\r\n                    \r\n                    stroke.set({ width: Math.abs(origX - pointer.x) });\r\n                    stroke.set({ height: Math.abs(origY - pointer.y) });\r\n            }\r\n        });\r\n    }\r\n\r\n    mouseUp(canvas) {\r\n        let that = this;\r\n        canvas.on('mouse:up', function(o) {\r\n                isDown = false;\r\n                // sessionStorage.setItem('canvas', JSON.stringify(canvas));\r\n                that.props.handleChange({\r\n                    height: that.state.height,\r\n                    width: that.state.width,\r\n                    backgroundColor: that.state.backgroundColor,\r\n                }, JSON.stringify(canvas));\r\n        });\r\n    }\r\n    \r\n\t// generateUUID() {\r\n\t//     var d = new Date().getTime();\r\n\t//     if(window.performance && typeof window.performance.now === \"function\"){\r\n\t//         d += performance.now(); //use high-precision timer if available\r\n\t//     }\r\n\t//     var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n\t//         var r = (d + Math.random()*16)%16 | 0;\r\n\t//         d = Math.floor(d/16);\r\n\t//         return (c === 'x' ? r : (r&0x3|0x8)).toString(16);\r\n\t//     });\r\n\t//     return uuid;\r\n\t// }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"canvas\">\r\n                <canvas id=\"c\" />\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport ActionButton from '../Ux/ActionButton';\r\nimport './style.scss';\r\nconst removeMd = require('remove-markdown');\r\n\r\ninterface Props {\r\n    selectNote: Function,\r\n    note: any,\r\n    id: string,\r\n    selected: boolean,\r\n    showTag: boolean\r\n}\r\ninterface State {\r\n\r\n}\r\nclass NoteRef extends Component<Props, State> {\r\n\r\n    selectNote = () => {\r\n        this.props.selectNote(this.props.id);\r\n    }\r\n\r\n    render() {\r\n        const tags: any = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<ActionButton leftLabel={item}></ActionButton>);\r\n            })\r\n        }\r\n        return (\r\n            <>\r\n            <div className={this.props.selected ? \"noteref selected\" : \"noteref\"} onClick={this.selectNote}>\r\n                <div className=\"content\">\r\n                    {this.props.note.flag && <div className={\"flag-palette \" + this.props.note.flag} />}\r\n                    {this.props.showTag && <div className=\"notebook\">\r\n                        {/* <i className=\"material-icons\">insert_drive_file</i> */}\r\n                        {this.props.note.notebook}\r\n                    </div>}\r\n                    <div className=\"title\">{this.props.note.title}</div>\r\n                    <div className=\"space-bottom-0\" />\r\n                    {this.props.note.type !== 'Artboard' && <div className=\"detail\">{removeMd(this.props.note.content.substring(0, 100))}</div>}\r\n                    {this.props.note.type === 'Artboard' && <div className=\"detail-artboard\"><i className=\"material-icons\">tv</i></div>}\r\n                    {/* <div className=\"detail typography-5\"><Showdown source={this.props.note.content.substring(0, 150)} /></div> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"separator\" />\r\n            {/* <hr /> */}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NoteRef;\r\n","import React, { Component } from 'react';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport OakSelect from '../Ux/OakSelect';\r\nimport Canvas from '../Canvas';\r\nimport OakText from '../Ux/OakText';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\ninterface Props {\r\n    note: any,\r\n    id: string,\r\n    deleteNote: Function,\r\n    saveNote: Function,\r\n    notebooks: any\r\n}\r\n\r\ninterface State {\r\n    editNote: boolean,\r\n    preview: boolean,\r\n\r\n    newNotebook: string,\r\n\r\n    id?: string,\r\n    title: string,\r\n    tags: string,\r\n    attributes: any,\r\n    content: any,\r\n    notebook: string,\r\n    flags: any,\r\n    flag: string\r\n}\r\n\r\nclass Artboard extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editNote: false,\r\n            preview: true,\r\n            newNotebook: '',\r\n            title: this.props.note.title,\r\n            attributes: this.props.note.attributes ? this.props.note.attributes : {},\r\n            content: this.props.note.content,\r\n            tags: this.props.note.tags,\r\n            notebook: this.props.note.notebook,\r\n            flag: '',\r\n            \r\n\r\n            flags: [\r\n                {\r\n                    key: 'one',\r\n                    value: <div className=\"select-palette one\" />\r\n                },\r\n                {\r\n                    key: 'two',\r\n                    value: <div className=\"select-palette two\" />\r\n                },\r\n                {\r\n                    key: 'three',\r\n                    value: <div className=\"select-palette three\" />\r\n                },\r\n                {\r\n                    key: 'four',\r\n                    value: <div className=\"select-palette four\" />\r\n                },\r\n                {\r\n                    key: 'five',\r\n                    value: <div className=\"select-palette five\" />\r\n                },\r\n                {\r\n                    key: 'six',\r\n                    value: <div className=\"select-palette six\" />\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'closeNoteEditView' && message.signal) {\r\n                    this.hideEdit();\r\n                    this.setState({newNotebook: ''});\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteNote(this.props.id);\r\n    }\r\n\r\n    showEdit = () => {\r\n        this.setState({\r\n            editNote: true\r\n        })\r\n    }\r\n\r\n    hideEdit = () => {\r\n        this.setState({\r\n            editNote: false\r\n        })\r\n    }\r\n\r\n    save = () => {\r\n        let notebook = this.state.notebook;\r\n\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n\r\n        this.props.saveNote({\r\n            id: this.props.id,\r\n            title: this.state.title,\r\n            attributes: this.state.attributes,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            flag: this.state.flag,\r\n            notebook: notebook\r\n        }, true)\r\n    }\r\n\r\n    togglepreview = () => {\r\n        this.setState({\r\n            preview: !this.state.preview\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    attributeChange = (event) => {\r\n        this.setState(\r\n            {\r\n                attributes: {\r\n                    ...this.state.attributes,\r\n                    [event.target.name]: event.target.value\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    contentChange = (attributes, content) => {\r\n        this.setState({\r\n            attributes: attributes,\r\n            content: content\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const tags:any = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<div key={item} className=\"tag\">{item}</div>);\r\n            })\r\n        }\r\n\r\n        return (\r\n            <div className=\"artboard\">\r\n                {!this.state.editNote && \r\n                <>\r\n                    <div className=\"notebook\"><i className=\"material-icons\">insert_drive_file</i>{this.props.note.notebook}</div>\r\n                    {/* <div className=\"space-bottom-2\" /> */}\r\n                    <div className=\"typography-3 space-bottom-1\">\r\n                        {this.props.note.title}\r\n                    </div>\r\n                    {tags}\r\n                    <div className=\"space-bottom-2\" />\r\n                    <OakButton action={this.showEdit} theme=\"secondary\" variant=\"animate in\"><i className=\"material-icons\">edit</i>Edit</OakButton>\r\n                    <OakButton action={this.delete} theme=\"secondary\" variant=\"animate in\"><i className=\"material-icons\">delete</i>Delete</OakButton>\r\n                    <div className=\"space-top-2\" />\r\n                    <Canvas attributes={this.state.attributes} data={this.state.content} handleChange={this.contentChange} />\r\n                </>}\r\n            \r\n                {this.state.editNote && \r\n                <div className=\"canvas-edit\">\r\n                    <div className=\"typography-3 space-bottom-1\">{this.state.title}</div>\r\n                    \r\n                    <OakButton action={this.save} theme=\"primary\" variant=\"animate in\"><i className=\"material-icons\">double_arrow</i>Save</OakButton>\r\n                    <OakButton action={this.showEdit} theme=\"default\" variant=\"animate none\"><i className=\"material-icons\">refresh</i>Undo All</OakButton>\r\n                    <OakButton action={this.hideEdit} theme=\"default\" variant=\"animate none\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n\r\n                    <div><OakSelect label=\"Flag\" data={this.state} id=\"flag\" handleChange={e => this.handleChange(e)} objects={this.state.flags} /></div>\r\n                    <div><OakSelect label=\"Notebook\" data={this.state} id=\"notebook\" handleChange={e => this.handleChange(e)} elements={this.props.notebooks} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                        {this.state.notebook === '<create new>' && <OakText label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <OakText label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                    <OakText label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n                    \r\n                    {/* <OakText label=\"Height\" data={this.state.attributes} id=\"height\" handleChange={e => this.attributeChange(e)} />\r\n                    <OakText label=\"Width\" data={this.state.attributes} id=\"width\" handleChange={e => this.attributeChange(e)} /> */}\r\n                    <OakText label=\"Background color\" data={this.state.attributes} id=\"backgroundColor\" handleChange={e => this.attributeChange(e)} />\r\n                    <Canvas attributes={this.state.attributes} data={this.state.content} handleChange={this.contentChange} edit={true} />\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Artboard;\r\n","import React, { Component } from 'react';\r\nimport Note from './Note';\r\nimport { Switch } from '@material-ui/core';\r\nimport { constants } from '../Constants';\r\nimport { httpGet, httpPut, httpDelete } from \"../Lib/RestTemplate\";\r\nimport OakDialog from '../Ux/OakDialog';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport View from '../Ux/View';\r\nimport './style.scss';\r\nimport NoteRef from './NoteRef';\r\nimport { isEmptyOrSpaces, match, sort } from '../Utils';\r\nimport OakSelect from '../Ux/OakSelect';\r\nimport Artboard from './Artboard';\r\nimport Sidebar from '../Ux/Sidebar';\r\n\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport OakText from '../Ux/OakText';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    authorization: Authorization\r\n    location: any,\r\n    logout: Function\r\n}\r\n\r\ninterface State {\r\n    items: any,\r\n    view: any,\r\n\r\n    searchtext: string,\r\n    isFiltered: boolean,\r\n\r\n    id?: string,\r\n    title: string,\r\n    tags: string,\r\n    isAddDialogOpen: boolean,\r\n    isArtboardAddDialogOpen: boolean,\r\n    firstLoad: boolean,\r\n    selectedNoteId?: string,\r\n    content: string,\r\n    newNotebook: string,\r\n    existingNotebook: string,\r\n    existingNotebookList: any,\r\n    filteredNotebookList: any,\r\n    notebookFilter: string,\r\n    showFilter: boolean,\r\n    sortBy: string,\r\n    sortOrder: string,\r\n\r\n    searchPref: {\r\n        title: boolean,\r\n        tags: boolean,\r\n        content: boolean\r\n    },\r\n    searchResults: any,\r\n\r\n    sidebarElements: any\r\n}\r\n\r\nclass Notes extends Component<Props, State> {\r\n\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            searchResults: [],\r\n            view: [],\r\n            isAddDialogOpen: false,\r\n            isArtboardAddDialogOpen: false,\r\n\r\n            selectedNoteId: '',\r\n\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            newNotebook: '',\r\n            existingNotebook: '',\r\n            existingNotebookList: [],\r\n            filteredNotebookList: [],\r\n            notebookFilter: 'all notebooks',\r\n            sortBy: 'last modified',\r\n            sortOrder: 'descending',\r\n            firstLoad: true,\r\n\r\n            showFilter: false,\r\n            searchtext: '',\r\n            isFiltered: false,\r\n            searchPref: {\r\n                title: true,\r\n                tags: true,\r\n                content: true\r\n            },\r\n\r\n            sidebarElements: {\r\n                addNew: [\r\n                    {\r\n                        label: 'New Note',\r\n                        action: this.newNote,\r\n                        icon: 'note_add'\r\n                    },\r\n                    {\r\n                        label: 'New Whiteboard',\r\n                        action: this.newArtboard,\r\n                        icon: 'tv'\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n\r\n    sortTypes = \r\n        {'created': 'createdAt',\r\n        'last modified': 'lastModifiedAt',\r\n        'notebook': 'notebook',\r\n        'note name': 'title'}\r\n\r\n    sortOrders = [\r\n        'ascending',\r\n        'descending'\r\n    ];\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    this.setState({\r\n                        searchPref: {\r\n                            title: false,\r\n                            tags: true,\r\n                            content: false\r\n                        }\r\n                    })\r\n                }\r\n                this.setState({\r\n                    searchtext: query.q,\r\n                    isFiltered: true\r\n                })\r\n            }\r\n        }\r\n\r\n        if(this.state.firstLoad && this.props.authorization.isAuth) {\r\n            this.initializeNotes(this.props.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'noteListRefreshed') {\r\n                    this.applyFilter();\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization) {\r\n            this.initializeNotes(nextProps.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n\r\n    initializeNotes(authorization: Authorization, selectedNoteId?: string) {\r\n        const that = this;\r\n        httpGet(constants.API_URL_NOTE,\r\n            {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + authorization.token\r\n                }\r\n            })\r\n            .then(function(response) {\r\n                that.setState({items: response.data, searchResults: response.data, view: response.data});\r\n                if (that.state.isFiltered) {\r\n                    that.search();\r\n                } else {\r\n                    sendMessage('noteListRefreshed', true);\r\n                }\r\n                \r\n                const existingNotebookList: any = [];\r\n                response.data.map(item => existingNotebookList.push(item.notebook))\r\n\r\n                that.setState({\r\n                    existingNotebookList: [...new Set(existingNotebookList)]\r\n                });\r\n\r\n                if (selectedNoteId) {\r\n                    that.setState({selectedNoteId: selectedNoteId});\r\n                } else if (!that.state.selectedNoteId && response.data && response.data.length > 0) {\r\n                    that.setState({selectedNoteId: response.data[0]._id});\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    newNote = () => {\r\n        this.toggleAddDialog();\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    newArtboard = () => {\r\n        this.toggleArtboardAddDialog();\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    toggleAddDialog = () => {\r\n        this.setState({\r\n            isAddDialogOpen: !this.state.isAddDialogOpen,\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    resetForm = () => {\r\n        this.setState({\r\n            id: undefined,\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            existingNotebook: '',\r\n            newNotebook: ''\r\n        })\r\n    }\r\n\r\n    toggleArtboardAddDialog = () => {\r\n        this.setState({\r\n            isArtboardAddDialogOpen: !this.state.isArtboardAddDialogOpen,\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    closeAllDialog = () => {\r\n        this.setState({\r\n            isAddDialogOpen: false,\r\n            isArtboardAddDialogOpen: false\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    toggleFilter = () => {\r\n        this.setState({showFilter: !this.state.showFilter});\r\n    }\r\n\r\n    clearSearch = () => {\r\n        this.setState({\r\n            searchResults: this.state.items,\r\n            isFiltered: false,\r\n            searchtext: ''\r\n        }, () => sendMessage('noteListRefreshed', true))\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    search = (event?: any) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.searchtext)) {\r\n            this.setState({\r\n                searchResults: this.state.items,\r\n                isFiltered: false\r\n            }, () => sendMessage('noteListRefreshed', true));\r\n            return;\r\n        }\r\n\r\n        const searchResults = this.state.items.filter((item) => {\r\n            if (this.state.searchPref.title && match(item.title, this.state.searchtext)) {\r\n                return true;\r\n            } else if (this.state.searchPref.tags && match(item.tags, this.state.searchtext)) {\r\n                return true;\r\n            } else if (this.state.searchPref.content && match(item.content, this.state.searchtext)) {\r\n                return true;\r\n            }\r\n        });\r\n        let selectedNoteId = undefined;\r\n        if (searchResults.length > 0) {\r\n            selectedNoteId = searchResults[0]._id;\r\n        }\r\n\r\n        let notebookFilter = \"all notebooks\";\r\n        let notebookList: any = [];\r\n        searchResults.map(item => {\r\n            notebookList.push(item.notebook);\r\n        });\r\n\r\n        if ([...new Set(notebookList)].length === 1) {\r\n            notebookFilter = notebookList[0];\r\n        }\r\n        this.setState({\r\n            searchResults: searchResults,\r\n            isFiltered: true,\r\n            selectedNoteId: selectedNoteId,\r\n            notebookFilter: notebookFilter\r\n        }, () => sendMessage('noteListRefreshed', true));\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    applyFilter = () => {\r\n        const notebookList: any = [];\r\n        let noteList: any = [];\r\n        this.state.searchResults.map(item => {\r\n            if (isEmptyOrSpaces(this.state.notebookFilter) || this.state.notebookFilter === 'all notebooks' || item.notebook === this.state.notebookFilter) {\r\n                noteList.push(item);\r\n            }\r\n            notebookList.push(item.notebook);\r\n        });\r\n\r\n        noteList = sort(noteList, this.sortTypes[this.state.sortBy], this.state.sortOrder === 'descending' ? true : false);\r\n\r\n        let selectedNoteId = '';\r\n        if (noteList && noteList.length > 0) {\r\n            selectedNoteId = noteList[0]._id;\r\n        }\r\n\r\n        this.setState({\r\n            selectedNoteId: selectedNoteId,\r\n            view: noteList,\r\n            filteredNotebookList: [...new Set(notebookList)]\r\n        });\r\n    }\r\n\r\n    toggleSearchPref = (pref) => {\r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                [pref]: !this.state.searchPref[pref]\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteNote = (noteId) => {\r\n        const that = this;\r\n        httpDelete(constants.API_URL_NOTE + \"/\" + noteId,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage('notification', true, {type: 'success', message: 'Note deleted', duration: 5000});\r\n                that.setState({\r\n                    selectedNoteId: undefined\r\n                }, () => that.initializeNotes(that.props.authorization));\r\n                \r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    selectNote = (noteId) => {\r\n        this.setState({\r\n            selectedNoteId: noteId\r\n        })\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    saveNoteEvent = () => {\r\n        let notebook = this.state.existingNotebook;\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n        this.saveNote({\r\n            id: null,\r\n            type: 'Note',\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            notebook: notebook\r\n        });\r\n    }\r\n\r\n    saveArtboardEvent = () => {\r\n        let notebook = this.state.existingNotebook;\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n        this.saveNote({\r\n            id: null,\r\n            type: 'Artboard',\r\n            attributes: {},\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            notebook: notebook\r\n        });\r\n    }\r\n\r\n    saveNote = (note, edit=false) => {\r\n\r\n        const that = this;\r\n\r\n        if (!note) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Unknown error', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.notebook)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Notebook not chosen', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.title)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Note name / title missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.tags)) {\r\n            note.tags = 'unsorted';\r\n        }\r\n\r\n        httpPut(constants.API_URL_NOTE, {\r\n            id: note.id,\r\n            type: note.type,\r\n            title: note.title,\r\n            attributes: note.attributes,\r\n            content: note.content,\r\n            tags: note.tags,\r\n            flag: note.flag,\r\n            notebook: note.notebook\r\n        },\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                if (edit) {\r\n                    sendMessage('notification', true, {type: 'success', message: 'Note edited', duration: 5000});\r\n                    sendMessage('closeNoteEditView', true);\r\n                } else {\r\n                    sendMessage('notification', true, {type: 'success', message: 'Note created', duration: 5000});\r\n                    that.closeAllDialog();\r\n                }\r\n                \r\n                that.initializeNotes(that.props.authorization, response.data._id);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    handleNotebookFilterChange = (event) => {\r\n        this.setState(\r\n        {\r\n            ...this.state,\r\n            [event.target.name]: event.target.value\r\n        },\r\n        () => this.applyFilter());\r\n    }\r\n\r\n    render() {\r\n        const noteview = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n                {item._id === this.state.selectedNoteId && item.type !== 'Artboard' &&\r\n                        <Note key={item._id} id={item._id} note={item} saveNote={this.saveNote} deleteNote={this.deleteNote} notebooks={this.state.existingNotebookList}/>}\r\n                {item._id === this.state.selectedNoteId && item.type === 'Artboard' &&\r\n                        <Artboard key={item._id} id={item._id} note={item} saveNote={this.saveNote} deleteNote={this.deleteNote} notebooks={this.state.existingNotebookList}/>}\r\n            </div>\r\n        ))\r\n        const listNoteRef = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n                <NoteRef selected={this.state.selectedNoteId === item._id ? true : false} id={item._id} note={item} selectNote={this.selectNote} showTag={this.state.notebookFilter === 'all notebooks'}/>\r\n            </div>\r\n        ))\r\n        return (\r\n            <div className=\"notes\">\r\n                <OakDialog visible={this.state.isAddDialogOpen} toggleVisibility={this.toggleAddDialog}>\r\n                    <div className=\"dialog-body\">\r\n                        <div><OakSelect label=\"Notebook\" theme=\"default\" data={this.state} id=\"existingNotebook\" handleChange={e => this.handleChange(e)} elements={this.state.existingNotebookList} firstAction=\"<create new>\" /></div>\r\n                        <div>\r\n                        {this.state.existingNotebook === '<create new>' && <OakText label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                        </div>\r\n                        <div><OakText label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} /></div>\r\n                        <div><OakText label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} /></div>\r\n                        <div><OakText label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} /></div>\r\n                    </div>\r\n                    <div className=\"dialog-footer\">\r\n                        <OakButton action={this.toggleAddDialog} theme=\"default\" variant=\"outline\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n                        <OakButton action={this.saveNoteEvent} theme=\"primary\" variant=\"animate in\"><i className=\"material-icons\">double_arrow</i>Save</OakButton>\r\n                    </div>\r\n                </OakDialog>\r\n\r\n                <OakDialog visible={this.state.isArtboardAddDialogOpen} toggleVisibility={this.toggleArtboardAddDialog}>\r\n                    <div className=\"dialog-body\">\r\n                        <div><OakSelect label=\"Notebook\" theme=\"primary\" data={this.state} id=\"existingNotebook\" handleChange={e => this.handleChange(e)} elements={this.state.existingNotebookList} firstAction=\"<create new>\" /></div>\r\n                        <div>\r\n                        {this.state.existingNotebook === '<create new>' && <OakText label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                        </div>\r\n                        <div><OakText label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} /></div>\r\n                        <div><OakText label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} /></div>\r\n                    </div>\r\n                    <div className=\"dialog-footer\">\r\n                        <OakButton action={this.toggleArtboardAddDialog} theme=\"default\" variant=\"outline\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n                        <OakButton action={this.saveArtboardEvent} theme=\"primary\" variant=\"animate in\"><i className=\"material-icons\">double_arrow</i>Save</OakButton>\r\n                    </div>\r\n                </OakDialog>\r\n\r\n                <ViewResolver sideLabel='More options'>\r\n                    <View main>\r\n                        {noteview}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                            <Sidebar label=\"Add New\" elements={this.state.sidebarElements['addNew']} icon=\"add\" animate />\r\n                            <Sidebar label=\"Search\" elements={this.state.sidebarElements['search']} icon=\"search\" animate number={this.state.isFiltered ? this.state.searchResults.length : undefined}>\r\n                                <div className=\"space-top-1\" />\r\n                                <form method=\"GET\" onSubmit={this.search} noValidate>\r\n                                    <div className=\"space-left-4 space-right-4\"><OakText label=\"Keywords\" id=\"searchtext\" data={this.state} handleChange={e => this.handleChange(e)} /></div>\r\n                                </form>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.title}\r\n                                        onChange={() => this.toggleSearchPref('title')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include title\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.tags}\r\n                                        onChange={() => this.toggleSearchPref('tags')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include tags\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.content}\r\n                                        onChange={() => this.toggleSearchPref('content')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include Content\r\n                                </div>\r\n                                {this.state.isFiltered && <div className=\"typography-4 space-top-2\">Found {this.state.searchResults.length} notes matching the search criteria</div>}\r\n                                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                    <div>\r\n                                        <OakButton action={this.clearSearch} theme=\"default\" variant=\"animate none\">Clear</OakButton>\r\n                                    </div>\r\n                                    <div>\r\n                                        <OakButton action={this.search} theme=\"default\" variant=\"animate in\">Search</OakButton>\r\n                                    </div>\r\n                                </div>\r\n                            </Sidebar>\r\n                                \r\n                            <Sidebar label={this.state.isFiltered ? \"Search results\" : \"All Notes\"} icon=\"notes\" number={this.state.view.length}>\r\n                                <div className=\"filter-bar\">\r\n                                    {this.state.filteredNotebookList.length > 1 && <div><OakSelect label=\"Notebook\" data={this.state} id=\"notebookFilter\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.state.filteredNotebookList} first='all notebooks' /></div>}\r\n                                    {this.state.filteredNotebookList.length === 1 && <div><OakSelect label=\"Notebook\" data={this.state} id=\"notebookFilter\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.state.filteredNotebookList} /></div>}\r\n                                    <div></div>\r\n                                    <div><OakSelect label=\"Sort by\" data={this.state} id=\"sortBy\" handleChange={e => this.handleNotebookFilterChange(e)} elements={Object.keys(this.sortTypes)} /></div>\r\n                                    <div><OakSelect label=\"Sort Order\" data={this.state} id=\"sortOrder\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.sortOrders} /></div>\r\n                                </div>\r\n                                {listNoteRef}\r\n                            </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notes;\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from '../actions/types';\r\n\r\nexport const getAuth = () => dispatch => {\r\n    dispatch({\r\n        type: GET_AUTH\r\n    });\r\n}\r\n\r\nexport const addAuth = (data) => dispatch => {\r\n    dispatch({\r\n        type: ADD_AUTH,\r\n        payload: data\r\n    });\r\n}\r\n\r\nexport const removeAuth = () => dispatch => {\r\n    dispatch({\r\n        type: REMOVE_AUTH\r\n    });\r\n}","import { httpGet, httpPost, httpPut } from \"../Lib/RestTemplate\";\r\nimport sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\nimport { constants } from '../Constants';\r\n\r\nexport function preSignup() {\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response);\r\n        })\r\n}\r\n\r\nexport function signup(data) {\r\n    return httpPost(constants.API_URL_SIGNUP, {\r\n        name: data.name,\r\n        email: data.email,\r\n        problem: encrypt(data.password, data.solution, data.salt),\r\n        solution: data.solution\r\n        }, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n\r\nexport function preSignin(email) {\r\n    return httpGet(constants.API_URL_PRESIGNIN + email, null)\r\n        .then(response => Promise.resolve(response))\r\n        .catch(error => Promise.resolve(error.response))\r\n}\r\n\r\nexport function signin(data, problem) {\r\n    try {\r\n        let solution = decrypt(data.password, JSON.stringify(problem));\r\n        return httpPost(constants.API_URL_SIGNIN, {\r\n            email: data.email, solution: solution\r\n            }, null)\r\n            .then(function(response) {\r\n                return Promise.resolve(response);\r\n            })\r\n\r\n    } catch(error) {\r\n        if (error.message === \"ccm: tag doesn't match\") {\r\n            return Promise.resolve({\r\n                status: 401\r\n            });\r\n        } else {\r\n            return Promise.resolve(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateUserDetails(data, token, type) {\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution\r\n                    }\r\n                } else {\r\n                    newData = {\r\n                        name: data.name,\r\n                        email: data.email\r\n                    }\r\n                }\r\n\r\n                return httpPut(constants.API_URL_USER_DETAILS, newData,\r\n                    {\r\n                        headers: {\r\n                            Authorization: 'Bearer ' + token\r\n                        }\r\n                    })\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response);\r\n                    })\r\n            }\r\n        })\r\n}\r\n\r\nexport function sentPasswordChangeEmail(data, type) {\r\n\r\n    return httpPost(constants.API_URL_CODE, data, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n\r\nexport function resetPassword(data, type) {\r\n\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution,\r\n                        resetCode: data.resetCode\r\n                    }\r\n\r\n                }\r\n\r\n                return httpPost(constants.API_URL_RESET, newData, null)\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response.status);\r\n                    })\r\n\r\n\r\n            }\r\n        })\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n    const config = {\r\n        cipher: 'aes',\r\n        iter: '12000',\r\n        ks: 256,\r\n        salt: CryptoJS.enc.Base64.stringify((CryptoJS.enc.Utf8.parse(salt)))\r\n    }\r\n    return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n    return sjcl.decrypt(password, ciphertext);\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { withCookies } from 'react-cookie';\r\nimport './Login.scss';\r\nimport {signup, signin, sentPasswordChangeEmail, preSignup, preSignin} from './AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\nimport OakText from '../Ux/OakText';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any,\r\n    history: any,\r\n    location: any,\r\n    authorization: Authorization\r\n}\r\n\r\ninterface State {\r\n    newuser: boolean,\r\n    name: string,\r\n    email: string,\r\n    password: string,\r\n    resetCode: string\r\n}\r\n\r\nclass Login extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newuser: false,\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            resetCode:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.type === 'signup') {\r\n                this.setState({\r\n                    newuser: true\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    signin = (event) => {\r\n        event.preventDefault();\r\n\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (this.state.email && this.state.password) {\r\n            preSignin(this.state.email).then((response) => {\r\n                if (response.status === 200) {\r\n                    signin({\r\n                        email: this.state.email,\r\n                        password: this.state.password\r\n                        }, response.data)\r\n                        .then((response) => {\r\n                            if (response.status === 200) {\r\n                                sendMessage('notification', true, {message: 'Signed In successfully', type: 'success', duration: 3000});\r\n                                this.success(response.data);\r\n                            } else if (response.status === 401) {\r\n                                sendMessage('notification', true, {message: 'Incorrect passphrase', type: 'failure', duration: 3000});\r\n                            } else {\r\n                                sendMessage('notification', true, {message: 'Unknown response from server. Please try again or at a later time', type: 'failure', duration: 3000});\r\n                            }\r\n                        })\r\n                        .catch((error) => {\r\n                            sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n                        })\r\n                } else if (response.status === 404) {\r\n                    sendMessage('notification', true, {message: 'User name does not exist', type: 'failure', duration: 3000});\r\n                }\r\n            })\r\n\r\n            \r\n        } else {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Username/password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    signup = (event) => {\r\n        event.preventDefault();\r\n        const that = this;\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (this.state.name && this.state.password && this.state.email) {\r\n            if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email))) {\r\n                sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n                return;\r\n            }\r\n            preSignup().then(function(response) {\r\n                if (response.status === 200) {\r\n                    signup({\r\n                        name: that.state.name,\r\n                        password: that.state.password,\r\n                        email: that.state.email,\r\n                        solution: response.data.solution,\r\n                        salt: response.data.salt\r\n                        })\r\n                        .then(function(status) {\r\n                            if (status === 200) {\r\n                                sendMessage('notification', true, {'type': 'success', message: 'Your account has been created. You can login now', duration: 3000});\r\n                                that.toggle();\r\n                            }\r\n                        })\r\n                }\r\n            });\r\n        } else if (!this.state.name) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Name cannot be empty', duration: 3000});\r\n        } else if (!this.state.email) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Email cannot be empty', duration: 3000});\r\n        } else if (!this.state.password) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    sentEmailWithCode = () => {\r\n        if (isEmptyOrSpaces(this.state.email)) {\r\n            sendMessage('notification', true, {message: 'Email cannot be empty', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        this.sentPasswordChangeEmail('password');\r\n\r\n    }\r\n\r\n    sentPasswordChangeEmail = (type) => {\r\n        const min = 1;\r\n        const max = 100;\r\n        const rand = min + Math.random() * (max - min);\r\n        sentPasswordChangeEmail({\r\n            email: this.state.email,\r\n            resetCode: rand\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password sent successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid Email error', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    success = (data) => {\r\n        this.props.addAuth({\r\n            isAuth: true,\r\n            token: data.token,\r\n            secret: data.secret,\r\n            name: data.name\r\n        });\r\n        sendMessage('loggedin', true);\r\n        this.props.cookies.set('isAuth', true);\r\n        this.props.cookies.set('token', data.token);\r\n        this.props.cookies.set('secret', data.secret);\r\n        this.props.cookies.set('name', data.name);\r\n        this.props.cookies.set('email', data.email);\r\n        this.props.history.push(\"/bookmarks\");\r\n        // this.props.history.push(\"/notes\");\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            newuser: !this.state.newuser\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                {!this.state.newuser && <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.signin} noValidate>\r\n                        <h1>Log In</h1>\r\n                        <div className=\"form\">\r\n                            <OakText label=\"Username/e-mail\" id=\"email\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <OakText label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <OakButton theme=\"primary\" variant=\"animate in\"  action={this.signin}>Sign In</OakButton>\r\n                        <br /><br />\r\n                        Don't have an account? &nbsp; <OakButton theme=\"secondary\" variant=\"outline\"  action={this.toggle}>Sign Up</OakButton>\r\n                        <br /><br />\r\n\r\n                    </form>\r\n\r\n                    <OakButton action={this.sentEmailWithCode}>Forgot password ?</OakButton>\r\n\r\n                </div>}\r\n\r\n                {this.state.newuser && <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.signup} noValidate>\r\n                        <h1>Sign Up</h1>\r\n                        <div className=\"form\">\r\n                            <OakText label=\"Name\" id=\"name\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <OakText label=\"Email / User Name\" id=\"email\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <OakText label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <OakButton theme=\"primary\" variant=\"animate in\"  action={this.signup}>Create account</OakButton>\r\n                        <br /><br />\r\n                        Already have a account? &nbsp; <OakButton theme=\"secondary\" variant=\"outline\"  action={this.toggle}>Sign In</OakButton>\r\n                    </form>\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(withCookies(Login));\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization,\r\n  getAuth: Function,\r\n  path: string,\r\n  render: any\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass PrivateRoute extends Component<Props, State> {\r\n  componentWillMount() {\r\n    this.props.getAuth();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.authorization.isAuth && <Route path={this.props.path} render={this.props.render} />}\r\n        {/* {!this.props.authorization.isAuth && <Redirect to={{pathname: \"/login\"}} />} */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth })(PrivateRoute);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport {withCookies, ReactCookieProps} from 'react-cookie';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props extends ReactCookieProps {\r\n    authorization: Authorization,\r\n    addAuth: Function,\r\n    getAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass AuthInit extends Component<Props, State> {\r\n    componentWillMount() {\r\n        if (!this.props.authorization.isAuth && this.props.cookies.get('isAuth')) {\r\n            this.props.addAuth({\r\n                isAuth: true,\r\n                token: this.props.cookies.get('token'),\r\n                secret: this.props.cookies.get('secret'),\r\n                name: this.props.cookies.get('name')\r\n            });\r\n        }\r\n        this.props.getAuth();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <></>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(withCookies(AuthInit));","import { httpGet, httpPut } from '../components/Lib/RestTemplate';\r\nimport { constants } from '../components/Constants';\r\nimport { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nexport const getProfile = () => dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE\r\n    });\r\n}\r\n\r\nexport const reloadProfile = (authorization) => dispatch => {\r\n    httpGet(constants.API_URL_PREFERENCES,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const persistProfile = (authorization, payload) => dispatch => {\r\n    httpPut(constants.API_URL_PREFERENCES, payload,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const setProfile = (payload) => dispatch => {\r\n    dispatch({\r\n        type: SET_PROFILE,\r\n        payload: payload\r\n    });\r\n}\r\n","import React, { Component } from 'react';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n    backdrop: string\r\n}\r\n\r\nclass Backdrop extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            backdrop: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'dialog') {\r\n                    if (message.signal) {\r\n                        this.setState({backdrop: 'backdrop-fade'});\r\n                    } else {\r\n                        this.setState({backdrop: ''});\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.state.backdrop}></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Backdrop;","import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n    notification: any,\r\n    spinner: boolean\r\n}\r\n\r\nclass Notification extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            spinner: false,\r\n            notification: null\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        receiveMessage().subscribe(message => {\r\n            if (message.name === 'notification') {\r\n                if (!message.signal) {\r\n                    this.setState({\r\n                        notification: null,\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        notification: message.data,\r\n                        spinner: false\r\n                    })\r\n                    \r\n                    if (message.data && message.data.duration) {\r\n                        setTimeout(() => {\r\n                            sendMessage('notification', false);\r\n                        }, message.data.duration);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (message.name === 'spinner') {\r\n                this.setState({\r\n                    spinner: message.signal\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            {this.state.notification && <div className={\"notification \" + this.state.notification.type}><div className=\"message\">{this.state.notification.message}</div></div>}\r\n            {this.state.spinner && <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>}\r\n            {/* {this.props.spinner && <div className=\"lds-facebook\"><div></div><div></div><div></div></div>} */}\r\n            {/* {this.props.spinner && <div className=\"lds-dual-ring\"></div>} */}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notification;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n    authorization: Authorization,\r\n    profile: Profile\r\n}\r\n\r\ninterface State {\r\n    menu: boolean\r\n}\r\n\r\nclass Links extends Component<Props, State> {\r\n    toggleMenu = () => {\r\n        this.setState({\r\n            menu: !this.state.menu\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"links\">\r\n                {this.props.authorization.isAuth &&\r\n                    <>\r\n                    <NavLink to=\"/bookmarks\" className=\"navitem\" activeClassName=\"active\">Bookmarks</NavLink>\r\n                    <NavLink to=\"/notes\" className=\"navitem\" activeClassName=\"active\">Notes</NavLink>\r\n                    <NavLink to=\"/settings\" className=\"navitem\" activeClassName=\"active\">Settings</NavLink>\r\n                    <NavLink to=\"/help\" className=\"navitem\" activeClassName=\"active\">Help</NavLink>\r\n                    </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Links;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\nimport curate_white from '../../images/curate_white.svg';\r\nimport curate_black from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\ninterface State {\r\n    showSettings: boolean\r\n}\r\n\r\nclass Desktop extends Component<Props, State> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            showSettings: false\r\n        }\r\n    }\r\n\r\n    signin = (type) => {\r\n        this.props.login(type);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={(this.props.transparent ? \"navbar desktop transparent\" : \"navbar desktop\")}>\r\n                <div className=\"left\">\r\n                    {!this.props.transparent && this.props.profile.theme === 'theme_light' && <img className=\"logo\" src={curate_black} alt=\"Curate logo\" />}\r\n                    {(this.props.transparent || this.props.profile.theme === 'theme_dark') && <img className=\"logo\" src={curate_white} alt=\"Curate logo\" />}\r\n                    <Links authorization={this.props.authorization} profile={this.props.profile} />\r\n                </div>\r\n                <div className=\"right\">\r\n                    <div className=\"action\">\r\n                        {this.props.authorization.isAuth && \r\n                            <OakButton theme=\"default\" variant=\"outline\" small action={this.props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</OakButton>}\r\n                        {this.props.authorization.isAuth && \r\n                            <OakButton theme=\"default\" variant=\"outline\" small action={this.props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</OakButton>}\r\n                        {!this.props.authorization.isAuth && \r\n                            <OakButton theme=\"default\" variant=\"outline\" small action={() => this.signin('signin')}><i className=\"material-icons\">person</i>Login</OakButton>}\r\n                        {!this.props.authorization.isAuth && \r\n                            <OakButton theme=\"default\" variant=\"outline\" small action={() => this.signin('signup')}><i className=\"material-icons\">person_add</i>Signup</OakButton>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Desktop;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\nimport curate_white from '../../images/curate_white.svg';\r\nimport curate_black from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\ninterface State {\r\n    menu: boolean\r\n}\r\n\r\nclass Mobile extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            menu: false\r\n        }\r\n    }\r\n\r\n    toggleMenu = () => {\r\n        this.setState({\r\n            menu: !this.state.menu\r\n        })\r\n    }\r\n\r\n    signin = (type) => {\r\n        this.props.login(type);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            <div className={(this.props.transparent ? \"navbar mobile transparent\" : \"navbar mobile\")}>\r\n                <div className=\"left\">\r\n                    {!this.props.transparent && this.props.profile.theme === 'theme_light' && <img className=\"logo\" src={curate_black} alt=\"Curate logo\" />}\r\n                    {(this.props.transparent || this.props.profile.theme === 'theme_dark') && <img className=\"logo\" src={curate_white} alt=\"Curate logo\" />}\r\n                    {/* links */}\r\n                </div>\r\n                <div className=\"right\">\r\n                    {/* <div className=\"settings-icon\" onClick={this.props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\r\n                    <div className={(this.state.menu ? \"menu active\" : \"menu\")} onClick={this.toggleMenu}><div></div></div>\r\n                    {/* action login */}\r\n                </div>\r\n            </div>\r\n            <div className={(this.state.menu ? \"slider show\" : \"slider hide\")} onClick={this.toggleMenu}>\r\n                <div className={(this.state.menu ? \"container\": \"container hidetext\")} onClick={this.toggleMenu}>\r\n                    <div className=\"action\">\r\n                        <div className=\"settings-icon\" onClick={this.props.toggleSettings}>\r\n                            {this.props.authorization.isAuth && <OakButton theme=\"default\" variant=\"outline\" small action={this.props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</OakButton>}\r\n                        </div>\r\n                        <div className=\"buttons\">\r\n                            {this.props.authorization.isAuth && <OakButton theme=\"default\" variant=\"outline\" small action={this.props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</OakButton>}\r\n                            {!this.props.authorization.isAuth && <OakButton theme=\"secondary\" variant=\"animate none\" small action={() => this.signin('signin')}><i className=\"material-icons\">person</i>Login</OakButton>}\r\n                            {!this.props.authorization.isAuth && <OakButton theme=\"secondary\" variant=\"animate none\" small action={() => this.signin('signup')}><i className=\"material-icons\">person_add</i>Signup</OakButton>}\r\n                        </div>\r\n                    </div>\r\n                    <Links authorization={this.props.authorization} profile={this.props.profile}/>\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Mobile;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {withRouter} from 'react-router'\r\nimport { getProfile, setProfile, reloadProfile } from '../../actions/ProfileActions';\r\nimport {withCookies} from 'react-cookie';\r\n\r\nimport './style.scss';\r\nimport Desktop from './Desktop';\r\nimport Mobile from './Mobile';\r\nimport { Switch } from '@material-ui/core';\r\nimport OakDialog from '../Ux/OakDialog';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization,\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    reloadProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any,\r\n    history: any,\r\n    cookies: any,\r\n    location: any,\r\n    match: any\r\n}\r\n\r\ninterface State {\r\n    visible: boolean,\r\n    mobilemenu: string,\r\n    chooseTheme: boolean,\r\n    showSettings: boolean,\r\n    transparentNavBar: boolean,\r\n    firstLoad: boolean\r\n}\r\n\r\nclass Navigation extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            visible: false,\r\n            mobilemenu: 'hide',\r\n            chooseTheme: false,\r\n            showSettings: false,\r\n            transparentNavBar: false,\r\n            firstLoad: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'navbar-transparency') {\r\n                    this.setState({\r\n                        transparentNavBar: message.signal\r\n                    })\r\n                }\r\n\r\n                if (message.name === 'loggedin') {\r\n                    this.props.reloadProfile(this.props.authorization);\r\n                    this.setState({\r\n                        firstLoad: false\r\n                    })\r\n                }\r\n\r\n                if (message.name === 'loggedout') {\r\n                    this.props.history.push('/home');\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization && nextProps.authorization.isAut) {\r\n            this.props.reloadProfile(nextProps.authorization);\r\n            this.setState({\r\n                firstLoad: false\r\n            })\r\n        }\r\n    }\r\n\r\n    toggleDarkMode = () => {\r\n        if (this.props.profile.theme === 'theme_dark') {\r\n            this.props.setProfile({\r\n                ...this.props.profile,\r\n                theme: 'theme_light'\r\n            })   \r\n        } else  {\r\n            this.props.setProfile({\r\n                ...this.props.profile,\r\n                theme: 'theme_dark'\r\n            })   \r\n        }\r\n    }\r\n\r\n    changeTextSize = (size) => {\r\n        this.props.setProfile({\r\n            ...this.props.profile,\r\n            textSize: size\r\n        })\r\n    }\r\n\r\n    changeThemeColor = (color) => {\r\n        this.props.setProfile({\r\n            ...this.props.profile,\r\n            themeColor: color\r\n        })\r\n    }\r\n\r\n    login = (type) => {\r\n        this.props.history.push('/login?type=' + type);\r\n    }\r\n\r\n    toggleSettings = () => {\r\n        this.setState({\r\n            showSettings: !this.state.showSettings\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"nav\">\r\n                <Desktop {...this.props} logout={this.props.logout} login={this.login} toggleSettings={this.toggleSettings} transparent={this.state.transparentNavBar} />\r\n                <Mobile {...this.props} logout={this.props.logout} login={this.login} toggleSettings={this.toggleSettings} transparent={this.state.transparentNavBar} />\r\n\r\n                <OakDialog visible={this.state.showSettings} toggleVisibility={this.toggleSettings}>\r\n                    <div className=\"dialog-body\">\r\n                        <div className=\"settings\">\r\n                            <div>Dark mode</div>\r\n                            <div>\r\n                                <Switch\r\n                                checked={this.props.profile.theme === 'theme_dark'}\r\n                                onChange={this.toggleDarkMode}\r\n                                inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                            </div>\r\n                            \r\n                            <div>Text Size</div>\r\n                            <div>\r\n                                <div className={\"text-size size-1 space-right-1 \" + (this.props.profile.textSize === 'textsize_tiny' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_tiny')}>Az</div>\r\n                                <div className={\"text-size size-2 space-right-1 \" + (this.props.profile.textSize === 'textsize_small' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_small')}>Az</div>\r\n                                <div className={\"text-size size-3 space-right-1 \" + (this.props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_medium')}>Az</div>\r\n                                <div className={\"text-size size-4 \" + (this.props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_large')}>Az</div>\r\n                            </div>\r\n\r\n                            <div className=\"typography-5\">Color Scheme</div>\r\n                            <div>\r\n                                <div className=\"theme-color color-1\" onClick={() => this.changeThemeColor('themecolor_1')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n                                <div className=\"theme-color color-2\" onClick={() => this.changeThemeColor('themecolor_2')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n                                <div className=\"theme-color color-3\" onClick={() => this.changeThemeColor('themecolor_3')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n                                <div className=\"theme-color color-4\" onClick={() => this.changeThemeColor('themecolor_4')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"dialog-footer\">\r\n                        <OakButton theme=\"primary\" variant=\"animate none\" action={this.toggleSettings}>Close</OakButton>\r\n                    </div>\r\n                </OakDialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, reloadProfile })(withCookies(withRouter(Navigation)));","import React from 'react';\r\nimport { getProfile, setProfile, persistProfile } from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport View from '../Ux/View';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport { Switch } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport {withCookies} from 'react-cookie';\r\nimport {importBookmarks} from '../Bookmarks/BookmarkService';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport {signin, updateUserDetails, preSignin} from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { httpGet } from \"../Lib/RestTemplate\";\r\nimport {constants} from \"../Constants\";\r\nimport {sendBookmarkExportEmail} from \"./SettingsService\";\r\nimport OakText from '../Ux/OakText';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\ninterface Props {\r\n  profile: Profile,\r\n  getProfile: Function,\r\n  setProfile: Function,\r\n  persistProfile: Function,\r\n  authorization: Authorization,\r\n  cookies: any\r\n}\r\n\r\ninterface State {\r\n  oldPassword: string,\r\n  newPassword: string,\r\n  repeatPassword: string,\r\n  name: string,\r\n  email: string,\r\n  data:any\r\n}\r\n\r\nclass Settings extends React.Component<Props, State> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      oldPassword: '',\r\n      newPassword: '',\r\n      repeatPassword: '',\r\n      data: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      name: this.props.cookies.get('name'),\r\n      email: this.props.cookies.get('email')\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState(\r\n        {\r\n          ...this.state,\r\n            [event.currentTarget.name]: event.currentTarget.value\r\n        }\r\n    )\r\n  }\r\n\r\n  toggleDarkMode = () => {\r\n      if (this.props.profile.theme === 'theme_dark') {\r\n          this.props.persistProfile(this.props.authorization, {\r\n              ...this.props.profile,\r\n              theme: 'theme_light'\r\n          })\r\n      } else  {\r\n          this.props.persistProfile(this.props.authorization, {\r\n              ...this.props.profile,\r\n              theme: 'theme_dark'\r\n          })\r\n      }\r\n  }\r\n\r\n  changeTextSize = (size) => {\r\n      this.props.persistProfile(this.props.authorization, {\r\n          ...this.props.profile,\r\n          textSize: size\r\n      })\r\n  }\r\n\r\n  changeThemeColor = (color) => {\r\n      this.props.persistProfile(this.props.authorization, {\r\n          ...this.props.profile,\r\n          themeColor: color\r\n      })\r\n  }\r\n\r\n  changePassword = () => {\r\n    if (isEmptyOrSpaces(this.state.oldPassword)) {\r\n      sendMessage('notification', true, {message: 'Old password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(this.state.newPassword) || isEmptyOrSpaces(this.state.repeatPassword)) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (this.state.newPassword !== this.state.repeatPassword) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    this.checkOldPassword('oldpassword');\r\n  }\r\n\r\n  checkOldPassword = (type) => {\r\n    preSignin(this.state.email).then((response) => {\r\n      if (response.status === 200) {\r\n          signin({\r\n              email: this.state.email,\r\n              password: this.state.oldPassword\r\n              }, response.data)\r\n              .then((response) => {\r\n                  if (response.status === 200) {\r\n                      this.updateUserDetailsImpl('password');\r\n                      // sendMessage('notification', true, {message: 'Passphrase updated successfully', type: 'success', duration: 3000});\r\n                  } else if (response.status === 401) {\r\n                      sendMessage('notification', true, {message: 'Incorrect passphrase', type: 'failure', duration: 3000});\r\n                  } else {\r\n                      sendMessage('notification', true, {message: 'Unknown response from server. Please try again or at a later time', type: 'failure', duration: 3000});\r\n                  }\r\n              })\r\n              .catch((error) => {\r\n                  sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n              })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  updateUserDetails = () => {\r\n    if (isEmptyOrSpaces(this.state.name)) {\r\n      sendMessage('notification', true, {message: 'Name not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(this.state.email)) {\r\n      sendMessage('notification', true, {message: 'Email not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email))) {\r\n      sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n      return;\r\n    }\r\n\r\n    this.updateUserDetailsImpl('user');\r\n\r\n  }\r\n\r\n  updateUserDetailsImpl = (type) => {\r\n    updateUserDetails({\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      password: this.state.newPassword\r\n    }, this.props.authorization.token, type)\r\n    .then((response: any) => {\r\n      if (response.status === 201) {\r\n        if (type === 'password') {\r\n          sendMessage('notification', true, {message: 'Password updated successfully', type: 'success', duration: 3000});\r\n        } else{\r\n          this.props.cookies.set('name', this.state.name);\r\n          this.props.cookies.set('email', this.state.email);\r\n          sendMessage('notification', true, {message: 'User account updated successfully', type: 'success', duration: 3000});\r\n        }\r\n      } else {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n      }\r\n    })\r\n    .catch((error) => {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n    })\r\n  }\r\n\r\n  fileChoosen = (event) => {\r\n    event.preventDefault();\r\n    const that = this;\r\n    var reader = new FileReader();\r\n    sendMessage('spinner');\r\n    reader.onload = function(event: any) {\r\n      importBookmarks({\r\n        content: event.target.result\r\n      }, that.props.authorization.token)\r\n      .then(function(response) {\r\n        sendMessage('notification', true, {message: 'Imported (' + response.data.length + ') bookmarks successfully', type: 'success', duration: 6000});\r\n      });\r\n    }\r\n    reader.readAsText(event.target.files[0]);\r\n    event.target.value = '';\r\n  }\r\n\r\n  exportBookmark = () => {\r\n    const that = this;\r\n    httpGet(constants.API_URL_BOOKMARK,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + that.props.authorization.token\r\n          }\r\n        })\r\n        .then(function(response) {\r\n          let staticContent = '<META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html;' +\r\n              ' charset=UTF-8\"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>';\r\n\r\n          that.setState({data: response.data});\r\n\r\n          that.state.data.map(function(bookmark, i){\r\n            let htmlContent = '<DL><p>' + '<DT>' + '<A ' + 'HREF=\"' + bookmark.href + '\">' + bookmark.title + '</A>' + '</DL><p>';\r\n            staticContent = staticContent+htmlContent;\r\n          })\r\n\r\n          console.log(staticContent);\r\n          that.sendExportEmail(staticContent);\r\n        }\r\n        );\r\n\r\n  }\r\n  sendExportEmail = (staticContent) => {\r\n\r\n    sendBookmarkExportEmail({\r\n          email: this.state.email,\r\n          content: staticContent\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + this.props.authorization.token\r\n          }\r\n        })\r\n        .then((response: any) => {\r\n          if (response === 200) {\r\n            sendMessage('notification', true, {message: 'Check your mail for bookmark attachment', type: 'success', duration: 3000});\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n        })\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"settings\">\r\n        <ViewResolver sideLabel='More options'>\r\n          <View main>\r\n          <div className=\"typography-3\">Import Bookmarks</div>\r\n          <div className=\"space-top-2\">\r\n            <label className=\"file-upload\">\r\n              <input type=\"file\" name=\"file\" onChange={this.fileChoosen} />\r\n              Import\r\n            </label>\r\n          </div>\r\n\r\n\r\n          <div className=\"typography-3 space-top-4\">Export Bookmarks</div>\r\n          <div className=\"space-top-2\"><OakButton theme=\"secondary\" variant=\"animate in\" action={this.exportBookmark}>Export</OakButton></div>\r\n\r\n\r\n          <div className=\"typography-3 space-top-4\">Appearance</div>\r\n          <div className=\"appearance\">\r\n            <div className=\"typography-5\">Dark mode</div>\r\n            <div>\r\n                <Switch\r\n                checked={this.props.profile.theme === 'theme_dark'}\r\n                onChange={this.toggleDarkMode}\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n            </div>\r\n\r\n            <div className=\"typography-5 space-bottom-2\">Text Size</div>\r\n            <div className=\" space-bottom-2\">\r\n              <div className={\"text-size size-1 space-right-1 \" + (this.props.profile.textSize === 'textsize_tiny' ? 'active' : '')}  onClick={() => this.changeTextSize('textsize_tiny')}>Az</div>\r\n              <div className={\"text-size size-2 space-right-1 \" + (this.props.profile.textSize === 'textsize_small' ? 'active' : '')}  onClick={() => this.changeTextSize('textsize_small')}>Az</div>\r\n              <div className={\"text-size size-3 space-right-1 \" + (this.props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_medium')}>Az</div>\r\n              <div className={\"text-size size-4 \" + (this.props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_large')}>Az</div>\r\n            </div>\r\n\r\n\r\n            <div className=\"typography-5\">Color Scheme</div>\r\n            <div>\r\n              <div className=\"theme-color color-1\" onClick={() => this.changeThemeColor('themecolor_1')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n              <div className=\"theme-color color-2\" onClick={() => this.changeThemeColor('themecolor_2')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n              <div className=\"theme-color color-3\" onClick={() => this.changeThemeColor('themecolor_3')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n              <div className=\"theme-color color-4\" onClick={() => this.changeThemeColor('themecolor_4')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"typography-3 space-top-4\">User Account</div>\r\n          <div><OakText label=\"Name\" data={this.state} id=\"name\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><OakText label=\"Email\" data={this.state} id=\"email\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><OakButton theme=\"secondary\" variant=\"animate in\" action={this.updateUserDetails}>Update details</OakButton></div>\r\n\r\n          <div className=\"typography-3 space-top-4\">Password</div>\r\n          <div><OakText type=\"password\" label=\"Old Password\" data={this.state} id=\"oldPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><OakText type=\"password\" label=\"New Password\" data={this.state} id=\"newPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><OakText type=\"password\" label=\"Repeat New Password\" data={this.state} id=\"repeatPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><OakButton theme=\"secondary\" variant=\"animate in\" action={this.changePassword}>Change Password</OakButton></div>\r\n          </View>\r\n        </ViewResolver>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, persistProfile })(withCookies(Settings));\r\n","import { httpPost } from \"../Lib/RestTemplate\";\r\nimport { constants } from '../Constants';\r\n\r\nexport function importBookmarks(data, token) {\r\n    return httpPost(constants.API_URL_BOOKMARK_IMPORT, data,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            return Promise.resolve(response);\r\n        })\r\n}\r\n\r\n","import { httpPost } from \"../Lib/RestTemplate\";\r\nimport { constants } from '../Constants';\r\n\r\nexport function sendBookmarkExportEmail(data, token) {\r\n\r\n    return httpPost(constants.API_URL_MAIL, data,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport { resetPassword } from './AuthService';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\nimport OakText from '../Ux/OakText';\r\nimport OakButton from '../Ux/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    history: any,\r\n    location: any\r\n}\r\n\r\ninterface State {\r\n    password: string;\r\n    repeatPassword: string;\r\n    resetCode: string;\r\n}\r\n\r\nclass ResetPassword extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password: '',\r\n            repeatPassword: '',\r\n            resetCode:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query.code) {\r\n                this.setState({\r\n                    resetCode: query.code\r\n                })\r\n            }else {\r\n                this.props.history.push(\"/home\");\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    changePassword = () => {\r\n        if (isEmptyOrSpaces(this.state.password)) {\r\n            sendMessage('notification', true, {message: 'password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.repeatPassword) || isEmptyOrSpaces(this.state.repeatPassword)) {\r\n            sendMessage('notification', true, {message: 'Repeat password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (this.state.password !== this.state.repeatPassword) {\r\n            sendMessage('notification', true, {message: 'Password is not matching', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        this.resetPassword('password');\r\n\r\n    }\r\n\r\n    resetPassword = (type) => {\r\n        resetPassword({\r\n            password: this.state.password,\r\n            resetCode: this.state.resetCode\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password Changed successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid request', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.changePassword} noValidate>\r\n                        <h1>Reset password</h1>\r\n                        <div className=\"form\">\r\n                            <OakText label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <OakText label=\"Repeat Password\" id=\"repeatPassword\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <OakButton theme=\"primary\" variant=\"animate in\"  action={this.changePassword}>Submit</OakButton>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(ResetPassword);\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './style.scss';\r\nimport Home from '../Home';\r\nimport Bookmarks from '../Bookmarks';\r\nimport Notes from '../Notes';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport Login from '../Auth/Login';\r\nimport PrivateRoute from '../Auth/PrivateRoute';\r\nimport AuthInit from '../Auth/AuthInit';\r\nimport { withCookies } from 'react-cookie';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { getProfile } from '../../actions/ProfileActions';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Backdrop from './Backdrop';\r\nimport Notification from '../Notification';\r\nimport Navigation from '../Navigation';\r\nimport Settings from '../Settings';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport ResetPassword from '../Auth/ResetPassword';\r\n\r\nconst themes = {\r\n    'themecolor_1': getTheme('#69A7BF'),\r\n    'themecolor_2': getTheme('#99587B'),\r\n    'themecolor_3': getTheme('#A66C26'),\r\n    'themecolor_4': getTheme('#37AE82')\r\n}\r\n\r\nfunction getTheme(color) {\r\n    return createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n              main: color         \r\n          },\r\n          secondary: {\r\n              main: color\r\n          }\r\n        }\r\n      });\r\n}\r\n\r\ninterface Props {\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any,\r\n    history: any,\r\n\r\n    // event: PropTypes.object,\r\n    profile: any,\r\n    authorization: Authorization\r\n}\r\n\r\ninterface State {\r\n    authorization: Authorization,\r\n    profile: any,\r\n    event: any\r\n}\r\n\r\nclass Content extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.props.getAuth();\r\n    }\r\n    \r\n    logout = (event, type = 'success', message = 'You have been logged out') => {\r\n        this.props.removeAuth();\r\n        this.props.cookies.remove('isAuth');\r\n        this.props.cookies.remove('token');\r\n        this.props.cookies.remove('secret');\r\n        this.props.cookies.remove('name');\r\n        sendMessage('notification', true, {type: type, message: message, duration: 3000});\r\n        sendMessage('loggedout', true);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"App \" + this.props.profile.theme + \" \" + this.props.profile.textSize + \" \" + this.props.profile.themeColor}>\r\n                \r\n                <HashRouter>\r\n                    <AuthInit />\r\n                    <Backdrop />\r\n                    <div className=\"body\">\r\n                        <div className=\"body-content\">\r\n                            <Notification />\r\n                            <MuiThemeProvider theme={themes[this.props.profile.themeColor]}>\r\n                                <Navigation {...this.props} logout={() => this.logout}/>\r\n                                <Route exact path=\"/\" render={(props) => <Home {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/home\" render={(props) => <Home {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/login\" render={(props) => <Login {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/reset\" render={(props) => <ResetPassword {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <PrivateRoute path=\"/bookmarks\" render={(props) => <Bookmarks {...props} {...this.props} logout={this.logout} />} />\r\n                                <PrivateRoute path=\"/notes\" render={(props) => <Notes {...props} {...this.props} logout={() => this.logout} />} />\r\n                                <Route path=\"/settings\" render={(props) => <Settings {...props} {...this.props} logout={() => this.logout}/>} />\r\n                            </MuiThemeProvider>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth, getProfile })(withCookies(Content));\r\n","import React, { Component } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './button-oval.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Content {...this.props} />\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {CookiesProvider} from \"react-cookie\";\r\n\r\nReactDOM.render(<CookiesProvider><App /></CookiesProvider>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/curate_white.62b209a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/curate_black.de996ba5.svg\";"],"sourceRoot":""}