{"version":3,"sources":["images/developers1.jpg","images/developers2.jpg","reducers/AuthReducer.js","reducers/ProfileReducer.js","reducers/EventReducer.js","reducers/index.js","actions/types.js","store.js","events/MessageService.ts","components/Home/index.tsx","components/Bookmarks/Link.js","components/Constants.js","components/Ux/ArcTextField.tsx","components/Ux/ArcDialog.tsx","components/Ux/ViewResolver.tsx","components/Ux/View.tsx","components/Utils.js","components/Ux/Sidebar.tsx","components/Bookmarks/index.js","components/Ux/Showdown.tsx","components/Ux/ArcSelect.tsx","components/Notes/Note.js","components/Ux/ActionButton.tsx","components/Canvas/index.tsx","components/Notes/NoteRef.js","components/Notes/Artboard.js","components/Notes/index.js","actions/AuthActions.js","components/Auth/AuthService.ts","components/Auth/Login.tsx","components/Auth/PrivateRoute.tsx","components/Auth/AuthInit.tsx","actions/ProfileActions.js","components/App/Backdrop.tsx","components/Notification/index.tsx","components/Navigation/Links.tsx","components/Navigation/Desktop.tsx","components/Navigation/Mobile.tsx","components/Navigation/index.tsx","components/Bookmarks/BookmarkService.js","components/Settings/index.tsx","components/Auth/ResetPassword.tsx","components/App/Content.tsx","actions/EventActions.js","components/App/index.tsx","serviceWorker.js","index.js","images/curate_white.svg","images/curate_black.svg"],"names":["module","exports","__webpack_require__","p","initialState","isAuth","token","secret","name","theme","textSize","themeColor","signal","data","combineReducers","authorization","state","arguments","length","undefined","action","type","console","log","Object","objectSpread","payload","profile","event","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","subject","Subject","sendMessage","next","receiveMessage","asObservable","Home","react_default","a","createElement","Fragment","className","react_router_dom","to","activeClassName","src","developers2","alt","developers1","React","Component","Link","edit","_this","props","editBookmark","bookmark","delete","deleteBookmark","id","_this2","this","tags","split","map","item","push","key","onClick","searchByTag","title","target","rel","href","createdAt","constants","API_URL_PRESIGNUP","API_URL_SIGNUP","API_URL_PRESIGNIN","API_URL_SIGNIN","API_URL_RESET","API_URL_CODE","API_URL_BOOKMARK","API_URL_BOOKMARK_IMPORT","API_URL_PREFERENCES","API_URL_USER_DETAILS","API_URL_NOTE","ArcTextField","label","handleChange","error","rows","multiline","rest","objectWithoutProperties","TextField","assign","value","onChange","e","margin","variant","fullWidth","ArcDialog","nextProps","visible","window","scrollTo","toggleVisibility","children","ViewResolver","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","viewPort","matchMedia","viewPortChange","port","setState","mobileViewPort","matches","toggleSideView","showSide","views","initializeViews","addListener","subscribe","message","_this3","Children","toArray","forEach","node","main","side","_this4","sideLabel","View","isEmptyOrSpaces","str","match","text","words","found","word","RegExp","Sidebar","toggle","show","hide","elements","icon","number","animate","queryString","require","baseUrl","process","Bookmarks","toggleEditDialog","isEditDialogOpen","editDialogLabel","_id","bookmarkId","that","assertThisInitialized","axios","headers","Authorization","then","response","status","sendEvent","duration","initializeBookmarks","catch","logout","clearSearch","view","items","isFiltered","searchtext","tagName","searchPref","search","preventDefault","filter","toggleSearchPref","pref","defineProperty","addBookmark","put","currentTarget","firstLoad","sidebarElements","addNew","location","query","parse","q","startsWith","content","get","listview","Bookmarks_Link","components_Ux_ArcDialog","Ux_ArcTextField","components_Ux_ViewResolver","Ux_View","components_Ux_Sidebar","method","onSubmit","noValidate","Switch","checked","inputProps","aria-label","Showdown","html","showdown","Converter","tables","makeHtml","source","dangerouslySetInnerHTML","__html","useStyles","makeStyles","root","display","flexWrap","formControl","minWidth","selectEmpty","marginTop","spacing","ArcSelect","classes","objects","first","firstAction","dropdownList","MenuItem","FormControl","InputLabel","htmlFor","Select","autoWidth","maxWidth","Note","editNote","note","deleteNote","showEdit","notebook","flag","hideEdit","save","newNotebook","saveNote","togglepreview","preview","flags","Ux_Showdown","Ux_ArcSelect","notebooks","ActionButton","isDown","origX","origY","stroke","leftLabel","rightLabel","leftAction","rightAction","removeMd","NoteRef","selectNote","Ux_ActionButton","tag","removeTag","selected","showTag","substring","Canvas","width","innerWidth","height","innerHeight","backgroundColor","attributes","refreshCanvas","canvas","mouseDown","mouseMove","mouseUp","fabric","isDrawingMode","loadFromDatalessJSON","freeDrawingBrush","color","renderAll","on","o","pointer","getPointer","x","y","Line","strokeWidth","add","set","left","Math","abs","top","JSON","stringify","Artboard","attributeChange","contentChange","Canvas_Canvas","Notes","sortTypes","created","last modified","note name","sortOrders","newNote","toggleAddDialog","newArtboard","toggleArtboardAddDialog","isAddDialogOpen","resetForm","existingNotebook","isArtboardAddDialogOpen","closeAllDialog","toggleFilter","showFilter","searchResults","selectedNoteId","notebookFilter","notebookList","toConsumableArray","Set","applyFilter","array","property","isReverseOrder","noteList","sortBy","sortOrder","sort","o1","o2","filteredNotebookList","noteId","initializeNotes","saveNoteEvent","saveArtboardEvent","handleNotebookFilterChange","existingNotebookList","receiveEvents","noteview","Notes_Note","Notes_Artboard","listNoteRef","Notes_NoteRef","keys","getAuth","dispatch","addAuth","removeAuth","signin","email","solution","password","ciphertext","sjcl","decrypt","post","Promise","resolve","encrypt","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","Utf8","Login","success","signup","test","problem","sentEmailWithCode","sentPasswordChangeEmail","rand","random","resetCode","cookies","history","newuser","connect","withCookies","PrivateRoute","react_router","path","render","AuthInit","getProfile","setProfile","Backdrop","backdrop","Notification","spinner","notification","setTimeout","Links","toggleMenu","menu","Desktop","login","showSettings","transparent","curate_black","curate_white","Navigation_Links","toggleSettings","Mobile","Navigation","toggleDarkMode","changeTextSize","size","changeThemeColor","mobilemenu","chooseTheme","transparentNavBar","reloadProfile","Navigation_Desktop","Navigation_Mobile","withRouter","Settings","persistProfile","changePassword","oldPassword","newPassword","repeatPassword","checkOldPassword","updateUserDetailsImpl","updateUserDetails","newData","fileChoosen","reader","FileReader","onload","result","readAsText","files","exportBookmark","staticContent","i","htmlContent","ResetPassword","resetPassword","code","themes","themecolor_1","getTheme","themecolor_2","themecolor_3","themecolor_4","createMuiTheme","palette","primary","secondary","Content","remove","react_router_dom_min","Auth_AuthInit","App_Backdrop","components_Notification","MuiThemeProvider","components_Navigation","exact","Home_Home","components_Auth_Login","Auth_ResetPassword","Auth_PrivateRoute","components_Bookmarks","components_Notes","components_Settings","App","es","App_Content","Boolean","hostname","ReactDOM","es6","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0606fc56.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/developers1.b75ace5c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/developers2.cf83e454.jpg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\n\nconst initialState = {\n    isAuth: false,\n    token: '',\n    secret: '',\n    name: ''\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case GET_AUTH:\n            console.log('GET_AUTH reducer');\n            return {\n                ...state\n            };\n        case ADD_AUTH:\n            console.log('ADD_AUTH reducer');\n            return {\n                ...state,\n                ...action.payload\n            };\n        case REMOVE_AUTH:\n            console.log('REMOVE_AUTH reducer');\n            return {\n                ...state,\n                isAuth: false,\n                token: '',\n                secret: '',\n                name: ''\n            };\n        default:\n            return state;\n    }\n}","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    theme: 'theme_dark',\r\n    textSize: 'textsize_medium',\r\n    themeColor: 'themecolor_1'\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_PROFILE:\r\n            console.log('GET_PROFILE reducer');\r\n            return {\r\n                ...state\r\n            };\r\n        case SET_PROFILE:\r\n            console.log('SET_PROFILE reducer');\r\n            console.log(action.payload);\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { RECEIVE_EVENT, SEND_EVENT } from '../actions/types';\n\nconst initialState = {\n    name: 'none',\n    signal: false,\n    data: {}\n}\n\nexport default function(state = initialState, action) {\n    switch(action.type) {\n        case RECEIVE_EVENT:\n            console.log('RECEIVE_EVENT reducer');\n            return {\n                ...state\n            };\n        case SEND_EVENT:\n            console.log('SEND_EVENT reducer');\n            return {\n                ...state,\n                ...action.payload\n            };\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport AuthReducer from './AuthReducer';\nimport ProfileReducer from './ProfileReducer';\nimport EventReducer from './EventReducer';\n\nexport default combineReducers({\n    authorization: AuthReducer,\n    profile: ProfileReducer,\n    event: EventReducer\n})","export const GET_AUTH = 'GET_AUTH';\nexport const ADD_AUTH = 'ADD_AUTH';\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\n\nexport const GET_PROFILE = 'GET_PROFILE';\nexport const SET_PROFILE = 'SET_PROFILE';\n\nexport const RECEIVE_EVENT = 'RECEIVE_EVENT';\nexport const SEND_EVENT = 'SEND_EVENT';","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers'\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    compose(\n        applyMiddleware(...middleware)//,\n        // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n    )\n);\n\nexport default store;\n","import { Subject, Observable } from 'rxjs';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n    subject.next({\r\n        name: name,\r\n        signal: signal,\r\n        data: data\r\n    });\r\n}\r\n\r\nexport function clearMessages() {\r\n    subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n    return subject.asObservable();\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './style.scss';\r\nimport developers1 from '../../images/developers1.jpg';\r\nimport developers2 from '../../images/developers2.jpg';\r\n\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport { Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  setProfile: Function,\r\n  profile: Profile,\r\n  match: any,\r\n  logout: Function\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nexport default class Home extends React.Component<Props, State> {\r\n  componentWillMount() {\r\n    sendMessage('navbar-transparency');\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    sendMessage('navbar-transparency', false);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"home\">\r\n          <div className=\"section parallax bg1\" />\r\n          <div className=\"section static bg1 odd\">\r\n            <h3>A bookmarking app like never before</h3>\r\n            <p>Take your link to the web wherever you go, with the most secure bookmark and note taking app</p>\r\n            <br />\r\n            <p><NavLink to=\"/login\" className=\"navitem\" activeClassName=\"active\">Sign up</NavLink>&nbsp;for free</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg bg2\" />\r\n          <div className=\"section static bg2 even\">\r\n            <h3>Secure by design</h3>\r\n            <p>Designed with security as a primary factor from ground up</p>\r\n            <p>Your passwords never leaves your workstation</p>\r\n            <p>Our servers have zero knowledge about your password</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg3\" />\r\n          <div className=\"section static bg3 odd\">\r\n            <h3>Premium features</h3>\r\n            <p>Get premium features free for lifetime. We standby free software for all</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg4\" />\r\n          <div className=\"section static bg4 even\">\r\n            <h3>Don't mix up personal and business</h3>\r\n            <p>With the help of workspaces, you can now work in isolated containers</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg5\" />\r\n          <div className=\"section static bg5 odd\">\r\n            <h3>We love open source</h3>\r\n            <p>Our codebase is 100% available for the community to do peer review and audit for any security flaws</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg6\" />\r\n          <div className=\"section static bg6 even\">\r\n            <h3>Clean clutter free interface</h3>\r\n            <p>Modern interface with a clutter free design to keep you in focus on your activity</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg7\" />\r\n          <div className=\"section static bg7 odd\">\r\n            <h3>Travel to the future</h3>\r\n            <p>We are evolving for the future. More features on the way. You can watch our roadmap here</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg8\" />\r\n          <div className=\"section static developers bg8\">\r\n            <div className=\"headline\">Meet the creators</div>\r\n            <div className=\"container\">\r\n              <div className=\"contact\">\r\n                <img src={developers2} alt=\"Avatar\" />\r\n                <div className=\"name\">Amarandra Sahoo</div>\r\n                <div className=\"tag\">Backend implementation</div>\r\n                <div className=\"description\">\r\n                  <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"contact\">\r\n                <img src={developers1} alt=\"Avatar\" />\r\n                <div className=\"name\">Arun Kumar Selvaraj</div>\r\n                <div className=\"tag\">Frontend implementation</div>\r\n                <div className=\"description\">\r\n                  {/* <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p> */}\r\n                  <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './style.scss';\r\n\r\nclass Link extends Component {\r\n\r\n    edit = () => {\r\n        this.props.editBookmark(this.props.bookmark);\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteBookmark(this.props.id);\r\n    }\r\n\r\n    render() {\r\n        const tags = [];\r\n        if (this.props.bookmark.tags) {\r\n            this.props.bookmark.tags.split(\" \").map(item => {\r\n                tags.push(<div className=\"tag\" key={item} onClick={() => this.props.searchByTag(item)}>{item}</div>);\r\n            })\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                <div className=\"title typography-4\">{this.props.bookmark.title}\r\n                    <div className=\"action-icon\">\r\n                        <i onClick={this.edit} className=\"material-icons\">edit</i>\r\n                        <i onClick={this.delete} className=\"material-icons\">delete</i>\r\n                    </div>\r\n                </div>\r\n                <div className=\"url typography-6\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.bookmark.href}>{this.props.bookmark.href}</a></div>\r\n                <div className=\"timestamp typography-6 space-bottom-1\">{this.props.bookmark.createdAt}</div>\r\n                {tags}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Link;\r\n","export const constants = {\r\n    API_URL_PRESIGNUP: \"/auth/keys\",\r\n    API_URL_SIGNUP: \"/auth/signup\",\r\n    API_URL_PRESIGNIN: \"/auth/keys/\",\r\n    API_URL_SIGNIN: \"/auth/signin\",\r\n    API_URL_RESET: \"/auth/reset\",\r\n    API_URL_CODE: \"/auth/sendResetCode\",\r\n\r\n    API_URL_BOOKMARK: \"/bookmark\",\r\n    API_URL_BOOKMARK_IMPORT: \"/bookmark/import\",\r\n    API_URL_PREFERENCES: \"/user/preferences\",\r\n    API_URL_USER_DETAILS: \"/user/details\",\r\n\r\n    API_URL_NOTE: \"/note\"\r\n}\r\n","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\n\r\ninterface Props {\r\n    id: string,\r\n    label: string,\r\n    handleChange: any,\r\n    error?: boolean,\r\n    data: any,\r\n    rows?: number,\r\n    multiline?: boolean,\r\n    type?: string\r\n};\r\nfunction ArcTextField(props: Props) {\r\n    const { id, label, handleChange, error, rows, multiline, data, type,  ...rest } = props;\r\n    return (\r\n        <TextField\r\n                id={id}\r\n                label={label}\r\n                name={id}\r\n                value={data[id]}\r\n                onChange={e => handleChange(e)}\r\n                margin=\"normal\"\r\n                variant=\"standard\"\r\n                fullWidth\r\n                error={error}\r\n                multiline={multiline}\r\n                rows={rows}\r\n                type={type}\r\n                {...rest}\r\n                />\r\n    )\r\n}\r\n\r\nexport default ArcTextField;\r\n","import React, { Component } from 'react';\r\nimport './ArcDialog.scss';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    visible: boolean,\r\n    title: string,\r\n    toggleVisibility: any\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass ArcDialog extends Component<Props, State> {\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.visible !== nextProps.visible) {\r\n            if (nextProps.visible) {\r\n                sendMessage('dialog');\r\n                window.scrollTo(500, 0);\r\n            } else {\r\n                sendMessage('dialog', false);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n            <div className=\"dialog-outer\">\r\n                <div className={(this.props.visible ? \"dialog show\" : \"dialog hide\")}>\r\n                    {this.props.title && <div className=\"header\">{this.props.title}<i className=\"material-icons\" onClick={this.props.toggleVisibility}>close</i></div>}\r\n                    <div className=\"container\">\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ArcDialog;","import React, { Component } from 'react';\r\nimport './ViewResolver.scss';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    sideLabel?: string\r\n}\r\n\r\ninterface State {\r\n    views: any,\r\n    main?: any,\r\n    side?: any,\r\n    showSide: boolean,\r\n    mobileViewPort: any\r\n}\r\n\r\nclass ViewResolver extends Component<Props, State> {\r\n    \r\n    viewPort = window.matchMedia(\"(max-width: 767px)\");\r\n\r\n    viewPortChange = (port) => {\r\n        this.setState({\r\n            mobileViewPort: port.matches\r\n        });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            views: this.props.children,\r\n            showSide: false,\r\n            mobileViewPort: false\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.initializeViews();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.viewPortChange(this.viewPort);\r\n        this.viewPort.addListener(this.viewPortChange);\r\n\r\n        receiveMessage().subscribe(message => {\r\n            if (message.name === 'sidebar') {\r\n                this.setState({\r\n                    showSide: message.signal\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    initializeViews() {\r\n        React.Children.toArray(this.state.views).forEach((node) => {\r\n            // node.type.name is minified after build and so static build result has different alphabet\r\n            // if (node.type.name === 'View') {\r\n                if (node.props.main) {\r\n                    this.setState({\r\n                        main: node\r\n                    })\r\n                } else if (node.props.side) {\r\n                    this.setState({\r\n                        side: node\r\n                    })\r\n                }\r\n            // }\r\n        })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.children) {\r\n            this.setState({\r\n                views: nextProps.children\r\n            }, () => {\r\n                this.initializeViews();\r\n            })\r\n        }\r\n    }\r\n\r\n    toggleSideView = () => {\r\n        sendMessage('sidebar', !this.state.showSide);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            {!this.state.mobileViewPort && <div className=\"view-desktop\">\r\n                {this.state.side && <div className=\"view-side\">\r\n                    {this.state.side}\r\n                </div>}\r\n                <div className={'view-content' + (this.state.side ? ' side-present' : '')}>\r\n                    {this.state.main}\r\n                </div>\r\n            </div>}\r\n\r\n            {this.state.mobileViewPort && <div className=\"view-mobile\">\r\n                <div className={(this.state.showSide ? \"slider show\" : \"slider hide\")}>\r\n                    <div className=\"topbar\" onClick={this.toggleSideView}>\r\n                        <div>\r\n                            <button className=\"default hidden\" onClick={this.toggleSideView}>\r\n                                {!this.state.showSide && <><i className=\"material-icons\">expand_more</i>{this.props.sideLabel ? this.props.sideLabel : 'Menu'}</>}\r\n                                {this.state.showSide && <><i className=\"material-icons\">expand_less</i>Collapse</>}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"view-side\">\r\n                        {this.state.showSide && this.state.side}\r\n                    </div>\r\n                </div>\r\n                {!this.state.showSide && <div className=\"view-main\">\r\n                    {this.state.main}\r\n                </div>}\r\n            </div>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewResolver;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\ninterface Props {\r\n    main?: any,\r\n    side?: any\r\n}\r\n\r\ninterface State {\r\n}\r\n\r\nclass View extends Component<Props, State> {\r\n    render() {\r\n        return (\r\n            <div>\r\n               {/* {this.props} */}\r\n               {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default View;","export function isEmptyOrSpaces(str){\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function match(text, words) {\r\n    let found = false;\r\n    if (words) {\r\n        words.split(' ').forEach(word => {\r\n            if (text.match(new RegExp('(\\\\w*'+ word +'\\\\w*)','gi'))) {\r\n                found = true;\r\n            }\r\n        });\r\n    }\r\n    return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n    const result = array.sort(function(o1,o2){\r\n        if (isReverseOrder) {\r\n            return o1[property] > o2[property] ? -1 : o1[property] < o2[property] ? 1 : 0;\r\n        } else {\r\n            return o1[property] < o2[property] ? -1 : o1[property] > o2[property] ? 1 : 0;\r\n        }\r\n    });\r\n\r\n    return result;\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Sidebar.scss';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    show: boolean,\r\n    elements: Array<string>,\r\n    label: string,\r\n    icon: string,\r\n    number: number,\r\n    animate: string\r\n}\r\n\r\ninterface State {\r\n    show: boolean,\r\n    elements: Array<string>\r\n}\r\n\r\nclass Sidebar extends Component<Props, State> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: this.props.show,\r\n            elements: this.props.elements ? this.props.elements : []\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            show: !this.state.show\r\n        }, () => sendMessage('sidebarExpanded', this.state.show, {label: this.props.label}));\r\n    }\r\n\r\n    hide = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.event && nextProps.event.name === 'sidebarExpanded' && nextProps.event.signal) {\r\n            if (nextProps.event.data && nextProps.event.data.label !== this.props.label) {\r\n                this.setState({\r\n                    show: false\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const elements = this.state.elements.map((item: any) => (\r\n            <div key={item.label} className=\"element\" onClick={item.action}><i className=\"material-icons\">{item.icon}</i>{item.label}</div>\r\n        ))\r\n        return (            \r\n            <div className=\"sidebar\">\r\n                <div className={this.state.show ? \"header active\" : \"header\"} onClick={this.toggle}>\r\n                    <div className=\"label\">\r\n                        <i className=\"material-icons\">{this.props.icon}</i>\r\n                        {this.props.label}\r\n                        {this.props.number !== undefined && <div className=\"number\">{this.props.number}</div>}\r\n                    </div>\r\n                    {/* <div className=\"aria\"><i className=\"material-icons\">{this.state.show ? 'expand_less' : 'expand_more'}</i></div> */}\r\n                    <div className=\"aria\"><i className={this.state.show ? \"material-icons collapse\" : \"material-icons\"}>keyboard_arrow_left</i></div>\r\n                </div>\r\n                <div className={this.state.show ? \"content show \" + (this.props.animate ? \"animate\" : \"static\") : \"content hide \" + (this.props.animate ? \"animate\" : \"static\")}>\r\n                    {elements}\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n            \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Sidebar;","import React, { Component } from 'react';\r\nimport Link from './Link';\r\nimport PropTypes from 'prop-types';\r\nimport { constants } from '../Constants';\r\nimport axios from \"axios\";\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport ArcDialog from '../Ux/ArcDialog';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport View from '../Ux/View';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport { isEmptyOrSpaces, match } from '../Utils';\r\nimport Sidebar from '../Ux/Sidebar';\r\n\r\nconst queryString = require('query-string');\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nclass Bookmarks extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            view: [],\r\n            isEditDialogOpen: false,\r\n\r\n            searchtext: '',\r\n            isFiltered: false,\r\n\r\n            id: null,\r\n            title: '',\r\n            href: '',\r\n            tags: '',\r\n            editDialogLabel: 'Add',\r\n            firstLoad: true,\r\n\r\n            searchPref: {\r\n                title: true,\r\n                tags: true,\r\n                href: true\r\n            },\r\n\r\n            sidebarElements: {\r\n                addNew: [\r\n                    {\r\n                        label: 'New Bookmark',\r\n                        action: this.toggleEditDialog,\r\n                        icon: 'note_add'\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    this.setState({\r\n                        searchPref: {\r\n                            title: false,\r\n                            tags: true,\r\n                            content: false\r\n                        }\r\n                    })\r\n                }\r\n                this.setState({\r\n                    searchtext: query.q,\r\n                    isFiltered: true\r\n                })\r\n            }\r\n        }\r\n\r\n        if(this.state.firstLoad && this.props.authorization.isAuth) {\r\n            this.initializeBookmarks(this.props.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization) {\r\n            this.initializeBookmarks(nextProps.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n\r\n    initializeBookmarks(authorization) {\r\n        const that = this;\r\n        axios.get(baseUrl + constants.API_URL_BOOKMARK,\r\n            {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + authorization.token\r\n                }\r\n            })\r\n            .then(function(response) {\r\n                that.setState({items: response.data, view: response.data});\r\n                if (that.state.isFiltered) {\r\n                    that.search();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    toggleEditDialog = () => {\r\n        this.setState({\r\n            isEditDialogOpen: !this.state.isEditDialogOpen,\r\n            id: null,\r\n            title: '',\r\n            href: '',\r\n            tags: '',\r\n            editDialogLabel: 'Add'\r\n        })\r\n    }\r\n\r\n    editBookmark = (bookmark) => {\r\n        this.setState({\r\n            isEditDialogOpen: true,\r\n            id: bookmark._id,\r\n            title: bookmark.title,\r\n            href: bookmark.href,\r\n            tags: bookmark.tags,\r\n            editDialogLabel: 'Save'\r\n        })\r\n    }\r\n\r\n    deleteBookmark = (bookmarkId) => {\r\n        const that = this;\r\n        axios.delete(baseUrl + constants.API_URL_BOOKMARK + \"/\" + bookmarkId,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                that.props.sendEvent('notification', true, {type: 'success', message: 'Bookmark deleted', duration: 5000});\r\n                that.initializeBookmarks(that.props.authorization);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    clearSearch = () => {\r\n        this.setState({\r\n            view: this.state.items,\r\n            isFiltered: false,\r\n            searchtext: ''\r\n        })\r\n        this.props.sendEvent('sidebar', false)\r\n    }\r\n\r\n    searchByTag = (tagName) => {\r\n        \r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                title: false,\r\n                tags: true,\r\n                href: false\r\n            },\r\n            searchtext: tagName,\r\n            isFiltered: true\r\n        }, () => this.initializeBookmarks(this.props.authorization));\r\n    }\r\n\r\n    search = (event) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.searchtext)) {\r\n            this.setState({\r\n                view: this.state.items,\r\n                isFiltered: false\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            view: this.state.items.filter((item) => {\r\n                if (this.state.searchPref.title && match(item.title, this.state.searchtext)) {\r\n                    return true;\r\n                } else if (this.state.searchPref.tags && match(item.tags, this.state.searchtext)) {\r\n                    return true;\r\n                } else if (this.state.searchPref.href && match(item.href, this.state.searchtext)) {\r\n                    return true;\r\n                }\r\n            }),\r\n            isFiltered: true\r\n        });\r\n        this.props.sendEvent('sidebar', false)\r\n    }\r\n\r\n    toggleSearchPref = (pref) => {\r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                [pref]: !this.state.searchPref[pref]\r\n            }\r\n        })\r\n    }\r\n\r\n    addBookmark= () => {\r\n        const that = this;\r\n\r\n        let bookmark = {\r\n            id: this.state.id,\r\n            title: this.state.title,\r\n            href: this.state.href,\r\n            tags: this.state.tags\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.title)) {\r\n            that.props.sendEvent('notification', true, {type: 'failure', message: 'Title / description missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.href)) {\r\n            that.props.sendEvent('notification', true, {type: 'failure', message: 'Website URL / Link is missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.tags)) {\r\n            bookmark.tags = 'unsorted';\r\n        }\r\n\r\n        axios.put(baseUrl + constants.API_URL_BOOKMARK, bookmark,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                that.props.sendEvent('notification', true, {type: 'success', message: 'Bookmark created', duration: 5000});\r\n                that.toggleEditDialog();\r\n\r\n                that.initializeBookmarks(that.props.authorization);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const listview = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n            <Link id={item._id} bookmark={item} editBookmark={this.editBookmark} deleteBookmark={this.deleteBookmark} searchByTag={this.searchByTag} />\r\n            <br />\r\n            </div>\r\n        ))\r\n        return (\r\n            <div className=\"bookmarks\">\r\n                <ArcDialog title=\"Add Bookmark\" visible={this.state.isEditDialogOpen} toggleVisibility={this.toggleEditDialog}>\r\n                    <ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                    <ArcTextField label=\"URL\" data={this.state} id=\"href\" handleChange={e => this.handleChange(e)} />\r\n                    <ArcTextField label=\"Tags\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n                    <div className=\"actions\">\r\n                        <button onClick={this.toggleEditDialog} className=\"default disabled\"><i className=\"material-icons\">close</i>Cancel</button>\r\n                        <button onClick={this.addBookmark} className=\"primary block\"><i className=\"material-icons\">double_arrow</i>{this.state.editDialogLabel}</button>\r\n                    </div>\r\n                </ArcDialog>\r\n\r\n                <ViewResolver event={this.props.event} sendEvent={this.props.sendEvent}>\r\n                    <View main>\r\n                        {listview}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                                <Sidebar label=\"Add New\" elements={this.state.sidebarElements['addNew']} icon=\"add\" event={this.props.event} sendEvent={this.props.sendEvent} animate />\r\n                                <Sidebar label=\"Search\" elements={this.state.sidebarElements['search']} icon=\"search\" event={this.props.event} sendEvent={this.props.sendEvent} animate number={this.state.isFiltered ? this.state.view.length : undefined}>\r\n                                    <form method=\"GET\" onSubmit={this.search} noValidate>\r\n                                    <div className=\"space-top-2 space-left-4 space-right-4\"><ArcTextField label=\"Keywords\" id=\"searchtext\" data={this.state} handleChange={e => this.handleChange(e)} /></div>\r\n                                    </form>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.title}\r\n                                            onChange={() => this.toggleSearchPref('title')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include title\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.tags}\r\n                                            onChange={() => this.toggleSearchPref('tags')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include tags\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.href}\r\n                                            onChange={() => this.toggleSearchPref('href')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include URL\r\n                                    </div>\r\n                                    {this.state.isFiltered && <div className=\"typography-4 space-top-2 space-left-2\">Found {this.state.view.length} bookmarks matching the search criteria</div>}\r\n                                    <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                        <div>\r\n                                            <button onClick={this.clearSearch} className=\"default\">Clear</button>\r\n                                        </div>\r\n                                        <div>\r\n                                            <button onClick={this.search} className=\"default animate space-right-2\">Search</button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nBookmarks.propTypes = {\r\n    receiveEvents: PropTypes.func.isRequired,\r\n    sendEvent: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Bookmarks;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport showdown  from 'showdown';\r\nimport './Showdown.scss';\r\n\r\nfunction Showdown(props) {\r\n    const converter = new showdown.Converter({tables: true});\r\n    const html      = converter.makeHtml(props.source);\r\n    return (\r\n        <div className=\"markdown-body\">\r\n            <div dangerouslySetInnerHTML={{__html:html}} />\r\n        </div>\r\n    )\r\n}\r\n\r\nShowdown.propTypes = {\r\n};\r\n\r\nexport default Showdown;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './ArcSelect.scss';\r\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n    //   margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\n  \r\ninterface Props {\r\n  id: string,\r\n  label: string,\r\n  handleChange: Function,\r\n  error?: boolean,\r\n  data: any,\r\n  elements?: Array<string>,\r\n  objects?: Array<any>,\r\n  first: string,\r\n  firstAction: string,\r\n  maxWidth: string\r\n}\r\n\r\nfunction ArcSelect(props: Props) {\r\n    const classes = useStyles();\r\n\r\n    const { id, label, elements, objects, handleChange, error, data, first,firstAction,  ...rest } = props;\r\n    let dropdownList: Array<any> = [];\r\n    \r\n    if (elements) {\r\n      dropdownList = elements.map(item => <MenuItem key={item} value={item}>{item}</MenuItem>);\r\n    } else if (objects) {\r\n      dropdownList = objects.map(item => <MenuItem key={item.key} value={item.key}>{item.value}</MenuItem>);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n        <FormControl className={\"arc-select \" + classes.formControl}>\r\n            <InputLabel htmlFor={id}>{label}</InputLabel>\r\n            <Select\r\n            value={data[id]}\r\n            onChange={e => handleChange(e)}\r\n            inputProps={{\r\n                name: id,\r\n                id: id,\r\n            }}\r\n            autoWidth\r\n            className={props.maxWidth ? props.maxWidth : \"\"}\r\n            >\r\n                {first && <MenuItem value={first}>{first}</MenuItem>}\r\n                {firstAction && <MenuItem value={firstAction}><em>{firstAction}</em></MenuItem>}\r\n                {dropdownList}\r\n            </Select>\r\n        </FormControl>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ArcSelect;","import React, { Component } from 'react';\r\nimport Showdown from '../Ux/Showdown';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport ArcSelect from '../Ux/ArcSelect';\r\n\r\nclass Note extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editNote: false,\r\n            preview: true,\r\n            newNotebook: '',\r\n            \r\n\r\n            flags: [\r\n                {\r\n                    key: 'one',\r\n                    value: <div className=\"select-palette one\" />\r\n                },\r\n                {\r\n                    key: 'two',\r\n                    value: <div className=\"select-palette two\" />\r\n                },\r\n                {\r\n                    key: 'three',\r\n                    value: <div className=\"select-palette three\" />\r\n                },\r\n                {\r\n                    key: 'four',\r\n                    value: <div className=\"select-palette four\" />\r\n                },\r\n                {\r\n                    key: 'five',\r\n                    value: <div className=\"select-palette five\" />\r\n                },\r\n                {\r\n                    key: 'six',\r\n                    value: <div className=\"select-palette six\" />\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.event && nextProps.event.name === 'closeNoteEditView' && nextProps.event.signal) {\r\n            this.hideEdit();\r\n            this.setState({newNotebook: ''});\r\n        }\r\n    }\r\n\r\n    edit = () => {\r\n        this.props.editNote(this.props.note);\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteNote(this.props.id);\r\n    }\r\n\r\n    showEdit = () => {\r\n        this.setState({\r\n            editNote: true,\r\n            title: this.props.note.title,\r\n            content: this.props.note.content,\r\n            tags: this.props.note.tags,\r\n            notebook: this.props.note.notebook,\r\n            flag: this.props.note.flag\r\n        })\r\n    }\r\n\r\n    hideEdit = () => {\r\n        this.setState({\r\n            editNote: false\r\n        })\r\n    }\r\n\r\n    save = () => {\r\n        let notebook = this.state.notebook;\r\n\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n\r\n        this.props.saveNote({\r\n            id: this.props.id,\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            flag: this.state.flag,\r\n            notebook: notebook\r\n        }, true)\r\n    }\r\n\r\n    togglepreview = () => {\r\n        this.setState({\r\n            preview: !this.state.preview\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const tags = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<div key={item} className=\"tag\">{item}</div>);\r\n            })\r\n        }\r\n\r\n        return (\r\n            <>\r\n            {!this.state.editNote && \r\n            <>\r\n                <div className=\"notebook\"><i className=\"material-icons\">insert_drive_file</i>{this.props.note.notebook}</div>\r\n                {/* <div className=\"space-bottom-2\" /> */}\r\n                <div className=\"typography-3 space-bottom-1\">\r\n                    {this.props.note.title}\r\n                </div>\r\n                {tags}\r\n                <div className=\"space-bottom-2\" />\r\n                <button onClick={this.showEdit} className=\"secondary animate left\"><i className=\"material-icons\">edit</i>Edit</button>\r\n                <button onClick={this.delete} className=\"secondary animate right\"><i className=\"material-icons\">delete</i>Delete</button>\r\n                \r\n                \r\n                <Showdown source={this.props.note.content} />\r\n\r\n            </>}\r\n            \r\n            {this.state.editNote && \r\n                <div>\r\n                    <div className=\"typography-3 space-bottom-1\">{this.state.title}</div>\r\n                    \r\n                    <button onClick={this.save} className=\"primary animate left space-bottom-2\"><i className=\"material-icons\">double_arrow</i>Save</button>\r\n                    <button onClick={this.showEdit} className=\"default disabled center\"><i className=\"material-icons\">refresh</i>Undo All</button>\r\n                    <button onClick={this.hideEdit} className=\"default disabled center\"><i className=\"material-icons\">close</i>Cancel</button>\r\n                    {!this.state.preview && <button onClick={this.togglepreview} className=\"default disabled right\"><i className=\"material-icons\">visibility</i>Show Preview</button>}\r\n                    {this.state.preview && <button onClick={this.togglepreview} className=\"default disabled right\"><i className=\"material-icons\">visibility_off</i>Hide Preview</button>}\r\n                    \r\n                    <div><ArcSelect label=\"Flag\" data={this.state} id=\"flag\" handleChange={e => this.handleChange(e)} objects={this.state.flags} /></div>\r\n                    <div><ArcSelect label=\"Notebook\" data={this.state} id=\"notebook\" handleChange={e => this.handleChange(e)} elements={this.props.notebooks} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                        {this.state.notebook === '<create new>' && <ArcTextField label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                    <ArcTextField label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n\r\n                    {this.state.preview && <div className=\"edit-note-view\">\r\n                        <div><ArcTextField label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} /></div>\r\n                        <div>\r\n                            <div className=\"typography-5 space-bottom-1\">Preview</div>\r\n                            <Showdown source={this.state.content} />\r\n                        </div>\r\n                    </div>}\r\n                    {!this.state.preview && <ArcTextField label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} />}\r\n                    <div className=\"space-top-2\" />\r\n            </div>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Note;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './ActionButton.scss';\r\n\r\nfunction ActionButton(props) {\r\n    const icon = <i className=\"material-icons\">{props.icon}</i>;\r\n    return (\r\n        <div className=\"action-button\">\r\n            {props.leftLabel && props.rightLabel && <button className={\"left \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n            {props.leftLabel && props.rightLabel && <button className={\"right \" + props.type} onClick={props.rightAction}>{props.icon && icon}{props.rightLabel}</button>}\r\n            {props.leftLabel && !props.rightLabel && <button className={\"center \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nActionButton.propTypes = {\r\n    leftLabel: PropTypes.string.isRequired,\r\n    leftAction: PropTypes.func.isRequired,\r\n    rightLabel: PropTypes.string,\r\n    rightAction: PropTypes.func\r\n};\r\n\r\nexport default ActionButton;\r\n","import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { fabric } from 'fabric';\r\n\r\nlet isDown, origX, origY, stroke;\r\n\r\ninterface Props {\r\n    attributes: any,\r\n    data: any,\r\n    edit: boolean,\r\n    handleChange: Function\r\n}\r\n\r\ninterface State {\r\n    backgroundColor: string,\r\n    data: any,\r\n    width: number,\r\n    height: number\r\n}\r\n\r\nexport default class Canvas extends Component<Props, State> {\r\n    \r\n    viewPort = window.matchMedia(\"(max-width: 767px)\");\r\n\r\n    viewPortChange = (port) => {\r\n        this.setState({\r\n            width: port.matches ? window.innerWidth - 100 : window.innerWidth - 1000,\r\n            height: port.matches ? window.innerHeight - 100 : window.innerHeight\r\n        });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            backgroundColor: this.props.attributes && this.props.attributes.backgroundColor ? this.props.attributes.backgroundColor : 'red',\r\n            data: this.props.data ? this.props.data : null\r\n        }\r\n        this.refreshCanvas();\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        this.setState({\r\n            backgroundColor: nextProps.attributes && nextProps.attributes.backgroundColor ? nextProps.attributes.backgroundColor : 'red',\r\n            data: nextProps.data ? nextProps.data : null\r\n        }, () => this.refreshCanvas());\r\n    }\r\n\r\n    componentDidMount() {\r\n        let canvas = this.refreshCanvas();\r\n        this.mouseDown(canvas);\r\n        this.mouseMove(canvas);\r\n        this.mouseUp(canvas);\r\n\r\n        this.refreshCanvas();\r\n        this.viewPort.addListener(this.viewPortChange);\r\n    }\r\n\r\n    refreshCanvas() {\r\n        // this.viewPortChange(this.viewPort);\r\n        \r\n        let width = this.viewPort.matches ? window.innerWidth - 35 : window.innerWidth - 700;\r\n        let height = this.viewPort.matches ? window.innerHeight - 200 : window.innerHeight;\r\n\r\n        let canvas = new fabric.Canvas('c', {\r\n            backgroundColor: this.state.backgroundColor,\r\n            width: width,\r\n            height: height\r\n        });\r\n        canvas.isDrawingMode = this.props.edit;\r\n        if (this.state.data) {\r\n            canvas.loadFromDatalessJSON(this.state.data);\r\n            canvas.backgroundColor = this.state.backgroundColor;\r\n        }\r\n\r\n        canvas.freeDrawingBrush = new fabric['PencilBrush'](canvas);\r\n        canvas.freeDrawingBrush.width=10;\r\n        canvas.freeDrawingBrush.color='#D2E4C4';\r\n        canvas.renderAll();\r\n\r\n        return canvas;\r\n    }\r\n\r\n    mouseDown(canvas) {\r\n        let that = this;\r\n        canvas.on('mouse:down', function(o) {\r\n            canvas.backgroundColor = that.state.backgroundColor;\r\n            isDown = true;\r\n\t\t    let pointer = canvas.getPointer(o.e);\r\n\t\t    origX = pointer.x;\r\n\t\t    origY = pointer.y;\r\n            stroke = new fabric.Line({\r\n                strokeWidth:5,\r\n            });\r\n            canvas.add(stroke);\r\n        });\r\n    }\r\n\r\n    mouseMove(canvas) {\r\n        canvas.on('mouse:move', function(o) {\r\n            if (isDown) {\r\n                var pointer = canvas.getPointer(o.e);\r\n        \r\n                    if(origX>pointer.x){\r\n                        stroke.set({ left: Math.abs(pointer.x) });\r\n                    }\r\n                    if(origY>pointer.y){\r\n                        stroke.set({ top: Math.abs(pointer.y) });\r\n                    }\r\n                    \r\n                    stroke.set({ width: Math.abs(origX - pointer.x) });\r\n                    stroke.set({ height: Math.abs(origY - pointer.y) });\r\n            }\r\n        });\r\n    }\r\n\r\n    mouseUp(canvas) {\r\n        let that = this;\r\n        canvas.on('mouse:up', function(o) {\r\n                isDown = false;\r\n                // sessionStorage.setItem('canvas', JSON.stringify(canvas));\r\n                that.props.handleChange({\r\n                    height: that.state.height,\r\n                    width: that.state.width,\r\n                    backgroundColor: that.state.backgroundColor,\r\n                }, JSON.stringify(canvas));\r\n        });\r\n    }\r\n    \r\n\t// generateUUID() {\r\n\t//     var d = new Date().getTime();\r\n\t//     if(window.performance && typeof window.performance.now === \"function\"){\r\n\t//         d += performance.now(); //use high-precision timer if available\r\n\t//     }\r\n\t//     var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n\t//         var r = (d + Math.random()*16)%16 | 0;\r\n\t//         d = Math.floor(d/16);\r\n\t//         return (c === 'x' ? r : (r&0x3|0x8)).toString(16);\r\n\t//     });\r\n\t//     return uuid;\r\n\t// }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"canvas\">\r\n                <canvas id=\"c\" />\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport ActionButton from '../Ux/ActionButton';\r\nimport './style.scss';\r\nconst removeMd = require('remove-markdown');\r\n\r\nclass NoteRef extends Component {\r\n\r\n    edit = () => {\r\n        this.props.editNote(this.props.note);\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteNote(this.props.id);\r\n    }\r\n\r\n    selectNote = () => {\r\n        this.props.selectNote(this.props.id);\r\n    }\r\n\r\n    render() {\r\n        const tags = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<ActionButton key={item} leftLabel={item} leftAction={() => this.tag(item)} rightLabel=\"x\" rightAction={() => this.removeTag(item)}></ActionButton>);\r\n            })\r\n        }\r\n        return (\r\n            <>\r\n            <div className={this.props.selected ? \"noteref selected\" : \"noteref\"} onClick={this.selectNote}>\r\n                <div className=\"content\">\r\n                    {this.props.note.flag && <div className={\"flag-palette \" + this.props.note.flag} />}\r\n                    {this.props.showTag && <div className=\"notebook\">\r\n                        {/* <i className=\"material-icons\">insert_drive_file</i> */}\r\n                        {this.props.note.notebook}\r\n                    </div>}\r\n                    <div className=\"title\">{this.props.note.title}</div>\r\n                    <div className=\"space-bottom-0\" />\r\n                    {this.props.note.type !== 'Artboard' && <div className=\"detail\">{removeMd(this.props.note.content.substring(0, 100))}</div>}\r\n                    {this.props.note.type === 'Artboard' && <div className=\"detail-artboard\"><i className=\"material-icons\">tv</i></div>}\r\n                    {/* <div className=\"detail typography-5\"><Showdown source={this.props.note.content.substring(0, 150)} /></div> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"separator\" />\r\n            {/* <hr /> */}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NoteRef;\r\n","import React, { Component } from 'react';\r\nimport Showdown from '../Ux/Showdown';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport ArcSelect from '../Ux/ArcSelect';\r\nimport Canvas from '../Canvas';\r\n\r\nclass Artboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editNote: false,\r\n            preview: true,\r\n            newNotebook: '',\r\n            title: this.props.note.title,\r\n            attributes: this.props.note.attributes ? this.props.note.attributes : {},\r\n            content: this.props.note.content,\r\n            tags: this.props.note.tags,\r\n            notebook: this.props.note.notebook,\r\n            \r\n\r\n            flags: [\r\n                {\r\n                    key: 'one',\r\n                    value: <div className=\"select-palette one\" />\r\n                },\r\n                {\r\n                    key: 'two',\r\n                    value: <div className=\"select-palette two\" />\r\n                },\r\n                {\r\n                    key: 'three',\r\n                    value: <div className=\"select-palette three\" />\r\n                },\r\n                {\r\n                    key: 'four',\r\n                    value: <div className=\"select-palette four\" />\r\n                },\r\n                {\r\n                    key: 'five',\r\n                    value: <div className=\"select-palette five\" />\r\n                },\r\n                {\r\n                    key: 'six',\r\n                    value: <div className=\"select-palette six\" />\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.event && nextProps.event.name === 'closeNoteEditView' && nextProps.event.signal) {\r\n            this.hideEdit();\r\n            this.setState({newNotebook: ''});\r\n        }\r\n    }\r\n\r\n    edit = () => {\r\n        this.props.editNote(this.props.note);\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteNote(this.props.id);\r\n    }\r\n\r\n    showEdit = () => {\r\n        this.setState({\r\n            editNote: true\r\n        })\r\n    }\r\n\r\n    hideEdit = () => {\r\n        this.setState({\r\n            editNote: false\r\n        })\r\n    }\r\n\r\n    save = () => {\r\n        let notebook = this.state.notebook;\r\n\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n\r\n        this.props.saveNote({\r\n            id: this.props.id,\r\n            title: this.state.title,\r\n            attributes: this.state.attributes,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            flag: this.state.flag,\r\n            notebook: notebook\r\n        }, true)\r\n    }\r\n\r\n    togglepreview = () => {\r\n        this.setState({\r\n            preview: !this.state.preview\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    attributeChange = (event) => {\r\n        this.setState(\r\n            {\r\n                attributes: {\r\n                    ...this.state.attributes,\r\n                    [event.target.name]: event.target.value\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    contentChange = (attributes, content) => {\r\n        this.setState({\r\n            attributes: attributes,\r\n            content: content\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const tags = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<div key={item} className=\"tag\">{item}</div>);\r\n            })\r\n        }\r\n\r\n        return (\r\n            <div className=\"artboard\">\r\n                {!this.state.editNote && \r\n                <>\r\n                    <div className=\"notebook\"><i className=\"material-icons\">insert_drive_file</i>{this.props.note.notebook}</div>\r\n                    {/* <div className=\"space-bottom-2\" /> */}\r\n                    <div className=\"typography-3 space-bottom-1\">\r\n                        {this.props.note.title}\r\n                    </div>\r\n                    {tags}\r\n                    <div className=\"space-bottom-2\" />\r\n                    <button onClick={this.showEdit} className=\"secondary animate left\"><i className=\"material-icons\">edit</i>Edit</button>\r\n                    <button onClick={this.delete} className=\"secondary animate right\"><i className=\"material-icons\">delete</i>Delete</button>\r\n                    <div className=\"space-top-2\" />\r\n                    <Canvas attributes={this.state.attributes} data={this.state.content} handleChange={this.contentChange} />\r\n                </>}\r\n            \r\n                {this.state.editNote && \r\n                <div className=\"canvas-edit\">\r\n                    <div className=\"typography-3 space-bottom-1\">{this.state.title}</div>\r\n                    \r\n                    <button onClick={this.save} className=\"primary animate left space-bottom-2\"><i className=\"material-icons\">double_arrow</i>Save</button>\r\n                    <button onClick={this.showEdit} className=\"default disabled center\"><i className=\"material-icons\">refresh</i>Undo All</button>\r\n                    <button onClick={this.hideEdit} className=\"default disabled center\"><i className=\"material-icons\">close</i>Cancel</button>\r\n\r\n                    <div><ArcSelect label=\"Flag\" data={this.state} id=\"flag\" handleChange={e => this.handleChange(e)} objects={this.state.flags} /></div>\r\n                    <div><ArcSelect label=\"Notebook\" data={this.state} id=\"notebook\" handleChange={e => this.handleChange(e)} elements={this.props.notebooks} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                        {this.state.notebook === '<create new>' && <ArcTextField label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                    <ArcTextField label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n                    \r\n                    {/* <ArcTextField label=\"Height\" data={this.state.attributes} id=\"height\" handleChange={e => this.attributeChange(e)} />\r\n                    <ArcTextField label=\"Width\" data={this.state.attributes} id=\"width\" handleChange={e => this.attributeChange(e)} /> */}\r\n                    <ArcTextField label=\"Background color\" data={this.state.attributes} id=\"backgroundColor\" handleChange={e => this.attributeChange(e)} />\r\n                    <Canvas attributes={this.state.attributes} data={this.state.content} handleChange={this.contentChange} edit={true} />\r\n                </div>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Artboard;\r\n","import React, { Component } from 'react';\r\nimport Note from './Note';\r\nimport { Switch } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { constants } from '../Constants';\r\nimport axios from \"axios\";\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport ArcDialog from '../Ux/ArcDialog';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport View from '../Ux/View';\r\nimport './style.scss';\r\nimport NoteRef from './NoteRef';\r\nimport { isEmptyOrSpaces, match, sort } from '../Utils';\r\nimport ArcSelect from '../Ux/ArcSelect';\r\nimport Artboard from './Artboard';\r\nimport Sidebar from '../Ux/Sidebar';\r\n\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\n\r\nconst queryString = require('query-string');\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nclass Notes extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            searchResults: [],\r\n            view: [],\r\n            isAddDialogOpen: false,\r\n            isArtboardAddDialogOpen: false,\r\n\r\n            selectedNoteId: '',\r\n\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            newNotebook: '',\r\n            existingNotebook: '',\r\n            existingNotebookList: [],\r\n            filteredNotebookList: [],\r\n            notebookFilter: 'all notebooks',\r\n            sortBy: 'last modified',\r\n            sortOrder: 'descending',\r\n            firstLoad: true,\r\n\r\n            showFilter: false,\r\n            searchtext: '',\r\n            isFiltered: false,\r\n            searchPref: {\r\n                title: true,\r\n                tags: true,\r\n                content: true\r\n            },\r\n\r\n            sidebarElements: {\r\n                addNew: [\r\n                    {\r\n                        label: 'New Note',\r\n                        action: this.newNote,\r\n                        icon: 'note_add'\r\n                    },\r\n                    {\r\n                        label: 'New Whiteboard',\r\n                        action: this.newArtboard,\r\n                        icon: 'tv'\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n        this.props.receiveEvents();\r\n    }\r\n\r\n    sortTypes = \r\n        {'created': 'createdAt',\r\n        'last modified': 'lastModifiedAt',\r\n        'notebook': 'notebook',\r\n        'note name': 'title'}\r\n\r\n    sortOrders = [\r\n        'ascending',\r\n        'descending'\r\n    ];\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    this.setState({\r\n                        searchPref: {\r\n                            title: false,\r\n                            tags: true,\r\n                            content: false\r\n                        }\r\n                    })\r\n                }\r\n                this.setState({\r\n                    searchtext: query.q,\r\n                    isFiltered: true\r\n                })\r\n            }\r\n        }\r\n\r\n        if(this.state.firstLoad && this.props.authorization.isAuth) {\r\n            this.initializeNotes(this.props.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n\r\n        receiveMessage().subscribe(message => {\r\n            if (message.name === 'noteListRefreshed') {\r\n                this.applyFilter();\r\n            }\r\n        })\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization) {\r\n            this.initializeNotes(nextProps.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n\r\n    initializeNotes(authorization, selectedNoteId) {\r\n        const that = this;\r\n        axios.get(baseUrl + constants.API_URL_NOTE,\r\n            {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + authorization.token\r\n                }\r\n            })\r\n            .then(function(response) {\r\n                that.setState({items: response.data, searchResults: response.data, view: response.data});\r\n                if (that.state.isFiltered) {\r\n                    that.search();\r\n                } else {\r\n                    sendMessage('noteListRefreshed', true);\r\n                }\r\n                \r\n                const existingNotebookList = [];\r\n                response.data.map(item => existingNotebookList.push(item.notebook))\r\n\r\n                that.setState({\r\n                    existingNotebookList: [...new Set(existingNotebookList)]\r\n                });\r\n\r\n                if (selectedNoteId) {\r\n                    that.setState({selectedNoteId: selectedNoteId});\r\n                } else if (!that.state.selectedNoteId && response.data && response.data.length > 0) {\r\n                    that.setState({selectedNoteId: response.data[0]._id});\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    newNote = () => {\r\n        this.toggleAddDialog();\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    newArtboard = () => {\r\n        this.toggleArtboardAddDialog();\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    toggleAddDialog = () => {\r\n        this.setState({\r\n            isAddDialogOpen: !this.state.isAddDialogOpen,\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    resetForm = () => {\r\n        this.setState({\r\n            id: null,\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            existingNotebook: '',\r\n            newNotebook: ''\r\n        })\r\n    }\r\n\r\n    toggleArtboardAddDialog = () => {\r\n        this.setState({\r\n            isArtboardAddDialogOpen: !this.state.isArtboardAddDialogOpen,\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    closeAllDialog = () => {\r\n        this.setState({\r\n            isAddDialogOpen: false,\r\n            isArtboardAddDialogOpen: false\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    toggleFilter = () => {\r\n        this.setState({showFilter: !this.state.showFilter});\r\n    }\r\n\r\n    clearSearch = () => {\r\n        this.setState({\r\n            searchResults: this.state.items,\r\n            isFiltered: false,\r\n            searchtext: ''\r\n        }, () => sendMessage('noteListRefreshed', true))\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    search = (event) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.searchtext)) {\r\n            this.setState({\r\n                searchResults: this.state.items,\r\n                isFiltered: false\r\n            }, () => sendMessage('noteListRefreshed', true));\r\n            return;\r\n        }\r\n\r\n        const searchResults = this.state.items.filter((item) => {\r\n            if (this.state.searchPref.title && match(item.title, this.state.searchtext)) {\r\n                return true;\r\n            } else if (this.state.searchPref.tags && match(item.tags, this.state.searchtext)) {\r\n                return true;\r\n            } else if (this.state.searchPref.content && match(item.content, this.state.searchtext)) {\r\n                return true;\r\n            }\r\n        });\r\n        let selectedNoteId = null;\r\n        if (searchResults.length > 0) {\r\n            selectedNoteId = searchResults[0]._id;\r\n        }\r\n\r\n        let notebookFilter = \"all notebooks\";\r\n        let notebookList = [];\r\n        searchResults.map(item => {\r\n            notebookList.push(item.notebook);\r\n        });\r\n\r\n        if ([...new Set(notebookList)].length === 1) {\r\n            notebookFilter = notebookList[0];\r\n        }\r\n        this.setState({\r\n            searchResults: searchResults,\r\n            isFiltered: true,\r\n            selectedNoteId: selectedNoteId,\r\n            notebookFilter: notebookFilter\r\n        }, () => sendMessage('noteListRefreshed', true));\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    applyFilter = () => {\r\n        const notebookList = [];\r\n        let noteList = [];\r\n        this.state.searchResults.map(item => {\r\n            if (isEmptyOrSpaces(this.state.notebookFilter) || this.state.notebookFilter === 'all notebooks' || item.notebook === this.state.notebookFilter) {\r\n                noteList.push(item);\r\n            }\r\n            notebookList.push(item.notebook);\r\n        });\r\n\r\n        noteList = sort(noteList, this.sortTypes[this.state.sortBy], this.state.sortOrder === 'descending' ? true : false);\r\n\r\n        let selectedNoteId = '';\r\n        if (noteList && noteList.length > 0) {\r\n            selectedNoteId = noteList[0]._id;\r\n        }\r\n\r\n        this.setState({\r\n            selectedNoteId: selectedNoteId,\r\n            view: noteList,\r\n            filteredNotebookList: [...new Set(notebookList)]\r\n        });\r\n    }\r\n\r\n    toggleSearchPref = (pref) => {\r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                [pref]: !this.state.searchPref[pref]\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteNote = (noteId) => {\r\n        const that = this;\r\n        axios.delete(baseUrl + constants.API_URL_NOTE + \"/\" + noteId,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage('notification', true, {type: 'success', message: 'Note deleted', duration: 5000});\r\n                that.setState({\r\n                    selectedNoteId: null\r\n                }, () => that.initializeNotes(that.props.authorization));\r\n                \r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    selectNote = (noteId) => {\r\n        this.setState({\r\n            selectedNoteId: noteId\r\n        })\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    saveNoteEvent = () => {\r\n        let notebook = this.state.existingNotebook;\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n        this.saveNote({\r\n            id: null,\r\n            type: 'Note',\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            notebook: notebook\r\n        });\r\n    }\r\n\r\n    saveArtboardEvent = () => {\r\n        let notebook = this.state.existingNotebook;\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n        this.saveNote({\r\n            id: null,\r\n            type: 'Artboard',\r\n            attributes: {},\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            notebook: notebook\r\n        });\r\n    }\r\n\r\n    saveNote = (note, edit=false) => {\r\n\r\n        const that = this;\r\n\r\n        if (!note) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Unknown error', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.notebook)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Notebook not chosen', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.title)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Note name / title missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.tags)) {\r\n            note.tags = 'unsorted';\r\n        }\r\n\r\n        axios.put(baseUrl + constants.API_URL_NOTE, {\r\n            id: note.id,\r\n            type: note.type,\r\n            title: note.title,\r\n            attributes: note.attributes,\r\n            content: note.content,\r\n            tags: note.tags,\r\n            flag: note.flag,\r\n            notebook: note.notebook\r\n        },\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                if (edit) {\r\n                    sendMessage('notification', true, {type: 'success', message: 'Note edited', duration: 5000});\r\n                    sendMessage('closeNoteEditView', true);\r\n                } else {\r\n                    sendMessage('notification', true, {type: 'success', message: 'Note created', duration: 5000});\r\n                    that.closeAllDialog();\r\n                }\r\n                \r\n                that.initializeNotes(that.props.authorization, response.data._id);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    handleNotebookFilterChange = (event) => {\r\n        this.setState(\r\n        {\r\n            [event.target.name]: event.target.value\r\n        },\r\n        () => this.applyFilter());\r\n    }\r\n\r\n    render() {\r\n        const noteview = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n                {item._id === this.state.selectedNoteId && item.type !== 'Artboard' &&\r\n                        <Note key={item._id} id={item._id} note={item} saveNote={this.saveNote} deleteNote={this.deleteNote} event={this.props.event} \r\n                        notebooks={this.state.existingNotebookList}/>}\r\n                {item._id === this.state.selectedNoteId && item.type === 'Artboard' &&\r\n                        <Artboard key={item._id} id={item._id} note={item} saveNote={this.saveNote} deleteNote={this.deleteNote} event={this.props.event} notebooks={this.state.existingNotebookList}/>}\r\n            </div>\r\n        ))\r\n        const listNoteRef = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n                <NoteRef selected={this.state.selectedNoteId === item._id ? true : false} id={item._id} note={item} selectNote={this.selectNote} showTag={this.state.notebookFilter === 'all notebooks'}/>\r\n            </div>\r\n        ))\r\n        return (\r\n            <div className=\"notes\">\r\n                <ArcDialog title=\"Add Note\" visible={this.state.isAddDialogOpen} toggleVisibility={this.toggleAddDialog}>\r\n                    <div><ArcSelect label=\"Notebook\" data={this.state} id=\"existingNotebook\" handleChange={e => this.handleChange(e)} elements={this.state.existingNotebookList} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                    {this.state.existingNotebook === '<create new>' && <ArcTextField label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <div><ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} /></div>\r\n                    <div><ArcTextField label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} /></div>\r\n                    <div><ArcTextField label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} /></div>\r\n                    <div className=\"actions\">\r\n                        <button onClick={this.toggleAddDialog} className=\"default disabled left\"><i className=\"material-icons\">close</i>Cancel</button>\r\n                        <button onClick={this.saveNoteEvent} className=\"primary animate right\"><i className=\"material-icons\">double_arrow</i>Save</button>\r\n                    </div>\r\n                </ArcDialog>\r\n\r\n                <ArcDialog title=\"Create Artboard\" visible={this.state.isArtboardAddDialogOpen} toggleVisibility={this.toggleArtboardAddDialog}>\r\n                    <div><ArcSelect label=\"Notebook\" data={this.state} id=\"existingNotebook\" handleChange={e => this.handleChange(e)} elements={this.state.existingNotebookList} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                    {this.state.existingNotebook === '<create new>' && <ArcTextField label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <div><ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} /></div>\r\n                    <div><ArcTextField label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} /></div>\r\n                    <div className=\"actions\">\r\n                        <button onClick={this.toggleArtboardAddDialog} className=\"default disabled left\"><i className=\"material-icons\">close</i>Cancel</button>\r\n                        <button onClick={this.saveArtboardEvent} className=\"primary animate right\"><i className=\"material-icons\">double_arrow</i>Save</button>\r\n                    </div>\r\n                </ArcDialog>\r\n\r\n                <ViewResolver event={this.props.event} sendEvent={sendMessage} sideLabel='More options'>\r\n                    <View main>\r\n                        {noteview}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                            <Sidebar label=\"Add New\" elements={this.state.sidebarElements['addNew']} icon=\"add\" event={this.props.event} sendEvent={sendMessage} animate />\r\n                            <Sidebar label=\"Search\" elements={this.state.sidebarElements['search']} icon=\"search\" event={this.props.event} sendEvent={sendMessage} animate number={this.state.isFiltered ? this.state.searchResults.length : undefined}>\r\n                                <div className=\"space-top-1\" />\r\n                                <form method=\"GET\" onSubmit={this.search} noValidate>\r\n                                    <div className=\"space-left-4 space-right-4\"><ArcTextField label=\"Keywords\" id=\"searchtext\" data={this.state} handleChange={e => this.handleChange(e)} /></div>\r\n                                </form>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.title}\r\n                                        onChange={() => this.toggleSearchPref('title')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include title\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.tags}\r\n                                        onChange={() => this.toggleSearchPref('tags')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include tags\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.content}\r\n                                        onChange={() => this.toggleSearchPref('content')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include Content\r\n                                </div>\r\n                                {this.state.isFiltered && <div className=\"typography-4 space-top-2\">Found {this.state.searchResults.length} notes matching the search criteria</div>}\r\n                                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                    <div>\r\n                                        <button onClick={this.clearSearch} className=\"default\">Clear</button>\r\n                                    </div>\r\n                                    <div>\r\n                                        <button onClick={this.search} className=\"default animate space-right-2\">Search</button>\r\n                                    </div>\r\n                                </div>\r\n                            </Sidebar>\r\n                                \r\n                            <Sidebar label={this.state.isFiltered ? \"Search results\" : \"All Notes\"} icon=\"notes\" event={this.props.event} sendEvent={sendMessage} number={this.state.view.length}>\r\n                                <div className=\"filter-bar\">\r\n                                    {this.state.filteredNotebookList.length > 1 && <div><ArcSelect maxWidth=\"max-width-200\" label=\"Notebook\" data={this.state} id=\"notebookFilter\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.state.filteredNotebookList} first='all notebooks' /></div>}\r\n                                    {this.state.filteredNotebookList.length === 1 && <div><ArcSelect maxWidth=\"max-width-200\" label=\"Notebook\" data={this.state} id=\"notebookFilter\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.state.filteredNotebookList} /></div>}\r\n                                    <div></div>\r\n                                    <div><ArcSelect label=\"Sort by\" data={this.state} id=\"sortBy\" handleChange={e => this.handleNotebookFilterChange(e)} elements={Object.keys(this.sortTypes)} /></div>\r\n                                    <div><ArcSelect label=\"Sort Order\" data={this.state} id=\"sortOrder\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.sortOrders} /></div>\r\n                                </div>\r\n                                {listNoteRef}\r\n                            </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nNotes.propTypes = {\r\n    receiveEvents: PropTypes.func.isRequired,\r\n    sendEvent: PropTypes.func.isRequired,\r\n    event: PropTypes.object\r\n}\r\n\r\nexport default Notes;\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from '../actions/types';\n\nexport const getAuth = () => dispatch => {\n    dispatch({\n        type: GET_AUTH\n    });\n}\n\nexport const addAuth = (data) => dispatch => {\n    dispatch({\n        type: ADD_AUTH,\n        payload: data\n    });\n}\n\nexport const removeAuth = () => dispatch => {\n    dispatch({\n        type: REMOVE_AUTH\n    });\n}","import axios from \"axios\";\r\nimport sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\nimport { constants } from '../Constants';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport function signup(data) {\r\n    return axios.get(baseUrl + constants.API_URL_PRESIGNUP)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                return axios.post(baseUrl + constants.API_URL_SIGNUP, {\r\n                    name: data.name,\r\n                    email: data.email,\r\n                    problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                    solution: response.data.solution\r\n                    })\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response.status);\r\n                    })\r\n            }\r\n        })\r\n}\r\n\r\nexport function signin(data) {\r\n    return axios.get(baseUrl + constants.API_URL_PRESIGNIN + data.email)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let solution = decrypt(data.password, JSON.stringify(response.data));\r\n                return axios.post(baseUrl + constants.API_URL_SIGNIN, {\r\n                    email: data.email, solution: solution\r\n                    })\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response);\r\n                    })\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.message === \"ccm: tag doesn't match\") {\r\n                return Promise.resolve({\r\n                    status: 401\r\n                });\r\n            } else {\r\n                return Promise.resolve(error.response);\r\n            }\r\n        })\r\n}\r\n\r\nexport function updateUserDetails(data, token, type) {\r\n    return axios.get(baseUrl + constants.API_URL_PRESIGNUP)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution\r\n                    }\r\n                } else {\r\n                    newData = {\r\n                        name: data.name,\r\n                        email: data.email\r\n                    }\r\n                }\r\n\r\n                return axios.put(baseUrl + constants.API_URL_USER_DETAILS, newData,\r\n                    {\r\n                        headers: {\r\n                            Authorization: 'Bearer ' + token\r\n                        }\r\n                    })\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response);\r\n                    })\r\n            }\r\n        })\r\n}\r\n\r\nexport function sentPasswordChangeEmail(data, type) {\r\n\r\n    return axios.post(baseUrl + constants.API_URL_CODE, data)\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n\r\nexport function resetPassword(data, type) {\r\n\r\n    return axios.get(baseUrl + constants.API_URL_PRESIGNUP)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution,\r\n                        resetCode: data.resetCode\r\n                    }\r\n\r\n                }\r\n\r\n                return axios.post(baseUrl + constants.API_URL_RESET, newData)\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response.status);\r\n                    })\r\n\r\n\r\n            }\r\n        })\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n    const config = {\r\n        cipher: 'aes',\r\n        iter: '12000',\r\n        ks: 256,\r\n        salt: CryptoJS.enc.Base64.stringify((CryptoJS.enc.Utf8.parse(salt)))\r\n    }\r\n    return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n    return sjcl.decrypt(password, ciphertext);\r\n}\r\n\r\n// window.addEventListener(\"unhandledrejection\", function(promiseRejectionEvent) {\r\n//     this.console.log(promiseRejectionEvent);\r\n// });\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport PropTypes from 'prop-types';\r\nimport { withCookies } from 'react-cookie';\r\nimport './Login.scss';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport {signup, signin, updateUserDetails, sentPasswordChangeEmail} from './AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any,\r\n    history: any,\r\n    location: any,\r\n    authorization: Authorization\r\n}\r\n\r\ninterface State {\r\n    newuser: boolean,\r\n    name: string,\r\n    email: string,\r\n    password: string,\r\n    resetCode: string\r\n}\r\n\r\nclass Login extends Component<Props, any> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newuser: false,\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            resetCode:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.type === 'signup') {\r\n                this.setState({\r\n                    newuser: true\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    signin = (event) => {\r\n        event.preventDefault();\r\n\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (this.state.email && this.state.password) {\r\n            signin({\r\n                email: this.state.email,\r\n                password: this.state.password\r\n                })\r\n                .then((response) => {\r\n                    if (response.status === 200) {\r\n                        sendMessage('notification', true, {message: 'Signed In successfully', type: 'success', duration: 3000});\r\n                        this.success(response.data);\r\n                    } else if (response.status === 404) {\r\n                        sendMessage('notification', true, {message: 'User name does not exist', type: 'failure', duration: 3000});\r\n                    } else if (response.status === 401) {\r\n                        sendMessage('notification', true, {message: 'Incorrect passphrase', type: 'failure', duration: 3000});\r\n                    } else {\r\n                        sendMessage('notification', true, {message: 'Unknown response from server. Please try again or at a later time', type: 'failure', duration: 3000});\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n                })\r\n        } else {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Username/password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    signup = (event) => {\r\n        event.preventDefault();\r\n        const that = this;\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (this.state.name && this.state.password && this.state.email) {\r\n            if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email))) {\r\n                sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n                return;\r\n            }\r\n            signup({\r\n                name: this.state.name,\r\n                password: this.state.password,\r\n                email: this.state.email\r\n                })\r\n                .then(function(status) {\r\n                    if (status === 200) {\r\n                        sendMessage('notification', true, {'type': 'success', message: 'Your account has been created. You can login now', duration: 3000});\r\n                        that.toggle();\r\n                    }\r\n                })\r\n        } else if (!this.state.name) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Name cannot be empty', duration: 3000});\r\n        } else if (!this.state.email) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Email cannot be empty', duration: 3000});\r\n        } else if (!this.state.password) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    sentEmailWithCode = () => {\r\n        if (isEmptyOrSpaces(this.state.email)) {\r\n            sendMessage('notification', true, {message: 'Email cannot be empty', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        this.sentPasswordChangeEmail('password');\r\n\r\n    }\r\n\r\n    sentPasswordChangeEmail = (type) => {\r\n        const min = 1;\r\n        const max = 100;\r\n        const rand = min + Math.random() * (max - min);\r\n        sentPasswordChangeEmail({\r\n            email: this.state.email,\r\n            resetCode: rand\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password sent successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid Email error', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    success = (data) => {\r\n        this.props.addAuth({\r\n            isAuth: true,\r\n            token: data.token,\r\n            secret: data.secret,\r\n            name: data.name\r\n        });\r\n        sendMessage('loggedin', true);\r\n        this.props.cookies.set('isAuth', true);\r\n        this.props.cookies.set('token', data.token);\r\n        this.props.cookies.set('secret', data.secret);\r\n        this.props.cookies.set('name', data.name);\r\n        this.props.cookies.set('email', data.email);\r\n        this.props.history.push(\"/bookmarks\");\r\n        // this.props.history.push(\"/notes\");\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            newuser: !this.state.newuser\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                {!this.state.newuser && <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.signin} noValidate>\r\n                        <h1>Log In</h1>\r\n                        <div className=\"form\">\r\n                            <ArcTextField label=\"Username/e-mail\" id=\"email\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <button className=\"primary block\"  onClick={this.signin}>Sign In</button>\r\n                        <br /><br />\r\n                        Don't have an account? &nbsp; <button className=\"secondary\"  onClick={this.toggle}>Sign Up</button>\r\n                        <br /><br />\r\n\r\n                    </form>\r\n\r\n                    <button onClick={this.sentEmailWithCode}>Forgot password ?</button>\r\n\r\n                </div>}\r\n\r\n                {this.state.newuser && <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.signup} noValidate>\r\n                        <h1>Sign Up</h1>\r\n                        <div className=\"form\">\r\n                            <ArcTextField label=\"Name\" id=\"name\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Email / User Name\" id=\"email\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <button className=\"primary block\"  onClick={this.signup}>Create account</button>\r\n                        <br /><br />\r\n                        Already have a account? &nbsp; <button className=\"secondary\"  onClick={this.toggle}>Sign In</button>\r\n                    </form>\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(withCookies(Login));\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth } from '../../actions/AuthActions';\r\nimport PropTypes from 'prop-types';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization,\r\n  getAuth: Function,\r\n  path: string,\r\n  render: any\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass PrivateRoute extends Component<Props, State> {\r\n  componentWillMount() {\r\n    this.props.getAuth();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.authorization.isAuth && <Route path={this.props.path} render={this.props.render} />}\r\n        {/* {!this.props.authorization.isAuth && <Redirect to={{pathname: \"/login\"}} />} */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth })(PrivateRoute);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport {withCookies, ReactCookieProps} from 'react-cookie';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props extends ReactCookieProps {\r\n    authorization: Authorization,\r\n    addAuth: Function,\r\n    getAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass AuthInit extends Component<Props, State> {\r\n    componentWillMount() {\r\n        if (!this.props.authorization.isAuth && this.props.cookies.get('isAuth')) {\r\n            this.props.addAuth({\r\n                isAuth: true,\r\n                token: this.props.cookies.get('token'),\r\n                secret: this.props.cookies.get('secret'),\r\n                name: this.props.cookies.get('name')\r\n            });\r\n        }\r\n        this.props.getAuth();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <></>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(withCookies(AuthInit));","import axios from \"axios\";\r\nimport { constants } from '../components/Constants';\r\nimport { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport const getProfile = () => dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE\r\n    });\r\n}\r\n\r\nexport const reloadProfile = (authorization) => dispatch => {\r\n    axios.get(baseUrl + constants.API_URL_PREFERENCES,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const persistProfile = (authorization, payload) => dispatch => {\r\n    axios.put(baseUrl + constants.API_URL_PREFERENCES, payload,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const setProfile = (payload) => dispatch => {\r\n    dispatch({\r\n        type: SET_PROFILE,\r\n        payload: payload\r\n    });\r\n}\r\n","import React, { Component } from 'react';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n    backdrop: string\r\n}\r\n\r\nclass Backdrop extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            backdrop: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'dialog') {\r\n                    if (message.signal) {\r\n                        this.setState({backdrop: 'backdrop-fade'});\r\n                    } else {\r\n                        this.setState({backdrop: ''});\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.state.backdrop}></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Backdrop;","import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n    notification: any,\r\n    spinner: boolean\r\n}\r\n\r\nclass Notification extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            spinner: false,\r\n            notification: null\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        receiveMessage().subscribe(message => {\r\n            if (message.name === 'notification') {\r\n                if (!message.signal) {\r\n                    this.setState({\r\n                        notification: null,\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        notification: message.data,\r\n                        spinner: false\r\n                    })\r\n                    \r\n                    if (message.data && message.data.duration) {\r\n                        setTimeout(() => {\r\n                            sendMessage('notification', false);\r\n                        }, message.data.duration);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (message.name === 'spinner') {\r\n                this.setState({\r\n                    spinner: message.signal\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    processNextProps(nextProps) {\r\n        if (nextProps.event && nextProps.event.name === 'spinner') {\r\n            this.setState({\r\n                spinner: nextProps.event.signal\r\n            })\r\n        }\r\n\r\n        if (nextProps.event && nextProps.event.name === 'notification') {\r\n            if (!nextProps.event.signal) {\r\n                this.setState({\r\n                    notification: null,\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    notification: nextProps.event.data,\r\n                    spinner: false\r\n                })\r\n                \r\n                if (nextProps.event.data.duration) {\r\n                    setTimeout(() => {\r\n                        // this.props.sendEvent('notification', false);\r\n                    }, nextProps.event.data.duration);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            {this.state.notification && <div className={\"notification \" + this.state.notification.type}><div className=\"message\">{this.state.notification.message}</div></div>}\r\n            {this.state.spinner && <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>}\r\n            {/* {this.props.spinner && <div className=\"lds-facebook\"><div></div><div></div><div></div></div>} */}\r\n            {/* {this.props.spinner && <div className=\"lds-dual-ring\"></div>} */}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notification;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n    authorization: Authorization,\r\n    profile: Profile\r\n}\r\n\r\ninterface State {\r\n    menu: boolean\r\n}\r\n\r\nclass Links extends Component<Props, State> {\r\n    toggleMenu = () => {\r\n        this.setState({\r\n            menu: !this.state.menu\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"links\">\r\n                {this.props.authorization.isAuth &&\r\n                    <>\r\n                    <NavLink to=\"/bookmarks\" className=\"navitem\" activeClassName=\"active\">Bookmarks</NavLink>\r\n                    <NavLink to=\"/notes\" className=\"navitem\" activeClassName=\"active\">Notes</NavLink>\r\n                    <NavLink to=\"/settings\" className=\"navitem\" activeClassName=\"active\">Settings</NavLink>\r\n                    <NavLink to=\"/help\" className=\"navitem\" activeClassName=\"active\">Help</NavLink>\r\n                    </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Links;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './style.scss';\r\nimport curate_white from '../../images/curate_white.svg';\r\nimport curate_black from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\ninterface State {\r\n    showSettings: boolean\r\n}\r\n\r\nclass Desktop extends Component<Props, State> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            showSettings: false\r\n        }\r\n    }\r\n\r\n    signin = (type) => {\r\n        this.props.login(type);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={(this.props.transparent ? \"navbar desktop transparent\" : \"navbar desktop\")}>\r\n                <div className=\"left\">\r\n                    {!this.props.transparent && this.props.profile.theme === 'theme_light' && <img className=\"logo\" src={curate_black} alt=\"Curate logo\" />}\r\n                    {(this.props.transparent || this.props.profile.theme === 'theme_dark') && <img className=\"logo\" src={curate_white} alt=\"Curate logo\" />}\r\n                    <Links authorization={this.props.authorization} profile={this.props.profile} />\r\n                </div>\r\n                <div className=\"right\">\r\n                    <div className=\"action\">\r\n                        {/* <button className=\"default disabled small\" onClick={this.props.toggleSettings}><i className=\"material-icons\">palette</i>Theme</button> */}\r\n                        {this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={this.props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</button>}\r\n                        {this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={this.props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</button>}\r\n                        {!this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={() => this.signin('signin')}><i className=\"material-icons\">person</i>Login</button>}\r\n                        {!this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={() => this.signin('signup')}><i className=\"material-icons\">person_add</i>Signup</button>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Desktop;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './style.scss';\r\nimport curate_white from '../../images/curate_white.svg';\r\nimport curate_black from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\ninterface State {\r\n    menu: boolean\r\n}\r\n\r\nclass Mobile extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            menu: false\r\n        }\r\n    }\r\n\r\n    toggleMenu = () => {\r\n        this.setState({\r\n            menu: !this.state.menu\r\n        })\r\n    }\r\n\r\n    signin = (type) => {\r\n        this.props.login(type);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            <div className={(this.props.transparent ? \"navbar mobile transparent\" : \"navbar mobile\")}>\r\n                <div className=\"left\">\r\n                    {!this.props.transparent && this.props.profile.theme === 'theme_light' && <img className=\"logo\" src={curate_black} alt=\"Curate logo\" />}\r\n                    {(this.props.transparent || this.props.profile.theme === 'theme_dark') && <img className=\"logo\" src={curate_white} alt=\"Curate logo\" />}\r\n                    {/* links */}\r\n                </div>\r\n                <div className=\"right\">\r\n                    {/* <div className=\"settings-icon\" onClick={this.props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\r\n                    <div className={(this.state.menu ? \"menu active\" : \"menu\")} onClick={this.toggleMenu}><div></div></div>\r\n                    {/* action login */}\r\n                </div>\r\n            </div>\r\n            <div className={(this.state.menu ? \"slider show\" : \"slider hide\")} onClick={this.toggleMenu}>\r\n                <div className={(this.state.menu ? \"container\": \"container hidetext\")} onClick={this.toggleMenu}>\r\n                    <div className=\"action\">\r\n                        <div className=\"settings-icon\" onClick={this.props.toggleSettings}>\r\n                            {this.props.authorization.isAuth && <button className=\"default disabled small\" onClick={this.props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</button>}\r\n                        </div>\r\n                        <div className=\"buttons\">\r\n                            {this.props.authorization.isAuth && <button className=\"default disabled small\" onClick={this.props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</button>}\r\n                            {!this.props.authorization.isAuth && <button className=\"secondary small left\" onClick={() => this.signin('signin')}><i className=\"material-icons\">person</i>Login</button>}\r\n                            {!this.props.authorization.isAuth && <button className=\"secondary small right\" onClick={() => this.signin('signup')}><i className=\"material-icons\">person_add</i>Signup</button>}\r\n                        </div>\r\n                    </div>\r\n                    <Links authorization={this.props.authorization} profile={this.props.profile}/>\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Mobile;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {withRouter} from 'react-router'\r\nimport { getProfile, setProfile, reloadProfile } from '../../actions/ProfileActions';\r\nimport PropTypes from 'prop-types';\r\nimport {withCookies} from 'react-cookie';\r\n\r\nimport './style.scss';\r\nimport Desktop from './Desktop';\r\nimport Mobile from './Mobile';\r\nimport { Switch } from '@material-ui/core';\r\nimport ArcDialog from '../Ux/ArcDialog';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization,\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    reloadProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any,\r\n    history: any,\r\n    cookies: any,\r\n    location: any,\r\n    match: any\r\n}\r\n\r\ninterface State {\r\n    visible: boolean,\r\n    mobilemenu: string,\r\n    chooseTheme: boolean,\r\n    showSettings: boolean,\r\n    transparentNavBar: boolean,\r\n    firstLoad: boolean\r\n}\r\n\r\nclass Navigation extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            visible: false,\r\n            mobilemenu: 'hide',\r\n            chooseTheme: false,\r\n            showSettings: false,\r\n            transparentNavBar: false,\r\n            firstLoad: true\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.event && nextProps.event.name === 'navbar-transparency') {\r\n            this.setState({\r\n                transparentNavBar: nextProps.event.signal\r\n            })\r\n        }\r\n        if ((this.state.firstLoad && nextProps.authorization && nextProps.authorization.isAuth) || \r\n            (nextProps.event && nextProps.event.name === 'loggedin')) {\r\n            this.props.reloadProfile(nextProps.authorization);\r\n            this.setState({\r\n                firstLoad: false\r\n            })\r\n        }\r\n    }\r\n\r\n    toggleDarkMode = () => {\r\n        if (this.props.profile.theme === 'theme_dark') {\r\n            this.props.setProfile({\r\n                ...this.props.profile,\r\n                theme: 'theme_light'\r\n            })   \r\n        } else  {\r\n            this.props.setProfile({\r\n                ...this.props.profile,\r\n                theme: 'theme_dark'\r\n            })   \r\n        }\r\n    }\r\n\r\n    changeTextSize = (size) => {\r\n        this.props.setProfile({\r\n            ...this.props.profile,\r\n            textSize: size\r\n        })\r\n    }\r\n\r\n    changeThemeColor = (color) => {\r\n        this.props.setProfile({\r\n            ...this.props.profile,\r\n            themeColor: color\r\n        })\r\n    }\r\n\r\n    login = (type) => {\r\n        this.props.history.push('/login?type=' + type);\r\n    }\r\n\r\n    toggleSettings = () => {\r\n        this.setState({\r\n            showSettings: !this.state.showSettings\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"nav\">\r\n                <Desktop {...this.props} logout={this.props.logout} login={this.login} toggleSettings={this.toggleSettings} transparent={this.state.transparentNavBar} />\r\n                <Mobile {...this.props} logout={this.props.logout} login={this.login} toggleSettings={this.toggleSettings} transparent={this.state.transparentNavBar} />\r\n\r\n                <ArcDialog title=\"Appearance\" visible={this.state.showSettings} toggleVisibility={this.toggleSettings}>\r\n                    <div className=\"settings\">\r\n                        <div>Dark mode</div>\r\n                        <div>\r\n                            <Switch\r\n                            checked={this.props.profile.theme === 'theme_dark'}\r\n                            onChange={this.toggleDarkMode}\r\n                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                        </div>\r\n                        \r\n                        <div>Text Size</div>\r\n                        <div>\r\n                            <div className={\"text-size size-1 space-right-1 \" + (this.props.profile.textSize === 'textsize_tiny' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_tiny')}>Az</div>\r\n                            <div className={\"text-size size-2 space-right-1 \" + (this.props.profile.textSize === 'textsize_small' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_small')}>Az</div>\r\n                            <div className={\"text-size size-3 space-right-1 \" + (this.props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_medium')}>Az</div>\r\n                            <div className={\"text-size size-4 \" + (this.props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_large')}>Az</div>\r\n                        </div>\r\n\r\n                        <div className=\"typography-5\">Color Scheme</div>\r\n                        <div>\r\n                            <div className=\"theme-color color-1\" onClick={() => this.changeThemeColor('themecolor_1')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-2\" onClick={() => this.changeThemeColor('themecolor_2')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-3\" onClick={() => this.changeThemeColor('themecolor_3')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-4\" onClick={() => this.changeThemeColor('themecolor_4')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"actions\">\r\n                        <button className=\"primary\"  onClick={this.toggleSettings}>Close</button>\r\n                    </div>\r\n                </ArcDialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, reloadProfile })(withCookies(withRouter(Navigation)));","import axios from \"axios\";\r\nimport { constants } from '../Constants';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport function importBookmarks(data, token) {\r\n    return axios.post(baseUrl + constants.API_URL_BOOKMARK_IMPORT, data,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            return Promise.resolve(response);\r\n        })\r\n}\r\n","import React from 'react';\r\nimport { getProfile, setProfile, persistProfile } from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport View from '../Ux/View';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport { Switch } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport {withCookies} from 'react-cookie';\r\nimport { importBookmarks } from '../Bookmarks/BookmarkService';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport {signin, updateUserDetails} from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport axios from \"axios\";\r\nimport {constants} from \"../Constants\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\ninterface Props {\r\n  profile: Profile,\r\n  getProfile: Function,\r\n  setProfile: Function,\r\n  persistProfile: Function,\r\n  authorization: Authorization,\r\n  cookies: any\r\n}\r\n\r\ninterface State {\r\n  oldPassword: string,\r\n  newPassword: string,\r\n  repeatPassword: string,\r\n  name: string,\r\n  email: string,\r\n  data:any\r\n}\r\n\r\nclass Settings extends React.Component<Props, any> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      oldPassword: '',\r\n      newPassword: '',\r\n      repeatPassword: '',\r\n      data: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      name: this.props.cookies.get('name'),\r\n      email: this.props.cookies.get('email')\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState(\r\n        {\r\n            [event.currentTarget.name]: event.currentTarget.value\r\n        }\r\n    )\r\n  }\r\n\r\n  toggleDarkMode = () => {\r\n      if (this.props.profile.theme === 'theme_dark') {\r\n          this.props.persistProfile(this.props.authorization, {\r\n              ...this.props.profile,\r\n              theme: 'theme_light'\r\n          })\r\n      } else  {\r\n          this.props.persistProfile(this.props.authorization, {\r\n              ...this.props.profile,\r\n              theme: 'theme_dark'\r\n          })\r\n      }\r\n  }\r\n\r\n  changeTextSize = (size) => {\r\n      this.props.persistProfile(this.props.authorization, {\r\n          ...this.props.profile,\r\n          textSize: size\r\n      })\r\n  }\r\n\r\n  changeThemeColor = (color) => {\r\n      this.props.persistProfile(this.props.authorization, {\r\n          ...this.props.profile,\r\n          themeColor: color\r\n      })\r\n  }\r\n\r\n  changePassword = () => {\r\n    if (isEmptyOrSpaces(this.state.oldPassword)) {\r\n      sendMessage('notification', true, {message: 'Old password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(this.state.newPassword) || isEmptyOrSpaces(this.state.repeatPassword)) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (this.state.newPassword !== this.state.repeatPassword) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    this.checkOldPassword('oldpassword');\r\n  }\r\n\r\n  checkOldPassword = (type) => {\r\n    signin({\r\n      email: this.state.email,\r\n      password: this.state.oldPassword\r\n    })\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            sendMessage('notification', true, {message: 'Signed In successfully', type: 'success', duration: 3000});\r\n            this.updateUserDetailsImpl('password');\r\n          }else  if (response.status === 401) {\r\n            sendMessage('notification', true, {message: 'Incorrect oldpassword', type: 'failure', duration: 3000});\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n        })\r\n  }\r\n\r\n\r\n\r\n  updateUserDetails = () => {\r\n    if (isEmptyOrSpaces(this.state.name)) {\r\n      sendMessage('notification', true, {message: 'Name not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(this.state.email)) {\r\n      sendMessage('notification', true, {message: 'Email not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email))) {\r\n      sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n      return;\r\n    }\r\n\r\n    this.updateUserDetailsImpl('user');\r\n\r\n  }\r\n\r\n  updateUserDetailsImpl = (type) => {\r\n    updateUserDetails({\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      password: this.state.newPassword\r\n    }, this.props.authorization.token, type)\r\n    .then((response: any) => {\r\n      if (response.status === 201) {\r\n        if (type === 'password') {\r\n          sendMessage('notification', true, {message: 'Password updated successfully', type: 'success', duration: 3000});\r\n        } else{\r\n          this.props.cookies.set('name', this.state.name);\r\n          this.props.cookies.set('email', this.state.email);\r\n          sendMessage('notification', true, {message: 'User account updated successfully', type: 'success', duration: 3000});\r\n        }\r\n      } else {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n      }\r\n    })\r\n    .catch((error) => {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n    })\r\n  }\r\n\r\n  fileChoosen = (event) => {\r\n    event.preventDefault();\r\n    const that = this;\r\n    var reader = new FileReader();\r\n    sendMessage('spinner');\r\n    reader.onload = function(event: any) {\r\n      importBookmarks({\r\n        content: event.target.result\r\n      }, that.props.authorization.token)\r\n      .then(function(response) {\r\n        sendMessage('notification', true, {message: 'Imported (' + response.data.length + ') bookmarks successfully', type: 'success', duration: 6000});\r\n      });\r\n    }\r\n    reader.readAsText(event.target.files[0]);\r\n    event.target.value = '';\r\n  }\r\n\r\n  exportBookmark = () => {\r\n    const that = this;\r\n    axios.get(baseUrl + constants.API_URL_BOOKMARK,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + that.props.authorization.token\r\n          }\r\n        })\r\n        .then(function(response) {\r\n          let staticContent = '<META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html;' +\r\n              ' charset=UTF-8\"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>';\r\n\r\n          that.setState({data: response.data});\r\n\r\n          that.state.data.map(function(bookmark, i){\r\n            let htmlContent = '<DL><p>'+'<DT>'+'<A ' +'HREF=\"'+bookmark.href+'\">'+bookmark.title+'</A>'+'</DL><p>';\r\n            staticContent = staticContent+htmlContent;\r\n          })\r\n\r\n          console.log(staticContent);\r\n        }\r\n        );\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"settings\">\r\n        <ViewResolver sideLabel='More options'>\r\n          <View main>\r\n          <div className=\"typography-3\">Import Bookmarks</div>\r\n          <div className=\"space-top-2 space-left-2\">\r\n            <label className=\"file-upload\">\r\n              <input type=\"file\" name=\"file\" onChange={this.fileChoosen} />\r\n              Import\r\n            </label>\r\n          </div>\r\n\r\n\r\n          <div className=\"typography-3 space-top-4\">Export Bookmarks</div>\r\n          <div className=\"space-top-2\"><button className=\"secondary animate space-left-2\" onClick={this.exportBookmark}>Export</button></div>\r\n\r\n\r\n          <div className=\"typography-3 space-top-4\">Appearance</div>\r\n          <div className=\"appearance\">\r\n            <div className=\"typography-5\">Dark mode</div>\r\n            <div>\r\n                <Switch\r\n                checked={this.props.profile.theme === 'theme_dark'}\r\n                onChange={this.toggleDarkMode}\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n            </div>\r\n\r\n            <div className=\"typography-5 space-bottom-2\">Text Size</div>\r\n            <div className=\" space-bottom-2\">\r\n              <div className={\"text-size size-1 space-right-1 \" + (this.props.profile.textSize === 'textsize_tiny' ? 'active' : '')}  onClick={() => this.changeTextSize('textsize_tiny')}>Az</div>\r\n              <div className={\"text-size size-2 space-right-1 \" + (this.props.profile.textSize === 'textsize_small' ? 'active' : '')}  onClick={() => this.changeTextSize('textsize_small')}>Az</div>\r\n              <div className={\"text-size size-3 space-right-1 \" + (this.props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_medium')}>Az</div>\r\n              <div className={\"text-size size-4 \" + (this.props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_large')}>Az</div>\r\n            </div>\r\n\r\n\r\n            <div className=\"typography-5\">Color Scheme</div>\r\n            <div>\r\n              <div className=\"theme-color color-1\" onClick={() => this.changeThemeColor('themecolor_1')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n              <div className=\"theme-color color-2\" onClick={() => this.changeThemeColor('themecolor_2')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n              <div className=\"theme-color color-3\" onClick={() => this.changeThemeColor('themecolor_3')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n              <div className=\"theme-color color-4\" onClick={() => this.changeThemeColor('themecolor_4')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"typography-3 space-top-4\">User Account</div>\r\n          <div><ArcTextField label=\"Name\" data={this.state} id=\"name\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><ArcTextField label=\"Email\" data={this.state} id=\"email\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><button className=\"secondary animate space-top-1\" onClick={this.updateUserDetails}>Update details</button></div>\r\n\r\n          <div className=\"typography-3 space-top-4\">Password</div>\r\n          <div><ArcTextField type=\"password\" label=\"Old Password\" data={this.state} id=\"oldPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><ArcTextField type=\"password\" label=\"New Password\" data={this.state} id=\"newPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><ArcTextField type=\"password\" label=\"Repeat New Password\" data={this.state} id=\"repeatPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><button className=\"secondary animate space-top-1\" onClick={this.changePassword}>Change Password</button></div>\r\n          </View>\r\n        </ViewResolver>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, persistProfile })(withCookies(Settings));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport PropTypes from 'prop-types';\r\nimport { withCookies } from 'react-cookie';\r\nimport './Login.scss';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport {signup, signin, sentPasswordChangeEmail, resetPassword} from './AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    history: any,\r\n    location: any\r\n}\r\n\r\ninterface State {\r\n    password: string;\r\n    repeatPassword: string;\r\n    resetCode: string;\r\n}\r\n\r\nclass ResetPassword extends Component<Props, any> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password: '',\r\n            repeatPassword: '',\r\n            resetCode:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query.code) {\r\n                this.setState({\r\n                    resetCode: query.code\r\n                })\r\n            }else {\r\n                this.props.history.push(\"/home\");\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    changePassword = () => {\r\n        if (isEmptyOrSpaces(this.state.password)) {\r\n            sendMessage('notification', true, {message: 'password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.repeatPassword) || isEmptyOrSpaces(this.state.repeatPassword)) {\r\n            sendMessage('notification', true, {message: 'Repeat password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (this.state.password !== this.state.repeatPassword) {\r\n            sendMessage('notification', true, {message: 'Password is not matching', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        this.resetPassword('password');\r\n\r\n    }\r\n\r\n    resetPassword = (type) => {\r\n        resetPassword({\r\n            password: this.state.password,\r\n            resetCode: this.state.resetCode\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password Changed successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid request', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.changePassword} noValidate>\r\n                        <h1>Reset password</h1>\r\n                        <div className=\"form\">\r\n                        <ArcTextField label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Repeat Password\" id=\"repeatPassword\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <button className=\"primary block\"  onClick={this.changePassword}>Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(ResetPassword);\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './style.scss';\r\nimport Home from '../Home';\r\nimport Bookmarks from '../Bookmarks';\r\nimport Notes from '../Notes';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport Login from '../Auth/Login';\r\nimport PrivateRoute from '../Auth/PrivateRoute';\r\nimport AuthInit from '../Auth/AuthInit';\r\nimport PropTypes from 'prop-types';\r\nimport { withCookies } from 'react-cookie';\r\nimport { connect } from 'react-redux';\r\nimport { receiveEvents, sendEvent } from '../../actions/EventActions';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { getProfile } from '../../actions/ProfileActions';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Backdrop from './Backdrop';\r\nimport Notification from '../Notification';\r\nimport Navigation from '../Navigation';\r\nimport Settings from '../Settings';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport {  sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport ResetPassword from '../Auth/ResetPassword';\r\n\r\nconst themes = {\r\n    'themecolor_1': getTheme('#69A7BF'),\r\n    'themecolor_2': getTheme('#99587B'),\r\n    'themecolor_3': getTheme('#A66C26'),\r\n    'themecolor_4': getTheme('#37AE82')\r\n}\r\n\r\nfunction getTheme(color) {\r\n    return createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n              main: color         \r\n          },\r\n          secondary: {\r\n              main: color\r\n          }\r\n        }\r\n      });\r\n}\r\n\r\ninterface Props {\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any,\r\n\r\n    // event: PropTypes.object,\r\n    profile: any,\r\n    authorization: Authorization\r\n}\r\n\r\ninterface State {\r\n    authorization: Authorization,\r\n    profile: any,\r\n    event: any\r\n}\r\n\r\nclass Content extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.props.getAuth();\r\n    }\r\n    \r\n    logout = (event, type = 'success', message = 'You have been logged out') => {\r\n        this.props.removeAuth();\r\n        this.props.cookies.remove('isAuth');\r\n        this.props.cookies.remove('token');\r\n        this.props.cookies.remove('secret');\r\n        this.props.cookies.remove('name');\r\n        sendMessage('notification', true, {type: type, message: message, duration: 3000});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"App \" + this.props.profile.theme + \" \" + this.props.profile.textSize + \" \" + this.props.profile.themeColor}>\r\n                \r\n                <HashRouter>\r\n                    <AuthInit />\r\n                    <Backdrop />\r\n                    <div className=\"body\">\r\n                        <div className=\"body-content\">\r\n                            <Notification />\r\n                            <MuiThemeProvider theme={themes[this.props.profile.themeColor]}>\r\n                                <Navigation {...this.props} logout={() => this.logout}/>\r\n                                <Route exact path=\"/\" render={(props) => <Home {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/home\" render={(props) => <Home {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/login\" render={(props) => <Login {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/reset\" render={(props) => <ResetPassword {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <PrivateRoute path=\"/bookmarks\" render={(props) => <Bookmarks {...props} {...this.props} logout={this.logout} />} />\r\n                                <PrivateRoute path=\"/notes\" render={(props) => <Notes {...props} {...this.props} logout={() => this.logout} />} />\r\n                                <Route path=\"/settings\" render={(props) => <Settings {...props} {...this.props} logout={() => this.logout}/>} />\r\n                            </MuiThemeProvider>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n  profile: state.profile,\r\n  event: state.event\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth, receiveEvents, sendEvent, getProfile })(withCookies(Content));\r\n","import { RECEIVE_EVENT, SEND_EVENT } from '../actions/types';\n\nexport const receiveEvents = () => dispatch => {\n    dispatch({\n        type: RECEIVE_EVENT\n    });\n}\n\nexport const sendEvent = (name, signal = true, data) => dispatch => {\n    dispatch({\n        type: SEND_EVENT,\n        payload: {\n            name: name,\n            signal: signal,\n            data: data\n        }\n    });\n}\n","import React, { Component } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './button-oval.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Content {...this.props} />\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport {CookiesProvider} from \"react-cookie\";\n\nReactDOM.render(<CookiesProvider><App /></CookiesProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/curate_white.62b209a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/curate_black.de996ba5.svg\";"],"sourceRoot":""}