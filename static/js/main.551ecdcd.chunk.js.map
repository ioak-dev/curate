{"version":3,"sources":["images/developers1.jpg","images/developers2.jpg","reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/BookmarkReducer.ts","reducers/NoteReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","components/Home/index.tsx","components/Utils.ts","components/Lib/RestTemplate.ts","components/Constants.ts","actions/BookmarkActions.ts","oakui/OakDialog.tsx","oakui/OakButton.tsx","oakui/OakPrompt.tsx","components/Bookmarks/BookmarkItem.tsx","oakui/ViewResolver.tsx","oakui/View.tsx","oakui/Sidebar.tsx","oakui/OakText.tsx","oakui/OakSelect.tsx","oakui/OakPagination.tsx","components/Bookmarks/BookmarkView.tsx","components/Bookmarks/BookmarkController.tsx","actions/NoteActions.ts","oakui/Showdown.tsx","components/Notes/NoteItem.tsx","oakui/ActionButton.tsx","components/Notes/NoteLink.tsx","components/Notes/NoteView.tsx","components/Notes/NoteController.tsx","actions/AuthActions.ts","components/Auth/AuthService.ts","components/Auth/Login.tsx","components/Auth/PrivateRoute.tsx","components/Auth/AuthInit.tsx","actions/ProfileActions.ts","components/App/Backdrop.tsx","components/Notification/index.tsx","components/Navigation/Links.tsx","components/Navigation/Desktop.tsx","components/Navigation/Mobile.tsx","components/Navigation/index.tsx","components/Bookmarks/BookmarkService.ts","components/Settings/BookmarkImport.tsx","components/Settings/BookmarkExport.tsx","components/Settings/SettingsService.ts","components/Settings/Appearance.tsx","components/Settings/UserDetails.tsx","components/Settings/ChangePassword.tsx","components/Settings/index.tsx","components/Auth/ResetPassword.tsx","components/App/Content.tsx","components/App/index.tsx","serviceWorker.ts","index.tsx","images/curate_white.svg","images/curate_black.svg"],"names":["module","exports","initialState","isAuth","token","secret","name","theme","textSize","themeColor","items","combineReducers","authorization","state","action","type","console","log","payload","profile","bookmark","note","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","subject","Subject","sendMessage","signal","data","next","receiveMessage","asObservable","Home","props","useEffect","className","to","activeClassName","src","developers2","alt","developers1","isEmptyOrSpaces","str","match","text","words","found","split","forEach","word","RegExp","baseUrl","process","httpGet","endpoint","headers","axios","get","httpPost","post","httpPut","put","httpDelete","delete","constants","API_URL_PRESIGNUP","API_URL_SIGNUP","API_URL_PRESIGNIN","API_URL_SIGNIN","API_URL_RESET","API_URL_CODE","API_URL_BOOKMARK","API_URL_BOOKMARK_IMPORT","API_URL_MAIL","API_URL_PREFERENCES","API_URL_USER_DETAILS","API_URL_NOTE","fetchBookmark","dispatch","Authorization","then","response","OakDialog","documentWidth","document","documentElement","clientWidth","scrollBarWidth","window","innerWidth","style","setProperty","visible","body","classList","add","remove","addEventListener","escFunction","removeEventListener","event","keyCode","toggleVisibility","getDialogStyle","small","fullscreen","onClick","children","OakButton","variant","invert","align","getStyle","icon","OakPrompt","BookmarkItem","useState","showDeletePrompt","setShowDeletePrompt","tags","map","item","push","key","searchByTag","deleteBookmark","id","open","href","editBookmark","title","target","rel","createdAt","ViewResolver","mobileViewPort","setMobileViewPort","showSide","setShowSide","views","setViews","main","setMain","side","setSide","viewPort","matchMedia","matches","addListener","eventBus","subscribe","message","unsubscribe","initializeViews","React","Children","toArray","node","toggleSideView","sideLabel","View","Sidebar","show","setShow","elementList","setElementList","label","elements","undefined","number","animate","OakText","htmlFor","multiline","disabled","autoComplete","errorFields","value","onChange","handleChange","OakSelect","changeSelection","e","newValue","dropdownList","objects","width","find","element","first","firstAction","OakPagination","rowsPerPage","pageNo","setData","pageChanged","onChangePage","totalRows","Math","ceil","BookmarkView","editDialog","setEditDialog","paginationData","setPaginationData","sidebarElements","addNew","selectBookmark","toggleEditDialog","duration","handleBookmarkDataChange","update","view","length","slice","_id","searchPref","filtered","method","onSubmit","search","noValidate","handleSearchPrefDataChange","Switch","checked","toggleSearchPref","inputProps","clearSearch","queryString","require","connect","saveBookmark","catch","error","status","setBookmark","content","searchText","filterActivator","setSearchPref","firstLoad","setFirstLoad","setView","location","query","parse","q","startsWith","preventDefault","filter","currentTarget","bookmarkId","pref","tagName","fetchNote","Showdown","html","showdown","Converter","tables","makeHtml","source","dangerouslySetInnerHTML","__html","NoteItem","flags","preview","setPreview","deleteNote","editNote","notebook","setEditNote","newNotebook","saveNote","notebooks","ActionButton","leftLabel","rightLabel","leftAction","rightAction","removeMd","NoteLink","selected","selectNote","flag","showTag","substring","sortTypes","sortOrders","emptyNote","NoteView","newNote","handleNoteDataChange","searchResults","filterPref","handleFilterPrefDataChange","notebookList","setNote","notebookFilter","Set","sortBy","sortOrder","setFilterPref","setSearchResults","existingNotebookList","setExistingNotebookList","existingNotebookListTemp","Array","from","array","property","isReverseOrder","noteList","sort","o1","o2","activeSelection","selectedNote","getAuth","addAuth","removeAuth","preSignin","email","Promise","resolve","signin","problem","solution","password","ciphertext","JSON","stringify","sjcl","decrypt","encrypt","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","Utf8","withCookies","newuser","resetCode","signinAction","success","signupAction","test","signup","sentPasswordChangeEmailAction","rand","random","sentPasswordChangeEmail","toggle","cookies","set","history","path","render","getProfile","setProfile","Backdrop","backdrop","setBackdrop","Notification","spinner","setSpinner","notification","setNotification","setTimeout","Links","Desktop","transparent","curateBlack","curateWhite","toggleSettings","logout","login","Mobile","menu","setMenu","reloadProfile","withRouter","mobilemenu","chooseTheme","showSettings","transparentNavBar","changeTextSize","size","changeThemeColor","color","importBookmarks","BookmarkImport","reader","FileReader","onload","eventInner","result","readAsText","files","BookmarkExport","sendExportEmail","staticContent","htmlContent","Appearance","persistProfile","updateUserDetailsImpl","ChangePassword","oldPassword","newPassword","repeatPassword","checkOldPassword","innerResponse","setEmail","user","newData","updateUserDetails","code","changePassword","resetPasswordAction","resetPassword","themes","themecolor1","getTheme","themecolor2","themecolor3","themecolor4","createMuiTheme","palette","primary","secondary","MuiThemeProvider","exact","propsLocal","App","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.551ecdcd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/developers1.b75ace5c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/developers2.cf83e454.jpg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n  token: '',\r\n  secret: '',\r\n  name: '',\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_AUTH:\r\n      console.log('GET_AUTH reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case ADD_AUTH:\r\n      console.log('ADD_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case REMOVE_AUTH:\r\n      console.log('REMOVE_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n        token: '',\r\n        secret: '',\r\n        name: '',\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  theme: 'theme_dark',\r\n  textSize: 'textsize_medium',\r\n  themeColor: 'themecolor1',\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_PROFILE:\r\n      console.log('GET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case SET_PROFILE:\r\n      console.log('SET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FETCH_BOOKMARK } from '../actions/types';\r\n\r\nconst initialState = {\r\n  items: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_BOOKMARK:\r\n      console.log('FETCH_BOOKMARK reducer');\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FETCH_NOTE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  items: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_NOTE:\r\n      console.log('FETCH_NOTE reducer');\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport AuthReducer from './AuthReducer';\r\nimport ProfileReducer from './ProfileReducer';\r\nimport BookmarkReducer from './BookmarkReducer';\r\nimport NoteReducer from './NoteReducer';\r\n\r\nexport default combineReducers({\r\n  authorization: AuthReducer,\r\n  profile: ProfileReducer,\r\n  bookmark: BookmarkReducer,\r\n  note: NoteReducer,\r\n});\r\n","export const GET_AUTH = 'GET_AUTH';\r\nexport const ADD_AUTH = 'ADD_AUTH';\r\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\r\n\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const SET_PROFILE = 'SET_PROFILE';\r\n\r\nexport const FETCH_BOOKMARK = 'FETCH_BOOKMARK';\r\nexport const FETCH_NOTE = 'FETCH_NOTE';\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware) // ,\r\n    // window[\"__REDUX_DEVTOOLS_EXTENSION__\"] && window[\"__REDUX_DEVTOOLS_EXTENSION__\"]()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import { Subject, Observable } from 'rxjs';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n  subject.next({\r\n    name,\r\n    signal,\r\n    data,\r\n  });\r\n}\r\n\r\nexport function clearMessages() {\r\n  subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n  return subject.asObservable();\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './style.scss';\r\nimport developers1 from '../../images/developers1.jpg';\r\nimport developers2 from '../../images/developers2.jpg';\r\n\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  setProfile: Function;\r\n  profile: Profile;\r\n  match: any;\r\n  logout: Function;\r\n}\r\n\r\nconst Home = (props: Props) => {\r\n  useEffect(() => {\r\n    sendMessage('navbar-transparency');\r\n    return () => sendMessage('navbar-transparency', false);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"home\">\r\n        <div className=\"section parallax bg1\" />\r\n        <div className=\"section static bg1 odd\">\r\n          <h3>A bookmarking app like never before</h3>\r\n          <p>\r\n            Take your link to the web wherever you go, with the most secure\r\n            bookmark and note taking app\r\n          </p>\r\n          <br />\r\n          <p>\r\n            <NavLink to=\"/login\" className=\"navitem\" activeClassName=\"active\">\r\n              Sign up\r\n            </NavLink>\r\n            &nbsp;for free\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg bg2\" />\r\n        <div className=\"section static bg2 even\">\r\n          <h3>Secure by design</h3>\r\n          <p>Designed with security as a primary factor from ground up</p>\r\n          <p>Your passwords never leaves your workstation</p>\r\n          <p>Our servers have zero knowledge about your password</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg3\" />\r\n        <div className=\"section static bg3 odd\">\r\n          <h3>Premium features</h3>\r\n          <p>\r\n            Get premium features free for lifetime. We standby free software for\r\n            all\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg4\" />\r\n        <div className=\"section static bg4 even\">\r\n          <h3>Don&apos;t mix up personal and business</h3>\r\n          <p>\r\n            With the help of workspaces, you can now work in isolated containers\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg5\" />\r\n        <div className=\"section static bg5 odd\">\r\n          <h3>We love open source</h3>\r\n          <p>\r\n            Our codebase is 100% available for the community to do peer review\r\n            and audit for any security flaws\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg6\" />\r\n        <div className=\"section static bg6 even\">\r\n          <h3>Clean clutter free interface</h3>\r\n          <p>\r\n            Modern interface with a clutter free design to keep you in focus on\r\n            your activity\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg7\" />\r\n        <div className=\"section static bg7 odd\">\r\n          <h3>Travel to the future</h3>\r\n          <p>\r\n            We are evolving for the future. More features on the way. You can\r\n            watch our roadmap here\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg8\" />\r\n        <div className=\"section static developers bg8\">\r\n          <div className=\"headline\">Meet the creators</div>\r\n          <div className=\"container\">\r\n            <div className=\"contact\">\r\n              <img src={developers2} alt=\"Avatar\" />\r\n              <div className=\"name\">Amarandra Sahoo</div>\r\n              <div className=\"tag\">Backend implementation</div>\r\n              <div className=\"description\">\r\n                <p>\r\n                  Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel\r\n                  est. In venenatis enim nec justo rhoncus congue sed sed dolor.\r\n                  Morbi sagittis mauris a elementum euismod. Maecenas orci nibh,\r\n                  venenatis vitae felis convallis, interdum tincidunt tortor\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"contact\">\r\n              <img src={developers1} alt=\"Avatar\" />\r\n              <div className=\"name\">Arun Kumar Selvaraj</div>\r\n              <div className=\"tag\">Frontend implementation</div>\r\n              <div className=\"description\">\r\n                {/* <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p> */}\r\n                <p>\r\n                  Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel\r\n                  est. In venenatis enim nec justo rhoncus congue sed sed dolor.\r\n                  Morbi sagittis mauris a elementum euismod. Maecenas orci nibh,\r\n                  venenatis vitae felis convallis, interdum tincidunt tortor\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export function isEmptyOrSpaces(str) {\r\n  return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function match(text, words) {\r\n  let found = false;\r\n  if (words) {\r\n    words.split(' ').forEach(word => {\r\n      if (text.match(new RegExp(`(\\\\w*${word}\\\\w*)`, 'gi'))) {\r\n        found = true;\r\n      }\r\n    });\r\n  }\r\n  return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n  const result = array.sort(function(o1, o2) {\r\n    if (isReverseOrder) {\r\n      return o1[property] > o2[property]\r\n        ? -1\r\n        : o1[property] < o2[property]\r\n        ? 1\r\n        : 0;\r\n    }\r\n    return o1[property] < o2[property]\r\n      ? -1\r\n      : o1[property] > o2[property]\r\n      ? 1\r\n      : 0;\r\n  });\r\n\r\n  return result;\r\n}\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport function httpGet(endpoint: string, headers: any) {\r\n  return axios.get(baseUrl + endpoint, headers);\r\n  // .then(function(response) {\r\n  //     return Promise.resolve(response);\r\n  // }\r\n  // )\r\n}\r\n\r\nexport function httpPost(endpoint: string, payload: any, headers: any) {\r\n  return axios.post(baseUrl + endpoint, payload, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nexport function httpPut(endpoint: string, payload: any, headers: any) {\r\n  return axios.put(baseUrl + endpoint, payload, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nexport function httpDelete(endpoint: string, headers: any) {\r\n  return axios.delete(baseUrl + endpoint, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n","const constants = {\r\n  API_URL_PRESIGNUP: '/auth/keys',\r\n  API_URL_SIGNUP: '/auth/signup',\r\n  API_URL_PRESIGNIN: '/auth/keys/',\r\n  API_URL_SIGNIN: '/auth/signin',\r\n  API_URL_RESET: '/auth/reset',\r\n  API_URL_CODE: '/auth/sendResetCode',\r\n\r\n  API_URL_BOOKMARK: '/bookmark',\r\n  API_URL_BOOKMARK_IMPORT: '/bookmark/import',\r\n  API_URL_MAIL: '/bookmark/sendExportMail',\r\n  API_URL_PREFERENCES: '/user/preferences',\r\n  API_URL_USER_DETAILS: '/user/details',\r\n\r\n  API_URL_NOTE: '/note',\r\n};\r\n\r\nexport default constants;\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { FETCH_BOOKMARK } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\nconst domain = 'bookmark';\r\n\r\nexport const fetchBookmark = authorization => dispatch => {\r\n  httpGet(constants.API_URL_BOOKMARK, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: FETCH_BOOKMARK,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const saveBookmark = (authorization, payload) => dispatch => {\r\n  httpPut(constants.API_URL_BOOKMARK, payload, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  })\r\n    .then(() => {\r\n      sendMessage(domain, true, { action: payload.id ? 'updated' : 'created' });\r\n      dispatch(fetchBookmark(authorization));\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteBookmark = (authorization, id) => dispatch => {\r\n  httpDelete(`${constants.API_URL_BOOKMARK}/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  })\r\n    .then(function(response) {\r\n      if (response.status === 201) {\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchBookmark(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import React, { useEffect, ReactNode } from 'react';\r\nimport './OakDialog.scss';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  small?: boolean;\r\n  fullscreen?: boolean;\r\n  children?: ReactNode;\r\n}\r\n\r\nconst OakDialog = (props: Props) => {\r\n  useEffect(() => {\r\n    const documentWidth = document.documentElement.clientWidth;\r\n    const windowWidth = window.innerWidth;\r\n    const scrollBarWidth = windowWidth - documentWidth;\r\n    document.documentElement.style.setProperty(\r\n      '--scrollbar-width',\r\n      `${scrollBarWidth}px`\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    sendMessage('dialog', props.visible);\r\n    if (props.visible) {\r\n      document.body.classList.add('oak-dialog-open');\r\n    } else {\r\n      document.body.classList.remove('oak-dialog-open');\r\n    }\r\n    document.addEventListener('keydown', escFunction, false);\r\n    return () => document.removeEventListener('keydown', escFunction, false);\r\n  }, [props.visible]);\r\n\r\n  const escFunction = event => {\r\n    if (event.keyCode === 27) {\r\n      if (props.visible) {\r\n        props.toggleVisibility();\r\n      }\r\n    }\r\n  };\r\n\r\n  const getDialogStyle = () => {\r\n    let style = '';\r\n    style += props.small ? ' small' : '';\r\n    style += props.fullscreen ? ' fullscreen' : '';\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    <div className=\"oak-dialog\">\r\n      <div\r\n        className={\r\n          props.visible\r\n            ? `dialog show ${getDialogStyle()}`\r\n            : `dialog hide ${getDialogStyle()}`\r\n        }\r\n      >\r\n        <div className={props.visible ? 'container' : 'container hidetext'}>\r\n          <div className=\"dialog-header\">\r\n            <div className=\"container\" onClick={props.toggleVisibility}>\r\n              <i className=\"material-icons\">close</i>\r\n              <div className=\"text-esc\">esc</div>\r\n            </div>\r\n          </div>\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakDialog;\r\n","import React, { ReactNode } from 'react';\r\nimport './oak-button-oval.scss';\r\n\r\ninterface Props {\r\n  icon?: string;\r\n  action?: any;\r\n  variant?:\r\n    | 'block'\r\n    | 'outline'\r\n    | 'animate in'\r\n    | 'animate out'\r\n    | 'animate none'\r\n    | 'disabled';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  align?: 'left' | 'right' | 'center';\r\n  small?: boolean;\r\n  invert?: boolean;\r\n  children?: ReactNode;\r\n  type?: 'button' | 'submit';\r\n}\r\n\r\nconst OakButton = (props: Props) => {\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n\r\n    if (!props.children) {\r\n      style += ' icon';\r\n    }\r\n\r\n    style += props.invert ? ' invert' : '';\r\n\r\n    style += props.small ? ' small' : '';\r\n\r\n    style += props.align ? ` align-${props.align}` : '';\r\n\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    // eslint-disable-next-line react/button-has-type\r\n    <button className={`oak-button ${getStyle()}`} onClick={props.action}>\r\n      {props.icon && <i className=\"material-icons\">{props.icon}</i>}\r\n      {props.children && props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default OakButton;\r\n","import React from 'react';\r\nimport './OakDialog.scss';\r\nimport OakDialog from './OakDialog';\r\nimport OakButton from './OakButton';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  action: any;\r\n  text?: string;\r\n  children?: any;\r\n}\r\n\r\nconst OakPrompt = (props: Props) => {\r\n  // useEffect(() => {\r\n  //     document.addEventListener(\"keydown\", escFunction, false);\r\n  //     return () => document.removeEventListener(\"keydown\", escFunction, false);\r\n  // }, []);\r\n\r\n  // const escFunction = (event) => {\r\n  //     if(event.keyCode === 27) {\r\n  //       if (props.visible) {\r\n  //         props.toggleVisibility();\r\n  //       }\r\n  //     }\r\n  // }\r\n\r\n  const action = () => {\r\n    props.action();\r\n    props.toggleVisibility();\r\n  };\r\n\r\n  return (\r\n    <OakDialog\r\n      small\r\n      visible={props.visible}\r\n      toggleVisibility={props.toggleVisibility}\r\n    >\r\n      <div className=\"dialog-body typography-4 space-top-4 space-bottom-4\">\r\n        {props.text ? props.text : 'Are you sure you want to continue?'}\r\n      </div>\r\n      <div className=\"dialog-footer\">\r\n        {props.children && props.children}\r\n        {!props.children && (\r\n          <>\r\n            <OakButton\r\n              action={props.toggleVisibility}\r\n              theme=\"default\"\r\n              variant=\"animate in\"\r\n              align=\"left\"\r\n            >\r\n              <i className=\"material-icons\">close</i>No\r\n            </OakButton>\r\n            <OakButton\r\n              action={action}\r\n              theme=\"primary\"\r\n              variant=\"animate out\"\r\n              align=\"right\"\r\n            >\r\n              <i className=\"material-icons\">double_arrow</i>Yes\r\n            </OakButton>\r\n          </>\r\n        )}\r\n      </div>\r\n    </OakDialog>\r\n  );\r\n};\r\n\r\nexport default OakPrompt;\r\n","import React, { useState } from 'react';\r\nimport './style.scss';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\n\r\ninterface Props {\r\n  editBookmark: Function;\r\n  deleteBookmark: Function;\r\n  searchByTag: Function;\r\n  bookmark: any;\r\n  id: string;\r\n}\r\n\r\nconst BookmarkItem = (props: Props) => {\r\n  const [showDeletePrompt, setShowDeletePrompt] = useState(false);\r\n  const tags: any = [];\r\n\r\n  if (props.bookmark.tags) {\r\n    props.bookmark.tags.split(' ').map(item => {\r\n      tags.push(\r\n        <div className=\"tag\" key={item} onClick={() => props.searchByTag(item)}>\r\n          {item}\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"item\">\r\n      <OakPrompt\r\n        visible={showDeletePrompt}\r\n        toggleVisibility={() => setShowDeletePrompt(!showDeletePrompt)}\r\n        action={() => props.deleteBookmark(props.id)}\r\n        text=\"Are you sure, you want to delete the bookmark?\"\r\n      />\r\n      <div className=\"item-container\">\r\n        <div className=\"item-actions\">\r\n          <div className=\"item-edit\">\r\n            <i\r\n              onClick={() => window.open(props.bookmark.href)}\r\n              className=\"material-icons\"\r\n            >\r\n              link\r\n            </i>\r\n          </div>\r\n          <div className=\"item-edit\">\r\n            <i\r\n              onClick={() => props.editBookmark(props.bookmark)}\r\n              className=\"material-icons\"\r\n            >\r\n              edit\r\n            </i>\r\n          </div>\r\n          <div className=\"item-delete\">\r\n            <i\r\n              onClick={() => setShowDeletePrompt(!showDeletePrompt)}\r\n              className=\"material-icons\"\r\n            >\r\n              delete\r\n            </i>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"item-divider\"></div> */}\r\n        <div className=\"item-content\">\r\n          <div className=\"title typography-4\">{props.bookmark.title}</div>\r\n          <div className=\"url typography-6\">\r\n            <a\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              href={props.bookmark.href}\r\n            >\r\n              {props.bookmark.href}\r\n            </a>\r\n          </div>\r\n          <div className=\"timestamp typography-6 space-bottom-1\">\r\n            {props.bookmark.createdAt}\r\n          </div>\r\n          {tags}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookmarkItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport './ViewResolver.scss';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\nimport OakButton from './OakButton';\r\n\r\ninterface Props {\r\n  sideLabel?: string;\r\n  children: any;\r\n}\r\n\r\nconst ViewResolver = (props: Props) => {\r\n  const [mobileViewPort, setMobileViewPort] = useState(false);\r\n\r\n  const [showSide, setShowSide] = useState(false);\r\n\r\n  const [views, setViews] = useState();\r\n\r\n  const [main, setMain] = useState();\r\n  const [side, setSide] = useState();\r\n\r\n  const viewPort = window.matchMedia('(max-width: 767px)');\r\n\r\n  useEffect(() => {\r\n    setMobileViewPort(viewPort.matches);\r\n    viewPort.addListener(() => setMobileViewPort(viewPort.matches));\r\n    setViews(props.children);\r\n\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'sidebar') {\r\n        setShowSide(message.signal);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setViews(props.children);\r\n  }, [props.children]);\r\n\r\n  useEffect(() => {\r\n    initializeViews();\r\n  }, [views]);\r\n\r\n  const initializeViews = () => {\r\n    React.Children.toArray(props.children).forEach((node: any) => {\r\n      // node.type.name is minified after build and so static build result has different alphabet\r\n      // if (node.type.name === 'View') {\r\n      if (node.props.main) {\r\n        setMain(node);\r\n      } else if (node.props.side) {\r\n        setSide(node);\r\n      }\r\n      // }\r\n    });\r\n  };\r\n\r\n  const toggleSideView = () => {\r\n    sendMessage('sidebar', !showSide);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!mobileViewPort && (\r\n        <div className=\"view-desktop\">\r\n          {side && <div className=\"view-side\">{side}</div>}\r\n          <div className={`view-content${side ? ' side-present' : ''}`}>\r\n            {main}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {mobileViewPort && (\r\n        <div className=\"view-mobile\">\r\n          <div className={showSide ? 'slider show' : 'slider hide'}>\r\n            <div className=\"topbar\" onClick={toggleSideView}>\r\n              <div>\r\n                <OakButton\r\n                  theme=\"default\"\r\n                  variant=\"disabled\"\r\n                  action={toggleSideView}\r\n                >\r\n                  {!showSide && (\r\n                    <>\r\n                      <i className=\"material-icons\">expand_more</i>\r\n                      {props.sideLabel ? props.sideLabel : 'Menu'}\r\n                    </>\r\n                  )}\r\n                  {showSide && (\r\n                    <>\r\n                      <i className=\"material-icons\">expand_less</i>Collapse\r\n                    </>\r\n                  )}\r\n                </OakButton>\r\n              </div>\r\n            </div>\r\n            <div className=\"view-side\">{showSide && side}</div>\r\n          </div>\r\n          {!showSide && <div className=\"view-main\">{main}</div>}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewResolver;\r\n","import React from 'react';\r\n\r\ninterface Props {\r\n  main?: any;\r\n  side?: any;\r\n  children?: any;\r\n}\r\n\r\nconst View = (props: Props) => {\r\n  return (\r\n    <div>\r\n      {/* {this.props} */}\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default View;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './Sidebar.scss';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\n\r\ninterface Props {\r\n  show?: boolean;\r\n  elements?: Array<any>;\r\n  label: string;\r\n  icon: string;\r\n  number?: number;\r\n  animate?: boolean;\r\n  children?: any;\r\n}\r\n\r\nconst Sidebar = (props: Props) => {\r\n  const [show, setShow] = useState(false);\r\n  const [elementList, setElementList] = useState([{}]);\r\n\r\n  useEffect(() => {\r\n    sendMessage('sidebarExpanded', show, { label: props.label });\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    setShow(!!props.show);\r\n    setElementList(props.elements ? props.elements : []);\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (\r\n        message.name === 'sidebarExpanded' &&\r\n        message.signal &&\r\n        message.data &&\r\n        message.data.label !== props.label\r\n      ) {\r\n        setShow(false);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  const elements = elementList.map((item: any) => (\r\n    <div key={item.label} className=\"element\" onClick={item.action}>\r\n      <i className=\"material-icons\">{item.icon}</i>\r\n      {item.label}\r\n    </div>\r\n  ));\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div\r\n        className={show ? 'header active' : 'header'}\r\n        onClick={() => setShow(!show)}\r\n      >\r\n        <div className=\"label\">\r\n          <i className=\"material-icons\">{props.icon}</i>\r\n          {props.label}\r\n          {props.number !== undefined && (\r\n            <div className=\"number\">{props.number}</div>\r\n          )}\r\n        </div>\r\n        {/* <div className=\"aria\"><i className=\"material-icons\">{this.state.show ? 'expand_less' : 'expand_more'}</i></div> */}\r\n        <div className=\"aria\">\r\n          <i className={show ? 'material-icons collapse' : 'material-icons'}>\r\n            keyboard_arrow_left\r\n          </i>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={\r\n          show\r\n            ? `content show ${props.animate ? 'animate in' : 'static'}`\r\n            : `content hide ${props.animate ? 'animate in' : 'static'}`\r\n        }\r\n      >\r\n        {elements}\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\nimport './OakText.scss';\r\n\r\ninterface Props {\r\n  label: string;\r\n  id: string;\r\n  data: any;\r\n  type?: string;\r\n  handleChange: any;\r\n  errorFields?: any;\r\n  disabled?: boolean;\r\n  rows?: number;\r\n  multiline?: boolean;\r\n}\r\nconst OakText = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-text-field\">\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {!props.multiline && (\r\n        <input\r\n          disabled={props.disabled}\r\n          autoComplete=\"off\"\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          type={props.type ? props.type : 'text'}\r\n          name={props.id}\r\n          id={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n        />\r\n      )}\r\n      {/* rows={props.rows ? props.rows : 4} */}\r\n      {props.multiline && (\r\n        <textarea\r\n          disabled={props.disabled}\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          id={props.id}\r\n          name={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n        />\r\n      )}\r\n      {/* {props.multiline && <div contentEditable={props.disabled ? false : true} suppressContentEditableWarning={true}\r\n                className={\"textarea \" + (props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                onBlur={handleChange}>{props.data[props.id]}</div>} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakText;\r\n","import React, { useState } from 'react';\r\nimport './OakSelect.scss';\r\n\r\ninterface Props {\r\n  id: string;\r\n  label?: string;\r\n  handleChange: Function;\r\n  error?: boolean;\r\n  data: any;\r\n  elements?: string[];\r\n  objects?: Array<any>;\r\n  first?: string;\r\n  firstAction?: string;\r\n  variant?: 'outline' | 'no-outline' | 'block' | 'normal';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  width?: 'width-25' | 'width-50' | 'width-75' | 'width-100';\r\n}\r\n\r\nconst OakSelect = (props: Props) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const changeSelection = (e, newValue) => {\r\n    e.target.name = props.id;\r\n    e.target.value = newValue;\r\n    props.handleChange(e);\r\n    setShow(!show);\r\n  };\r\n\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n    style += props.width ? ` ${props.width}` : '';\r\n\r\n    return style;\r\n  };\r\n\r\n  let dropdownList: Array<any> = [];\r\n\r\n  if (props.elements) {\r\n    dropdownList = props.elements.map(item => (\r\n      <div\r\n        className=\"option\"\r\n        key={item}\r\n        onClick={e => changeSelection(e, item)}\r\n      >\r\n        {item}\r\n      </div>\r\n    ));\r\n  } else if (props.objects) {\r\n    dropdownList = props.objects.map(item => (\r\n      <div\r\n        className=\"option\"\r\n        key={item.key}\r\n        onClick={e => changeSelection(e, item.key)}\r\n      >\r\n        {item.value}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={`oak-select ${getStyle()}`}>\r\n        {props.label && <label htmlFor={props.id}>{props.label}</label>}\r\n        <div\r\n          className=\"select-button\"\r\n          id={props.id}\r\n          onClick={() => setShow(!show)}\r\n        >\r\n          {props.elements && <div>{props.data[props.id]}</div>}\r\n          {props.objects && (\r\n            <div>\r\n              {props.objects.find(\r\n                element => element.key === props.data[props.id]\r\n              ) &&\r\n                props.objects?.find(\r\n                  element => element.key === props.data[props.id]\r\n                ).value}\r\n            </div>\r\n          )}\r\n          {/* {this.props.objects && <div>{this.props.objects[0].value}</div>} */}\r\n          <div>\r\n            <i className=\"material-icons\">keyboard_arrow_down</i>\r\n          </div>\r\n        </div>\r\n        <div className={show ? 'dropdown show' : 'dropdown hide'}>\r\n          <div className=\"dropdown-content\">\r\n            {props.first && (\r\n              <div\r\n                className=\"option\"\r\n                onClick={e => changeSelection(e, props.first)}\r\n              >\r\n                {props.first}\r\n              </div>\r\n            )}\r\n            {props.firstAction && (\r\n              <div\r\n                className=\"option\"\r\n                onClick={e => changeSelection(e, props.firstAction)}\r\n              >\r\n                {props.firstAction}\r\n              </div>\r\n            )}\r\n            {dropdownList}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakSelect;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './OakPagination.scss';\r\nimport OakSelect from './OakSelect';\r\n\r\ninterface Props {\r\n  onChangePage: any;\r\n  totalRows: number;\r\n  label?: string;\r\n}\r\n\r\nconst OakPagination = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    rowsPerPage: 6,\r\n    pageNo: 1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    pageChanged();\r\n  }, [data]);\r\n\r\n  const previousPage = () => {\r\n    if (data.pageNo !== 1) {\r\n      setData({ ...data, pageNo: data.pageNo - 1 });\r\n    }\r\n  };\r\n\r\n  const pageChanged = () => {\r\n    props.onChangePage(data.pageNo, data.rowsPerPage);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    if (Math.ceil(props.totalRows / data.rowsPerPage) !== data.pageNo) {\r\n      setData({ ...data, pageNo: data.pageNo + 1 });\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"oak-pagination\">\r\n      <div className=\"space-right-3\">\r\n        {props.label ? props.label : 'Rows per page'}\r\n      </div>\r\n      <div className=\"space-right-3\">\r\n        <OakSelect\r\n          data={data}\r\n          id=\"rowsPerPage\"\r\n          handleChange={e => handleChange(e)}\r\n          elements={['6', '10', '20', '50']}\r\n        />\r\n      </div>\r\n      <div className=\"page-number space-right-3\">\r\n        <div>\r\n          {(data.pageNo - 1) * data.rowsPerPage + 1}-{' '}\r\n          {data.pageNo * data.rowsPerPage < props.totalRows\r\n            ? data.pageNo * data.rowsPerPage\r\n            : props.totalRows}\r\n          &nbsp;of&nbsp; {props.totalRows}{' '}\r\n        </div>\r\n      </div>\r\n      <div className=\"page-nav\">\r\n        <div className=\"space-right-2\">\r\n          <i\r\n            className={\r\n              data.pageNo === 1 ? 'material-icons disabled' : 'material-icons'\r\n            }\r\n            onClick={previousPage}\r\n          >\r\n            keyboard_arrow_left\r\n          </i>\r\n        </div>\r\n        <div>\r\n          <i\r\n            className={\r\n              Math.ceil(props.totalRows / data.rowsPerPage) === data.pageNo\r\n                ? 'material-icons disabled'\r\n                : 'material-icons'\r\n            }\r\n            onClick={nextPage}\r\n          >\r\n            keyboard_arrow_right\r\n          </i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakPagination;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Switch } from '@material-ui/core';\r\nimport BookmarkItem from './BookmarkItem';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport View from '../../oakui/View';\r\nimport './style.scss';\r\nimport Sidebar from '../../oakui/Sidebar';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakPagination from '../../oakui/OakPagination';\r\n\r\ninterface Props {\r\n  selectBookmark: Function;\r\n  deleteBookmark: Function;\r\n  search: any;\r\n  searchByTag: Function;\r\n\r\n  bookmark: any;\r\n  searchPref: any;\r\n  view: any[];\r\n\r\n  handleBookmarkDataChange: Function;\r\n  handleSearchPrefDataChange: Function;\r\n  toggleSearchPref: Function;\r\n  clearSearch: Function;\r\n  update: Function;\r\n}\r\n\r\nconst BookmarkView = (props: Props) => {\r\n  const [editDialog, setEditDialog] = useState(false);\r\n  const [paginationData, setPaginationData] = useState({\r\n    pageNo: 1,\r\n    rowsPerPage: 6,\r\n  });\r\n\r\n  const domain = 'bookmark';\r\n  const sidebarElements = {\r\n    addNew: [\r\n      {\r\n        label: 'New Bookmark',\r\n        action: () => newBookmark(),\r\n        icon: 'note_add',\r\n      },\r\n    ],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === domain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${domain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action !== 'deleted') {\r\n          toggleEditDialog();\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  function newBookmark() {\r\n    props.selectBookmark(null);\r\n    setEditDialog(true);\r\n  }\r\n\r\n  function selectBookmark(item) {\r\n    props.selectBookmark(item);\r\n    setEditDialog(true);\r\n  }\r\n\r\n  function toggleEditDialog() {\r\n    setEditDialog(!editDialog);\r\n  }\r\n\r\n  const onChangePage = (pageNo: number, rowsPerPage: number) => {\r\n    setPaginationData({\r\n      pageNo,\r\n      rowsPerPage,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bookmarks\">\r\n      <OakDialog visible={editDialog} toggleVisibility={toggleEditDialog}>\r\n        <div className=\"dialog-body\">\r\n          <OakText\r\n            label=\"Title\"\r\n            data={props.bookmark}\r\n            id=\"title\"\r\n            handleChange={e => props.handleBookmarkDataChange(e)}\r\n          />\r\n          <OakText\r\n            label=\"URL\"\r\n            data={props.bookmark}\r\n            id=\"href\"\r\n            handleChange={e => props.handleBookmarkDataChange(e)}\r\n          />\r\n          <OakText\r\n            label=\"Tags\"\r\n            data={props.bookmark}\r\n            id=\"tags\"\r\n            handleChange={e => props.handleBookmarkDataChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"dialog-footer\">\r\n          <OakButton\r\n            action={toggleEditDialog}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">close</i>Cancel\r\n          </OakButton>\r\n          <OakButton\r\n            action={props.update}\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            align=\"right\"\r\n          >\r\n            <i className=\"material-icons\">double_arrow</i>Save\r\n          </OakButton>\r\n        </div>\r\n      </OakDialog>\r\n\r\n      <ViewResolver>\r\n        <View main>\r\n          <OakPagination\r\n            totalRows={props.view.length}\r\n            onChangePage={onChangePage}\r\n            label=\"Items per page\"\r\n          />\r\n          <div className=\"space-bottom-2\" />\r\n          {props.view\r\n            .slice(\r\n              (paginationData.pageNo - 1) * paginationData.rowsPerPage,\r\n              paginationData.pageNo * paginationData.rowsPerPage\r\n            )\r\n            .map((item: any) => (\r\n              <div key={item._id}>\r\n                <BookmarkItem\r\n                  id={item._id}\r\n                  bookmark={item}\r\n                  editBookmark={selectBookmark}\r\n                  deleteBookmark={props.deleteBookmark}\r\n                  searchByTag={props.searchByTag}\r\n                />\r\n                <br />\r\n              </div>\r\n            ))}\r\n        </View>\r\n        <View side>\r\n          <div className=\"filter-container\">\r\n            <div className=\"section-main\">\r\n              <Sidebar\r\n                label=\"Add New\"\r\n                elements={sidebarElements.addNew}\r\n                icon=\"add\"\r\n                animate\r\n              />\r\n              <Sidebar\r\n                label=\"Search\"\r\n                icon=\"search\"\r\n                animate\r\n                number={\r\n                  props.searchPref.filtered ? props.view.length : undefined\r\n                }\r\n              >\r\n                <form method=\"GET\" onSubmit={props.search} noValidate>\r\n                  <div className=\"space-top-2 space-left-4 space-right-4\">\r\n                    <OakText\r\n                      label=\"Keywords\"\r\n                      id=\"searchText\"\r\n                      data={props.searchPref}\r\n                      handleChange={e => props.handleSearchPrefDataChange(e)}\r\n                    />\r\n                  </div>\r\n                </form>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.title}\r\n                    onChange={() => props.toggleSearchPref('title')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include title\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.tags}\r\n                    onChange={() => props.toggleSearchPref('tags')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include tags\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.href}\r\n                    onChange={() => props.toggleSearchPref('href')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include URL\r\n                </div>\r\n                {props.searchPref.filtered && (\r\n                  <div className=\"typography-4 space-top-2 space-left-2\">\r\n                    Found {props.view.length} bookmarks matching the search\r\n                    criteria\r\n                  </div>\r\n                )}\r\n                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                  <div>\r\n                    <OakButton action={props.clearSearch} theme=\"default\">\r\n                      Clear\r\n                    </OakButton>\r\n                  </div>\r\n                  <div>\r\n                    <OakButton\r\n                      action={props.search}\r\n                      theme=\"primary\"\r\n                      variant=\"animate in\"\r\n                    >\r\n                      Search\r\n                    </OakButton>\r\n                  </div>\r\n                </div>\r\n              </Sidebar>\r\n            </div>\r\n          </div>\r\n        </View>\r\n      </ViewResolver>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookmarkView;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\nimport { isEmptyOrSpaces, match } from '../Utils';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport {\r\n  fetchBookmark,\r\n  saveBookmark,\r\n  deleteBookmark,\r\n} from '../../actions/BookmarkActions';\r\nimport BookmarkView from './BookmarkView';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  location: any;\r\n  logout: Function;\r\n\r\n  fetchBookmark: Function;\r\n  saveBookmark: Function;\r\n  deleteBookmark: Function;\r\n  bookmark: any;\r\n}\r\n\r\nconst BookmarkController = (props: Props) => {\r\n  const [bookmark, setBookmark] = useState({\r\n    id: undefined,\r\n    title: '',\r\n    href: '',\r\n    tags: '',\r\n  });\r\n\r\n  const [searchPref, setSearchPref] = useState({\r\n    title: true,\r\n    tags: true,\r\n    href: true,\r\n    content: true,\r\n    searchText: '',\r\n    filtered: false,\r\n    filterActivator: false,\r\n  });\r\n\r\n  const [firstLoad, setFirstLoad] = useState(true);\r\n  const [view, setView] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.q) {\r\n        if (query.q.startsWith('tags')) {\r\n          setSearchPref({\r\n            ...searchPref,\r\n            title: false,\r\n            tags: true,\r\n            href: true,\r\n            content: false,\r\n          });\r\n        }\r\n        setSearchPref({\r\n          ...searchPref,\r\n          searchText: query.q,\r\n          filterActivator: !searchPref.filterActivator,\r\n        });\r\n      }\r\n    }\r\n  }, [props.location.search]);\r\n\r\n  useEffect(() => {\r\n    if (firstLoad && props.authorization?.isAuth) {\r\n      props.fetchBookmark(props.authorization);\r\n      setFirstLoad(false);\r\n    }\r\n  }, [props.authorization]);\r\n\r\n  useEffect(() => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n  }, [props.bookmark]);\r\n\r\n  useEffect(() => {\r\n    search();\r\n  }, [searchPref.filterActivator]);\r\n\r\n  const selectBookmark = bookmark => {\r\n    setBookmark({\r\n      id: bookmark ? bookmark._id : '',\r\n      title: bookmark ? bookmark.title : '',\r\n      href: bookmark ? bookmark.href : '',\r\n      tags: bookmark ? bookmark.tags : '',\r\n    });\r\n  };\r\n\r\n  const deleteBookmark = bookmarkId => {\r\n    props.deleteBookmark(props.authorization, bookmarkId);\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setView(props.bookmark?.items);\r\n    setFirstLoad(false);\r\n    setSearchPref({\r\n      ...searchPref,\r\n      searchText: '',\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const searchByTag = tagName => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      title: false,\r\n      tags: true,\r\n      href: false,\r\n      searchText: tagName,\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n  };\r\n\r\n  const search = (event?: any) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n    if (isEmptyOrSpaces(searchPref.searchText)) {\r\n      setView(props.bookmark?.items);\r\n      setSearchPref({ ...searchPref, filtered: false });\r\n      return;\r\n    }\r\n\r\n    setView(\r\n      props.bookmark?.items?.filter(item => {\r\n        if (searchPref.title && match(item.title, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n        if (searchPref.tags && match(item.tags, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n        if (searchPref.href && match(item.href, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n      })\r\n    );\r\n    setSearchPref({ ...searchPref, filtered: true });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const toggleSearchPref = pref => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [pref]: !searchPref[pref],\r\n    });\r\n  };\r\n\r\n  const update = () => {\r\n    if (isEmptyOrSpaces(bookmark.title)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Title / description missing',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(bookmark.href)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Website URL / Link is missing',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(bookmark.tags)) {\r\n      setBookmark({ ...bookmark, tags: 'unsorted' });\r\n    }\r\n\r\n    props.saveBookmark(props.authorization, bookmark);\r\n  };\r\n\r\n  const handleBookmarkDataChange = event => {\r\n    setBookmark({\r\n      ...bookmark,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleSearchPrefDataChange = event => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <BookmarkView\r\n      view={view}\r\n      bookmark={bookmark}\r\n      handleBookmarkDataChange={handleBookmarkDataChange}\r\n      selectBookmark={selectBookmark}\r\n      update={update}\r\n      deleteBookmark={deleteBookmark}\r\n      searchPref={searchPref}\r\n      handleSearchPrefDataChange={handleSearchPrefDataChange}\r\n      toggleSearchPref={toggleSearchPref}\r\n      clearSearch={clearSearch}\r\n      search={search}\r\n      searchByTag={searchByTag}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  bookmark: state.bookmark,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchBookmark,\r\n  saveBookmark,\r\n  deleteBookmark,\r\n})(BookmarkController);\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { FETCH_NOTE } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\nconst domain = 'note';\r\n\r\nexport const fetchNote = authorization => dispatch => {\r\n  httpGet(constants.API_URL_NOTE, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  }).then(response => {\r\n    dispatch({\r\n      type: FETCH_NOTE,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const saveNote = (authorization, payload) => dispatch => {\r\n  if (payload._id) {\r\n    payload.id = payload._id;\r\n    payload._id = undefined;\r\n  }\r\n  httpPut(constants.API_URL_NOTE, payload, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  })\r\n    .then(() => {\r\n      sendMessage(domain, true, { action: payload.id ? 'updated' : 'created' });\r\n      dispatch(fetchNote(authorization));\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteNote = (authorization, id) => dispatch => {\r\n  httpDelete(`${constants.API_URL_NOTE}/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  })\r\n    .then(function(response) {\r\n      if (response.status === 201) {\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchNote(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import React from 'react';\r\nimport showdown from 'showdown';\r\nimport './Showdown.scss';\r\n\r\ninterface Props {\r\n  source: string;\r\n}\r\nconst Showdown = (props: Props) => {\r\n  const converter = new showdown.Converter({ tables: true });\r\n  const html = converter.makeHtml(props.source);\r\n  return (\r\n    <div className=\"markdown-body\">\r\n      <div dangerouslySetInnerHTML={{ __html: html }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Showdown;\r\n","import React, { useState } from 'react';\r\nimport Showdown from '../../oakui/Showdown';\r\nimport OakSelect from '../../oakui/OakSelect';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\n\r\ninterface Props {\r\n  note: any;\r\n  deleteNote: Function;\r\n  saveNote: Function;\r\n  handleChange: Function;\r\n  notebooks: any;\r\n  editNote: boolean;\r\n  setEditNote: Function;\r\n}\r\n\r\nconst NoteItem = (props: Props) => {\r\n  const flags = [\r\n    {\r\n      key: 'one',\r\n      value: <div className=\"select-palette one\" />,\r\n    },\r\n    {\r\n      key: 'two',\r\n      value: <div className=\"select-palette two\" />,\r\n    },\r\n    {\r\n      key: 'three',\r\n      value: <div className=\"select-palette three\" />,\r\n    },\r\n    {\r\n      key: 'four',\r\n      value: <div className=\"select-palette four\" />,\r\n    },\r\n    {\r\n      key: 'five',\r\n      value: <div className=\"select-palette five\" />,\r\n    },\r\n    {\r\n      key: 'six',\r\n      value: <div className=\"select-palette six\" />,\r\n    },\r\n  ];\r\n\r\n  const [showDeletePrompt, setShowDeletePrompt] = useState(false);\r\n  const [preview, setPreview] = useState(true);\r\n  const [newNotebook, setNewNotebook] = useState('');\r\n\r\n  const deleteNote = () => {\r\n    props.deleteNote(props.note._id || props.note.id);\r\n  };\r\n\r\n  const saveNote = () => {\r\n    let { notebook } = props.note;\r\n\r\n    if (notebook === '<create new>') {\r\n      notebook = props.note.newNotebook;\r\n    }\r\n\r\n    props.saveNote(props.note, true);\r\n  };\r\n  const tags: any = [];\r\n  if (props.note.tags) {\r\n    props.note.tags.split(' ').map(item => {\r\n      tags.push(\r\n        <div key={item} className=\"tag\">\r\n          {item}\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <OakPrompt\r\n        visible={showDeletePrompt}\r\n        toggleVisibility={() => setShowDeletePrompt(!showDeletePrompt)}\r\n        action={deleteNote}\r\n        text=\"Are you sure, you want to delete the bookmark?\"\r\n      />\r\n      {!props.editNote && (\r\n        <div className=\"noteitem\">\r\n          <div className=\"notebook\">\r\n            <i className=\"material-icons\">insert_drive_file</i>\r\n            {props.note.notebook}\r\n          </div>\r\n          {/* <div className=\"space-bottom-2\" /> */}\r\n          <div className=\"typography-3 space-bottom-1\">{props.note.title}</div>\r\n          {tags}\r\n          <div className=\"space-bottom-2\" />\r\n          <OakButton\r\n            action={() => props.setEditNote(true)}\r\n            theme=\"secondary\"\r\n            variant=\"animate in\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">edit</i>Edit\r\n          </OakButton>\r\n          <OakButton\r\n            action={() => setShowDeletePrompt(!showDeletePrompt)}\r\n            theme=\"secondary\"\r\n            variant=\"animate in\"\r\n            align=\"right\"\r\n          >\r\n            <i className=\"material-icons\">delete</i>Delete\r\n          </OakButton>\r\n\r\n          <Showdown source={props.note.content} />\r\n        </div>\r\n      )}\r\n\r\n      {props.editNote && (\r\n        <div className=\"noteitem\">\r\n          <div className=\"typography-3 space-bottom-1\">{props.note.title}</div>\r\n\r\n          <OakButton\r\n            action={saveNote}\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">double_arrow</i>Save\r\n          </OakButton>\r\n          <OakButton\r\n            action={() => props.setEditNote(true)}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"center\"\r\n          >\r\n            <i className=\"material-icons\">refresh</i>Undo All\r\n          </OakButton>\r\n          <OakButton\r\n            action={() => props.setEditNote(false)}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"center\"\r\n          >\r\n            <i className=\"material-icons\">close</i>Cancel\r\n          </OakButton>\r\n          {!preview && (\r\n            <OakButton\r\n              action={() => setPreview(!preview)}\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              align=\"right\"\r\n            >\r\n              <i className=\"material-icons\">visibility</i>Show Preview\r\n            </OakButton>\r\n          )}\r\n          {preview && (\r\n            <OakButton\r\n              action={setPreview(!preview)}\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              align=\"right\"\r\n            >\r\n              <i className=\"material-icons\">visibility_off</i>Hide Preview\r\n            </OakButton>\r\n          )}\r\n\r\n          <div>\r\n            <OakSelect\r\n              width=\"width-25\"\r\n              label=\"Flag\"\r\n              data={props.note}\r\n              id=\"flag\"\r\n              handleChange={e => props.handleChange(e)}\r\n              objects={flags}\r\n            />\r\n          </div>\r\n          <div>\r\n            <OakSelect\r\n              label=\"Notebook\"\r\n              data={props.note}\r\n              id=\"notebook\"\r\n              handleChange={e => props.handleChange(e)}\r\n              elements={props.notebooks}\r\n              firstAction=\"<create new>\"\r\n            />\r\n          </div>\r\n          <div>\r\n            {props.note.notebook === '<create new>' && (\r\n              <OakText\r\n                label=\"Notebook name\"\r\n                data={props.note}\r\n                id=\"newNotebook\"\r\n                handleChange={e => props.handleChange(e)}\r\n              />\r\n            )}\r\n          </div>\r\n          <OakText\r\n            label=\"Title\"\r\n            data={props.note}\r\n            id=\"title\"\r\n            handleChange={e => props.handleChange(e)}\r\n          />\r\n          <OakText\r\n            label=\"Tags (separated by blank spaces)\"\r\n            data={props.note}\r\n            id=\"tags\"\r\n            handleChange={e => props.handleChange(e)}\r\n          />\r\n\r\n          {preview && (\r\n            <div className=\"edit-note-view\">\r\n              <div>\r\n                <OakText\r\n                  label=\"Content (Markdown / HTML / Plaintext)\"\r\n                  data={props.note}\r\n                  id=\"content\"\r\n                  multiline\r\n                  handleChange={e => props.handleChange(e)}\r\n                />\r\n              </div>\r\n              <div>\r\n                <div className=\"typography-5 space-bottom-1\">Preview</div>\r\n                <Showdown source={props.note.content} />\r\n              </div>\r\n            </div>\r\n          )}\r\n          {!preview && (\r\n            <OakText\r\n              label=\"Content (Markdown / HTML / Plaintext)\"\r\n              data={props.note}\r\n              id=\"content\"\r\n              multiline\r\n              handleChange={e => props.handleChange(e)}\r\n            />\r\n          )}\r\n          <div className=\"space-top-2\" />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NoteItem;\r\n","import React from 'react';\r\nimport './ActionButton.scss';\r\n\r\ninterface Props {\r\n  icon?: string;\r\n  leftLabel?: string;\r\n  leftAction?: any;\r\n  rightLabel?: string;\r\n  rightAction?: any;\r\n  type?: string;\r\n}\r\nconst ActionButton = (props: Props) => {\r\n  const icon = <i className=\"material-icons\">{props.icon}</i>;\r\n  return (\r\n    <div className=\"action-button\">\r\n      {props.leftLabel && props.rightLabel && (\r\n        <button\r\n          type=\"button\"\r\n          className={`left ${props.type}`}\r\n          onClick={props.leftAction}\r\n        >\r\n          {props.icon && icon}\r\n          {props.leftLabel}\r\n        </button>\r\n      )}\r\n      {props.leftLabel && props.rightLabel && (\r\n        <button\r\n          type=\"button\"\r\n          className={`right ${props.type}`}\r\n          onClick={props.rightAction}\r\n        >\r\n          {props.icon && icon}\r\n          {props.rightLabel}\r\n        </button>\r\n      )}\r\n      {props.leftLabel && !props.rightLabel && (\r\n        <button\r\n          type=\"button\"\r\n          className={`center ${props.type}`}\r\n          onClick={props.leftAction}\r\n        >\r\n          {props.icon && icon}\r\n          {props.leftLabel}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActionButton;\r\n","import React from 'react';\r\nimport ActionButton from '../../oakui/ActionButton';\r\nimport './style.scss';\r\n\r\nconst removeMd = require('remove-markdown');\r\n\r\ninterface Props {\r\n  selectNote: Function;\r\n  note: any;\r\n  id: string;\r\n  selected: boolean;\r\n  showTag: boolean;\r\n}\r\n\r\nconst NoteLink = (props: Props) => {\r\n  const selectNote = () => {\r\n    props.selectNote(props.id);\r\n  };\r\n\r\n  const tags: any = [];\r\n  if (props.note.tags) {\r\n    props.note.tags.split(' ').map(item => {\r\n      tags.push(<ActionButton leftLabel={item} />);\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      <div\r\n        className={props.selected ? 'notelink selected' : 'notelink'}\r\n        onClick={selectNote}\r\n      >\r\n        <div className=\"content\">\r\n          {props.note.flag && (\r\n            <div className={`flag-palette ${props.note.flag}`} />\r\n          )}\r\n          {props.showTag && (\r\n            <div className=\"notebook\">\r\n              {/* <i className=\"material-icons\">insert_drive_file</i> */}\r\n              {props.note.notebook}\r\n            </div>\r\n          )}\r\n          <div className=\"title\">{props.note.title}</div>\r\n          <div className=\"space-bottom-0\" />\r\n          {props.note.type !== 'Artboard' && (\r\n            <div className=\"detail\">\r\n              {removeMd(props.note.content.substring(0, 100))}\r\n            </div>\r\n          )}\r\n          {props.note.type === 'Artboard' && (\r\n            <div className=\"detail-artboard\">\r\n              <i className=\"material-icons\">tv</i>\r\n            </div>\r\n          )}\r\n          {/* <div className=\"detail typography-5\"><Showdown source={props.note.content.substring(0, 150)} /></div> */}\r\n        </div>\r\n      </div>\r\n      <div className=\"separator\" />\r\n      {/* <hr /> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NoteLink;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Switch } from '@material-ui/core';\r\nimport NoteItem from './NoteItem';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport View from '../../oakui/View';\r\nimport './style.scss';\r\nimport Sidebar from '../../oakui/Sidebar';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakSelect from '../../oakui/OakSelect';\r\nimport NoteLink from './NoteLink';\r\n\r\nconst sortTypes = [\r\n  { key: 'createdAt', value: 'created' },\r\n  { key: 'lastModifiedAt', value: 'last modified' },\r\n  { key: 'notebook', value: 'notebook' },\r\n  { key: 'title', value: 'note name' },\r\n];\r\n\r\nconst sortOrders = ['ascending', 'descending'];\r\n\r\ninterface Props {\r\n  selectNote: Function;\r\n  saveNote: Function;\r\n  deleteNote: Function;\r\n  search: any;\r\n\r\n  note: any;\r\n  searchPref: any;\r\n  filterPref: any;\r\n  view: any[];\r\n  searchResults: any[];\r\n\r\n  notebooks: any;\r\n\r\n  handleNoteDataChange: Function;\r\n  handleSearchPrefDataChange: Function;\r\n  handleFilterPrefDataChange: Function;\r\n  toggleSearchPref: Function;\r\n  clearSearch: Function;\r\n}\r\nconst emptyNote = {\r\n  id: undefined,\r\n  type: 'Notebook',\r\n  title: '',\r\n  content: '',\r\n  tags: '',\r\n  notebook: '',\r\n  newNotebook: '',\r\n};\r\n\r\nconst NoteView = (props: Props) => {\r\n  const [editDialog, setEditDialog] = useState(false);\r\n  const [editNote, setEditNote] = useState(false);\r\n\r\n  const domain = 'note';\r\n  const sidebarElements = {\r\n    addNew: [\r\n      {\r\n        label: 'New Note',\r\n        action: () => newNote(),\r\n        icon: 'note_add',\r\n      },\r\n      {\r\n        label: 'New Whiteboard',\r\n        action: () => newNote(),\r\n        icon: 'tv',\r\n      },\r\n    ],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === domain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${domain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'created') {\r\n          toggleEditDialog();\r\n        } else if (message.data.action === 'updated') {\r\n          setEditNote(false);\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //     if (!editNote) {\r\n  //         selectNote(emptyNote);\r\n  //     }\r\n  // }, [editNote])\r\n\r\n  function newNote() {\r\n    props.selectNote(emptyNote);\r\n    setEditDialog(true);\r\n  }\r\n\r\n  function selectNote(item) {\r\n    props.selectNote(item);\r\n    sendMessage('sidebar', false);\r\n  }\r\n\r\n  function toggleEditDialog() {\r\n    setEditDialog(!editDialog);\r\n  }\r\n\r\n  return (\r\n    <div className=\"notes\">\r\n      <OakDialog visible={editDialog} toggleVisibility={toggleEditDialog}>\r\n        <div className=\"dialog-body\">\r\n          <div>\r\n            <OakSelect\r\n              label=\"Notebook\"\r\n              theme=\"default\"\r\n              data={props.note}\r\n              id=\"notebook\"\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n              elements={props.notebooks}\r\n              firstAction=\"<create new>\"\r\n            />\r\n          </div>\r\n          <div>\r\n            {props.note.notebook === '<create new>' && (\r\n              <OakText\r\n                label=\"Notebook name\"\r\n                data={props.note}\r\n                id=\"newNotebook\"\r\n                handleChange={e => props.handleNoteDataChange(e)}\r\n              />\r\n            )}\r\n          </div>\r\n          <div>\r\n            <OakText\r\n              label=\"Title\"\r\n              data={props.note}\r\n              id=\"title\"\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <OakText\r\n              label=\"Tags (separated by blank spaces)\"\r\n              data={props.note}\r\n              id=\"tags\"\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <OakText\r\n              label=\"Content (Markdown / HTML / Plaintext)\"\r\n              data={props.note}\r\n              id=\"content\"\r\n              multiline\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"dialog-footer\">\r\n          <OakButton\r\n            action={toggleEditDialog}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">close</i>Cancel\r\n          </OakButton>\r\n          <OakButton\r\n            action={props.saveNote}\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            align=\"right\"\r\n          >\r\n            <i className=\"material-icons\">double_arrow</i>Save\r\n          </OakButton>\r\n        </div>\r\n      </OakDialog>\r\n\r\n      <ViewResolver>\r\n        <View main>\r\n          {(props.note?._id || props.note?.id) && (\r\n            <NoteItem\r\n              note={props.note}\r\n              saveNote={props.saveNote}\r\n              editNote={editNote}\r\n              setEditNote={setEditNote}\r\n              deleteNote={props.deleteNote}\r\n              notebooks={props.notebooks}\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          )}\r\n        </View>\r\n        <View side>\r\n          <div className=\"filter-container\">\r\n            <div className=\"section-main\">\r\n              <Sidebar\r\n                label=\"Add New\"\r\n                elements={sidebarElements.addNew}\r\n                icon=\"add\"\r\n                animate\r\n              />\r\n              <Sidebar\r\n                label=\"Search\"\r\n                icon=\"search\"\r\n                animate\r\n                number={\r\n                  props.searchPref.filtered\r\n                    ? props.searchResults.length\r\n                    : undefined\r\n                }\r\n              >\r\n                <div className=\"space-top-1\" />\r\n                <form method=\"GET\" onSubmit={props.search} noValidate>\r\n                  <div className=\"space-left-4 space-right-4\">\r\n                    <OakText\r\n                      label=\"Keywords\"\r\n                      id=\"searchText\"\r\n                      data={props.searchPref}\r\n                      handleChange={e => props.handleSearchPrefDataChange(e)}\r\n                    />\r\n                  </div>\r\n                </form>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.title}\r\n                    onChange={() => props.toggleSearchPref('title')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include title\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.tags}\r\n                    onChange={() => props.toggleSearchPref('tags')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include tags\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.content}\r\n                    onChange={() => props.toggleSearchPref('content')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include Content\r\n                </div>\r\n                {props.searchPref.filtered && (\r\n                  <div className=\"typography-4 space-top-2\">\r\n                    Found {props.searchResults.length} notes matching the search\r\n                    criteria\r\n                  </div>\r\n                )}\r\n                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                  <div>\r\n                    <OakButton\r\n                      action={props.clearSearch}\r\n                      theme=\"default\"\r\n                      variant=\"animate none\"\r\n                    >\r\n                      Clear\r\n                    </OakButton>\r\n                  </div>\r\n                  <div>\r\n                    <OakButton\r\n                      action={props.search}\r\n                      theme=\"default\"\r\n                      variant=\"animate in\"\r\n                    >\r\n                      Search\r\n                    </OakButton>\r\n                  </div>\r\n                </div>\r\n              </Sidebar>\r\n\r\n              <Sidebar\r\n                label={\r\n                  props.searchPref.filtered ? 'Search results' : 'All Notes'\r\n                }\r\n                icon=\"notes\"\r\n                number={props.view.length}\r\n              >\r\n                <div className=\"filter-bar\">\r\n                  {props.searchResults.length > 1 && (\r\n                    <div>\r\n                      <OakSelect\r\n                        label=\"Notebook\"\r\n                        data={props.filterPref}\r\n                        id=\"notebookFilter\"\r\n                        handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                        elements={props.filterPref.notebookList}\r\n                        first=\"all notebooks\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {props.searchResults.length === 1 && (\r\n                    <div>\r\n                      <OakSelect\r\n                        label=\"Notebook\"\r\n                        data={props.filterPref}\r\n                        id=\"notebookFilter\"\r\n                        handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                        elements={props.filterPref.notebookList}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  <div />\r\n                  <div>\r\n                    <OakSelect\r\n                      label=\"Sort by\"\r\n                      data={props.filterPref}\r\n                      id=\"sortBy\"\r\n                      handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                      objects={sortTypes}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <OakSelect\r\n                      label=\"Sort Order\"\r\n                      data={props.filterPref}\r\n                      id=\"sortOrder\"\r\n                      handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                      elements={sortOrders}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                {props.view?.map((item: any) => (\r\n                  <div key={item._id ? item._id : item.id}>\r\n                    {/* <NoteLink selected={props.note?.id === item._id ? true : false} id={item._id} note={item} selectNote={() => selectNote(item)} showTag={notebookFilter === 'all notebooks'}/> */}\r\n                    <NoteLink\r\n                      selected={\r\n                        !!(\r\n                          props.note?._id === item._id ||\r\n                          props.note?.id === item._id\r\n                        )\r\n                      }\r\n                      id={item._id}\r\n                      note={item}\r\n                      selectNote={() => selectNote(item)}\r\n                      showTag\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </Sidebar>\r\n            </div>\r\n          </div>\r\n        </View>\r\n      </ViewResolver>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteView;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { fetchNote, saveNote, deleteNote } from '../../actions/NoteActions';\r\nimport NoteView from './NoteView';\r\nimport { isEmptyOrSpaces, match, sort } from '../Utils';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  location: any;\r\n  logout: Function;\r\n\r\n  fetchNote: Function;\r\n  saveNote: Function;\r\n  deleteNote: Function;\r\n  note: any;\r\n}\r\n\r\nconst NoteController = (props: Props) => {\r\n  const emptyNote = {\r\n    _id: undefined,\r\n    id: undefined,\r\n    type: 'Notebook',\r\n    title: '',\r\n    content: '',\r\n    tags: '',\r\n    notebook: '',\r\n    newNotebook: '',\r\n  };\r\n  const [note, setNote] = useState(emptyNote);\r\n\r\n  const [searchPref, setSearchPref] = useState({\r\n    title: true,\r\n    tags: true,\r\n    content: true,\r\n    searchText: '',\r\n    filtered: false,\r\n    filterActivator: false,\r\n  });\r\n\r\n  const [filterPref, setFilterPref] = useState({\r\n    notebookFilter: 'all notebooks',\r\n    notebookList: [...new Set()],\r\n    sortBy: 'lastModifiedAt',\r\n    sortOrder: 'descending',\r\n    filtered: false,\r\n    filterActivator: false,\r\n  });\r\n\r\n  const [firstLoad, setFirstLoad] = useState(true);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [view, setView] = useState([]);\r\n  const [existingNotebookList, setExistingNotebookList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.q) {\r\n        if (query.q.startsWith('tags')) {\r\n          setSearchPref({\r\n            ...searchPref,\r\n            title: false,\r\n            tags: true,\r\n            content: false,\r\n          });\r\n        }\r\n        setSearchPref({\r\n          ...searchPref,\r\n          searchText: query.q,\r\n          filterActivator: !searchPref.filterActivator,\r\n        });\r\n      }\r\n    }\r\n  }, [props.location.search]);\r\n\r\n  useEffect(() => {\r\n    if (firstLoad && props.authorization?.isAuth) {\r\n      props.fetchNote(props.authorization);\r\n      setFirstLoad(false);\r\n    }\r\n  }, [props.authorization]);\r\n\r\n  useEffect(() => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n\r\n    const existingNotebookListTemp: any = [];\r\n    props.note?.items?.map(item =>\r\n      existingNotebookListTemp.push(item.notebook)\r\n    );\r\n    setExistingNotebookList(Array.from(new Set(existingNotebookListTemp)));\r\n  }, [props.note]);\r\n\r\n  useEffect(() => {\r\n    search();\r\n  }, [searchPref.filterActivator]);\r\n\r\n  useEffect(() => {\r\n    filter();\r\n  }, [filterPref.filterActivator]);\r\n\r\n  const selectNote = (selectedNote: any) => {\r\n    setNote(selectedNote);\r\n  };\r\n\r\n  const deleteNote = (bookmarkId: string) => {\r\n    props.deleteNote(props.authorization, bookmarkId);\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setView(props.note?.items);\r\n    setFirstLoad(false);\r\n    setSearchPref({\r\n      ...searchPref,\r\n      searchText: '',\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const search = (event?: any) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n    if (isEmptyOrSpaces(searchPref.searchText)) {\r\n      setSearchResults(props.note?.items);\r\n      setSearchPref({ ...searchPref, filtered: false });\r\n      setFilterPref({\r\n        ...filterPref,\r\n        filterActivator: !filterPref.filterActivator,\r\n      });\r\n      return;\r\n    }\r\n\r\n    setSearchResults(\r\n      props.note?.items?.filter(item => {\r\n        if (searchPref.title && match(item.title, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n        if (searchPref.tags && match(item.tags, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n      })\r\n    );\r\n    setSearchPref({ ...searchPref, filtered: true });\r\n    setFilterPref({\r\n      ...filterPref,\r\n      filterActivator: !filterPref.filterActivator,\r\n    });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const filter = () => {\r\n    const notebookList: any = [];\r\n    let noteList: any = [];\r\n    searchResults.map((item: any) => {\r\n      if (\r\n        isEmptyOrSpaces(filterPref.notebookFilter) ||\r\n        filterPref.notebookFilter === 'all notebooks' ||\r\n        item.notebook === filterPref.notebookFilter\r\n      ) {\r\n        noteList.push(item);\r\n      }\r\n      notebookList.push(item.notebook);\r\n    });\r\n\r\n    noteList = sort(\r\n      noteList,\r\n      filterPref.sortBy,\r\n      filterPref.sortOrder === 'descending'\r\n    );\r\n\r\n    if (noteList.length > 0) {\r\n      let activeSelection = false;\r\n      noteList.map((item: any) => {\r\n        if (item._id === note.id || item._id === note._id) {\r\n          activeSelection = true;\r\n        }\r\n      });\r\n\r\n      if (!activeSelection) {\r\n        setNote(searchResults[0]);\r\n      }\r\n    }\r\n\r\n    // if (!notebookList.find(item => item === filterPref.notebookFilter)) {\r\n    //     setFilterPref({\r\n    //         ...filterPref, notebookFilter: (notebookList.length === 1 ? notebookList[0] : \"all notebooks\"), notebookList: Array.from(new Set(notebookList)), filtered: true\r\n    //     });\r\n    // } else {\r\n    setFilterPref({\r\n      ...filterPref,\r\n      notebookList: Array.from(new Set(notebookList)),\r\n      filtered: true,\r\n    });\r\n    // }\r\n\r\n    setView(noteList);\r\n  };\r\n\r\n  const toggleSearchPref = pref => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [pref]: !searchPref[pref],\r\n    });\r\n  };\r\n\r\n  const saveNote = () => {\r\n    if (!note) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Unknown error',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isEmptyOrSpaces(note.notebook) ||\r\n      (note.notebook === '<create new>' && isEmptyOrSpaces(note.newNotebook))\r\n    ) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Notebook not chosen',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(note.title)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Note name / title missing',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(note.tags)) {\r\n      note.tags = 'unsorted';\r\n    }\r\n\r\n    if (note.notebook === '<create new>') {\r\n      note.notebook = note.newNotebook;\r\n    }\r\n\r\n    props.saveNote(props.authorization, note);\r\n  };\r\n\r\n  const handleNoteDataChange = event => {\r\n    setNote({ ...note, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const handleSearchPrefDataChange = event => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleFilterPrefDataChange = event => {\r\n    setFilterPref({\r\n      ...filterPref,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n      filterActivator: !filterPref.filterActivator,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <NoteView\r\n      view={view}\r\n      notebooks={existingNotebookList}\r\n      searchResults={searchResults}\r\n      note={note}\r\n      handleNoteDataChange={handleNoteDataChange}\r\n      selectNote={selectNote}\r\n      deleteNote={deleteNote}\r\n      saveNote={saveNote}\r\n      searchPref={searchPref}\r\n      handleSearchPrefDataChange={handleSearchPrefDataChange}\r\n      toggleSearchPref={toggleSearchPref}\r\n      clearSearch={clearSearch}\r\n      filterPref={filterPref}\r\n      handleFilterPrefDataChange={handleFilterPrefDataChange}\r\n      search={search}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  note: state.note,\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchNote, saveNote, deleteNote })(\r\n  NoteController\r\n);\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from './types';\r\n\r\nexport const getAuth = () => dispatch => {\r\n  dispatch({\r\n    type: GET_AUTH,\r\n  });\r\n};\r\n\r\nexport const addAuth = data => dispatch => {\r\n  dispatch({\r\n    type: ADD_AUTH,\r\n    payload: data,\r\n  });\r\n};\r\n\r\nexport const removeAuth = () => dispatch => {\r\n  dispatch({\r\n    type: REMOVE_AUTH,\r\n  });\r\n};\r\n","import sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\nimport { httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\n\r\nexport function preSignup() {\r\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n\r\nexport function signup(data) {\r\n  return httpPost(\r\n    constants.API_URL_SIGNUP,\r\n    {\r\n      name: data.name,\r\n      email: data.email,\r\n      problem: encrypt(data.password, data.solution, data.salt),\r\n      solution: data.solution,\r\n    },\r\n    null\r\n  ).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n\r\nexport function preSignin(email) {\r\n  return httpGet(constants.API_URL_PRESIGNIN + email, null)\r\n    .then(response => Promise.resolve(response))\r\n    .catch(error => Promise.resolve(error.response));\r\n}\r\n\r\nexport function signin(data, problem) {\r\n  try {\r\n    const solution = decrypt(data.password, JSON.stringify(problem));\r\n    return httpPost(\r\n      constants.API_URL_SIGNIN,\r\n      {\r\n        email: data.email,\r\n        solution,\r\n      },\r\n      null\r\n    ).then(function(response) {\r\n      return Promise.resolve(response);\r\n    });\r\n  } catch (error) {\r\n    if (error.message === \"ccm: tag doesn't match\") {\r\n      return Promise.resolve({\r\n        status: 401,\r\n      });\r\n    }\r\n    return Promise.resolve(error);\r\n  }\r\n}\r\n\r\nexport function updateUserDetails(data, token, type) {\r\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\r\n    if (response.status === 200) {\r\n      let newData = {};\r\n      if (type && type === 'password') {\r\n        newData = {\r\n          problem: encrypt(\r\n            data.password,\r\n            response.data.solution,\r\n            response.data.salt\r\n          ),\r\n          solution: response.data.solution,\r\n        };\r\n      } else {\r\n        newData = {\r\n          name: data.name,\r\n          email: data.email,\r\n        };\r\n      }\r\n\r\n      return httpPut(constants.API_URL_USER_DETAILS, newData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }).then(function(response) {\r\n        return Promise.resolve(response);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nexport function sentPasswordChangeEmail(data, type) {\r\n  return httpPost(constants.API_URL_CODE, data, null).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n\r\nexport function resetPassword(data, type) {\r\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\r\n    if (response.status === 200) {\r\n      let newData = {};\r\n      if (type && type === 'password') {\r\n        newData = {\r\n          problem: encrypt(\r\n            data.password,\r\n            response.data.solution,\r\n            response.data.salt\r\n          ),\r\n          solution: response.data.solution,\r\n          resetCode: data.resetCode,\r\n        };\r\n      }\r\n\r\n      return httpPost(constants.API_URL_RESET, newData, null).then(function(\r\n        response\r\n      ) {\r\n        return Promise.resolve(response.status);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n  const config = {\r\n    cipher: 'aes',\r\n    iter: '12000',\r\n    ks: 256,\r\n    salt: CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(salt)),\r\n  };\r\n  return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n  return sjcl.decrypt(password, ciphertext);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport {\r\n  signup,\r\n  signin,\r\n  sentPasswordChangeEmail,\r\n  preSignup,\r\n  preSignin,\r\n} from './AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n  location: any;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst Login = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    newuser: false,\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    resetCode: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.type === 'signup') {\r\n        setData({ ...data, newuser: true });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const signinAction = event => {\r\n    event.preventDefault();\r\n\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (data.email && data.password) {\r\n      preSignin(data.email).then(response => {\r\n        if (response.status === 200) {\r\n          signin(\r\n            {\r\n              email: data.email,\r\n              password: data.password,\r\n            },\r\n            response.data\r\n          )\r\n            .then(response => {\r\n              if (response.status === 200) {\r\n                sendMessage('notification', true, {\r\n                  message: 'Signed In successfully',\r\n                  type: 'success',\r\n                  duration: 3000,\r\n                });\r\n                success(response.data);\r\n              } else if (response.status === 401) {\r\n                sendMessage('notification', true, {\r\n                  message: 'Incorrect passphrase',\r\n                  type: 'failure',\r\n                  duration: 3000,\r\n                });\r\n              } else {\r\n                sendMessage('notification', true, {\r\n                  message:\r\n                    'Unknown response from server. Please try again or at a later time',\r\n                  type: 'failure',\r\n                  duration: 3000,\r\n                });\r\n              }\r\n            })\r\n            .catch(error => {\r\n              sendMessage('notification', true, {\r\n                type: 'failure',\r\n                message: 'Unknown error. Please try again or at a later time',\r\n                duration: 3000,\r\n              });\r\n            });\r\n        } else if (response.status === 404) {\r\n          sendMessage('notification', true, {\r\n            message: 'User name does not exist',\r\n            type: 'failure',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Username/password cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const signupAction = event => {\r\n    event.preventDefault();\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (data.name && data.password && data.email) {\r\n      if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Email ID is invalid',\r\n          duration: 3000,\r\n        });\r\n        return;\r\n      }\r\n      preSignup().then(response => {\r\n        if (response.status === 200) {\r\n          signup({\r\n            name: data.name,\r\n            password: data.password,\r\n            email: data.email,\r\n            solution: response.data.solution,\r\n            salt: response.data.salt,\r\n          }).then(status => {\r\n            if (status === 200) {\r\n              sendMessage('notification', true, {\r\n                type: 'success',\r\n                message: 'Your account has been created. You can login now',\r\n                duration: 3000,\r\n              });\r\n              setData({ ...data, newuser: !data.newuser });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else if (!data.name) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Name cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    } else if (!data.email) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Email cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    } else if (!data.password) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Password cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const sentEmailWithCode = () => {\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Email cannot be empty',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    sentPasswordChangeEmailAction('password');\r\n  };\r\n\r\n  const sentPasswordChangeEmailAction = type => {\r\n    const min = 1;\r\n    const max = 100;\r\n    const rand = min + Math.random() * (max - min);\r\n    sentPasswordChangeEmail(\r\n      {\r\n        email: data.email,\r\n        resetCode: rand,\r\n      },\r\n      type\r\n    )\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          if (type === 'password') {\r\n            sendMessage('notification', true, {\r\n              message: 'Password sent successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Invalid Email error',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const toggle = () => {\r\n    setData({ ...data, newuser: !data.newuser });\r\n  };\r\n\r\n  const success = data => {\r\n    props.addAuth({\r\n      isAuth: true,\r\n      token: data.token,\r\n      secret: data.secret,\r\n      name: data.name,\r\n    });\r\n    sendMessage('loggedin', true);\r\n    props.cookies.set('isAuth', true);\r\n    props.cookies.set('token', data.token);\r\n    props.cookies.set('secret', data.secret);\r\n    props.cookies.set('name', data.name);\r\n    props.cookies.set('email', data.email);\r\n    props.history.push('/bookmarks');\r\n    // this.props.history.push(\"/notes\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      {!data.newuser && (\r\n        <div className=\"container\">\r\n          <form method=\"GET\" onSubmit={signinAction} noValidate>\r\n            <h1>Log In</h1>\r\n            <div className=\"form\">\r\n              <OakText\r\n                label=\"Username/e-mail\"\r\n                id=\"email\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n              <OakText\r\n                label=\"Password\"\r\n                id=\"password\"\r\n                type=\"password\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n            </div>\r\n            <br />\r\n            <OakButton\r\n              theme=\"primary\"\r\n              variant=\"animate in\"\r\n              action={signinAction}\r\n            >\r\n              Sign In\r\n            </OakButton>\r\n            <br />\r\n            <br />\r\n            Don&apos;t have an account? &nbsp;{' '}\r\n            <OakButton theme=\"secondary\" variant=\"outline\" action={toggle}>\r\n              Sign Up\r\n            </OakButton>\r\n            <br />\r\n            <br />\r\n          </form>\r\n\r\n          <OakButton action={sentEmailWithCode}>Forgot password ?</OakButton>\r\n        </div>\r\n      )}\r\n\r\n      {data.newuser && (\r\n        <div className=\"container\">\r\n          <form method=\"GET\" onSubmit={signupAction} noValidate>\r\n            <h1>Sign Up</h1>\r\n            <div className=\"form\">\r\n              <OakText\r\n                label=\"Name\"\r\n                id=\"name\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n              <OakText\r\n                label=\"Email / User Name\"\r\n                id=\"email\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n              <OakText\r\n                label=\"Password\"\r\n                id=\"password\"\r\n                type=\"password\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n            </div>\r\n            <br />\r\n            <OakButton\r\n              theme=\"primary\"\r\n              variant=\"animate in\"\r\n              action={signupAction}\r\n            >\r\n              Create account\r\n            </OakButton>\r\n            <br />\r\n            <br />\r\n            Already have a account? &nbsp;{' '}\r\n            <OakButton theme=\"secondary\" variant=\"outline\" action={toggle}>\r\n              Sign In\r\n            </OakButton>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  withCookies(Login)\r\n);\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  getAuth: Function;\r\n  path: string;\r\n  render: any;\r\n}\r\n\r\nconst PrivateRoute = (props: Props) => {\r\n  useEffect(() => {\r\n    props.getAuth();\r\n  }, [props.authorization.isAuth]);\r\n\r\n  return (\r\n    <>\r\n      {props.authorization.isAuth && (\r\n        <Route path={props.path} render={props.render} />\r\n      )}\r\n      {/* {!this.props.authorization.isAuth && <Redirect to={{pathname: \"/login\"}} />} */}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth })(PrivateRoute);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies, ReactCookieProps } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props extends ReactCookieProps {\r\n  authorization: Authorization;\r\n  addAuth: Function;\r\n  getAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n}\r\n\r\nconst AuthInit = (props: Props) => {\r\n  useEffect(() => {\r\n    if (!props.authorization.isAuth && props.cookies.get('isAuth')) {\r\n      props.addAuth({\r\n        isAuth: true,\r\n        token: props.cookies.get('token'),\r\n        secret: props.cookies.get('secret'),\r\n        name: props.cookies.get('name'),\r\n      });\r\n    }\r\n    props.getAuth();\r\n  }, [props.authorization.isAuth]);\r\n\r\n  return <></>;\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  withCookies(AuthInit)\r\n);\r\n","import { httpGet, httpPut } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nexport const getProfile = () => dispatch => {\r\n  dispatch({\r\n    type: GET_PROFILE,\r\n  });\r\n};\r\n\r\nexport const reloadProfile = authorization => dispatch => {\r\n  httpGet(constants.API_URL_PREFERENCES, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  }).then(function(response) {\r\n    dispatch({\r\n      type: SET_PROFILE,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const persistProfile = (authorization, payload) => dispatch => {\r\n  httpPut(constants.API_URL_PREFERENCES, payload, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  }).then(function(response) {\r\n    dispatch({\r\n      type: SET_PROFILE,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const setProfile = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_PROFILE,\r\n    payload,\r\n  });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\nconst Backdrop = () => {\r\n  const [backdrop, setBackdrop] = useState('');\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'dialog') {\r\n        if (message.signal) {\r\n          setBackdrop('backdrop-fade');\r\n        } else {\r\n          setBackdrop('');\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  return <div className={backdrop} />;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\n\r\nconst Notification = () => {\r\n  const [spinner, setSpinner] = useState(false);\r\n  const [notification, setNotification] = useState({\r\n    type: undefined,\r\n    message: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'notification') {\r\n        if (!message.signal) {\r\n          setNotification({ type: undefined, message: undefined });\r\n        } else {\r\n          setNotification(message.data);\r\n          setSpinner(false);\r\n\r\n          if (message.data && message.data.duration) {\r\n            setTimeout(() => {\r\n              sendMessage('notification', false);\r\n            }, message.data.duration);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (message.name === 'spinner') {\r\n        setSpinner(message.signal);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {notification && (\r\n        <div className={`notification ${notification?.type}`}>\r\n          <div className=\"message\">{notification?.message}</div>\r\n        </div>\r\n      )}\r\n      {spinner && (\r\n        <div className=\"lds-roller\">\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n        </div>\r\n      )}\r\n      {/* {this.props.spinner && <div className=\"lds-facebook\"><div></div><div></div><div></div></div>} */}\r\n      {/* {this.props.spinner && <div className=\"lds-dual-ring\"></div>} */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  profile: Profile;\r\n}\r\n\r\nconst Links = (props: Props) => {\r\n  return (\r\n    <div className=\"links\">\r\n      {props.authorization.isAuth && (\r\n        <>\r\n          <NavLink to=\"/bookmarks\" className=\"navitem\" activeClassName=\"active\">\r\n            Bookmarks\r\n          </NavLink>\r\n          <NavLink to=\"/notes\" className=\"navitem\" activeClassName=\"active\">\r\n            Notes\r\n          </NavLink>\r\n          <NavLink to=\"/settings\" className=\"navitem\" activeClassName=\"active\">\r\n            Settings\r\n          </NavLink>\r\n          <NavLink to=\"/help\" className=\"navitem\" activeClassName=\"active\">\r\n            Help\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Links;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport './style.scss';\r\nimport curateWhite from '../../images/curate_white.svg';\r\nimport curateBlack from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n}\r\n\r\nconst Desktop = (props: Props) => {\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        props.transparent ? 'navbar desktop transparent' : 'navbar desktop'\r\n      }\r\n    >\r\n      <div className=\"left\">\r\n        {!props.transparent && props.profile.theme === 'theme_light' && (\r\n          <img className=\"logo\" src={curateBlack} alt=\"Curate logo\" />\r\n        )}\r\n        {(props.transparent || props.profile.theme === 'theme_dark') && (\r\n          <img className=\"logo\" src={curateWhite} alt=\"Curate logo\" />\r\n        )}\r\n        <Links authorization={props.authorization} profile={props.profile} />\r\n      </div>\r\n      <div className=\"right\">\r\n        <div className=\"action\">\r\n          {props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={props.toggleSettings}\r\n            >\r\n              <i className=\"material-icons\">brush</i>Appearance\r\n            </OakButton>\r\n          )}\r\n          {props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={props.logout()}\r\n            >\r\n              <i className=\"material-icons\">power_settings_new</i>Logout\r\n            </OakButton>\r\n          )}\r\n          {!props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={() => props.login('signin')}\r\n            >\r\n              <i className=\"material-icons\">person</i>Login\r\n            </OakButton>\r\n          )}\r\n          {!props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={() => props.login('signup')}\r\n            >\r\n              <i className=\"material-icons\">person_add</i>Signup\r\n            </OakButton>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Desktop;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport './style.scss';\r\nimport curateWhite from '../../images/curate_white.svg';\r\nimport curateBlack from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n}\r\n\r\nconst Mobile = (props: Props) => {\r\n  const [menu, setMenu] = useState(false);\r\n\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={\r\n          props.transparent ? 'navbar mobile transparent' : 'navbar mobile'\r\n        }\r\n      >\r\n        <div className=\"left\">\r\n          {!props.transparent && props.profile.theme === 'theme_light' && (\r\n            <img className=\"logo\" src={curateBlack} alt=\"Curate logo\" />\r\n          )}\r\n          {(props.transparent || props.profile.theme === 'theme_dark') && (\r\n            <img className=\"logo\" src={curateWhite} alt=\"Curate logo\" />\r\n          )}\r\n          {/* links */}\r\n        </div>\r\n        <div className=\"right\">\r\n          {/* <div className=\"settings-icon\" onClick={props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\r\n          <div\r\n            className={menu ? 'menu active' : 'menu'}\r\n            onClick={() => setMenu(!menu)}\r\n          >\r\n            <div />\r\n          </div>\r\n          {/* action login */}\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={menu ? 'slider show' : 'slider hide'}\r\n        onClick={() => setMenu(!menu)}\r\n      >\r\n        <div\r\n          className={menu ? 'container' : 'container hidetext'}\r\n          onClick={() => setMenu(!menu)}\r\n        >\r\n          <div className=\"action\">\r\n            <div className=\"settings-icon\" onClick={props.toggleSettings}>\r\n              {props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"default\"\r\n                  variant=\"outline\"\r\n                  small\r\n                  action={props.toggleSettings}\r\n                >\r\n                  <i className=\"material-icons\">brush</i>Appearance\r\n                </OakButton>\r\n              )}\r\n            </div>\r\n            <div className=\"buttons\">\r\n              {props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"default\"\r\n                  variant=\"outline\"\r\n                  small\r\n                  action={props.logout()}\r\n                >\r\n                  <i className=\"material-icons\">power_settings_new</i>Logout\r\n                </OakButton>\r\n              )}\r\n              {!props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"secondary\"\r\n                  variant=\"animate none\"\r\n                  small\r\n                  action={() => props.login('signin')}\r\n                >\r\n                  <i className=\"material-icons\">person</i>Login\r\n                </OakButton>\r\n              )}\r\n              {!props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"secondary\"\r\n                  variant=\"animate none\"\r\n                  small\r\n                  action={() => props.login('signup')}\r\n                >\r\n                  <i className=\"material-icons\">person_add</i>Signup\r\n                </OakButton>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <Links authorization={props.authorization} profile={props.profile} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Mobile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { withCookies } from 'react-cookie';\r\nimport { Switch } from '@material-ui/core';\r\nimport {\r\n  getProfile,\r\n  setProfile,\r\n  reloadProfile,\r\n} from '../../actions/ProfileActions';\r\n\r\nimport './style.scss';\r\nimport Desktop from './Desktop';\r\nimport Mobile from './Mobile';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  reloadProfile: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n  history: any;\r\n  cookies: any;\r\n  location: any;\r\n  match: any;\r\n}\r\n\r\nconst Navigation = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    visible: false,\r\n    mobilemenu: 'hide',\r\n    chooseTheme: false,\r\n    showSettings: false,\r\n    transparentNavBar: false,\r\n    firstLoad: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'navbar-transparency') {\r\n        setData({ ...data, transparentNavBar: message.signal });\r\n      }\r\n\r\n      if (message.name === 'loggedin') {\r\n        props.reloadProfile(props.authorization);\r\n        setData({ ...data, firstLoad: false });\r\n      }\r\n\r\n      if (message.name === 'loggedout') {\r\n        props.history.push('/home');\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (data.firstLoad && props.authorization?.isAuth) {\r\n      props.reloadProfile(props.authorization);\r\n      setData({ ...data, firstLoad: false });\r\n    }\r\n  }, [props.authorization]);\r\n\r\n  const toggleDarkMode = () => {\r\n    if (props.profile.theme === 'theme_dark') {\r\n      props.setProfile({ ...props.profile, theme: 'theme_light' });\r\n    } else {\r\n      props.setProfile({ ...props.profile, theme: 'theme_dark' });\r\n    }\r\n  };\r\n\r\n  const changeTextSize = size => {\r\n    props.setProfile({ ...props.profile, textSize: size });\r\n  };\r\n\r\n  const changeThemeColor = color => {\r\n    props.setProfile({ ...props.profile, themeColor: color });\r\n  };\r\n\r\n  const login = type => {\r\n    props.history.push(`/login?type=${type}`);\r\n  };\r\n\r\n  const toggleSettings = () => {\r\n    setData({ ...data, showSettings: !data.showSettings });\r\n  };\r\n\r\n  return (\r\n    <div className=\"nav\">\r\n      <Desktop\r\n        {...props}\r\n        logout={() => props.logout()}\r\n        login={login}\r\n        toggleSettings={() => toggleSettings()}\r\n        transparent={data.transparentNavBar}\r\n      />\r\n      <Mobile\r\n        {...props}\r\n        logout={() => props.logout()}\r\n        login={login}\r\n        toggleSettings={() => toggleSettings()}\r\n        transparent={data.transparentNavBar}\r\n      />\r\n\r\n      <OakDialog\r\n        visible={data.showSettings}\r\n        toggleVisibility={() => toggleSettings()}\r\n      >\r\n        <div className=\"dialog-body\">\r\n          <div className=\"settings\">\r\n            <div>Dark mode</div>\r\n            <div>\r\n              <Switch\r\n                checked={props.profile.theme === 'theme_dark'}\r\n                onChange={() => toggleDarkMode()}\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}\r\n              />\r\n            </div>\r\n\r\n            <div>Text Size</div>\r\n            <div>\r\n              <div\r\n                className={`text-size size-1 space-right-1 ${\r\n                  props.profile.textSize === 'textsize_tiny' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_tiny')}\r\n              >\r\n                Az\r\n              </div>\r\n              <div\r\n                className={`text-size size-2 space-right-1 ${\r\n                  props.profile.textSize === 'textsize_small' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_small')}\r\n              >\r\n                Az\r\n              </div>\r\n              <div\r\n                className={`text-size size-3 space-right-1 ${\r\n                  props.profile.textSize === 'textsize_medium' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_medium')}\r\n              >\r\n                Az\r\n              </div>\r\n              <div\r\n                className={`text-size size-4 ${\r\n                  props.profile.textSize === 'textsize_large' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_large')}\r\n              >\r\n                Az\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"typography-5\">Color Scheme</div>\r\n            <div>\r\n              <div\r\n                className=\"theme-color color-1\"\r\n                onClick={() => changeThemeColor('themecolor1')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor1' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-2\"\r\n                onClick={() => changeThemeColor('themecolor2')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor2' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-3\"\r\n                onClick={() => changeThemeColor('themecolor3')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor3' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-4\"\r\n                onClick={() => changeThemeColor('themecolor4')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor4' && 'check'}\r\n                </i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"dialog-footer\">\r\n          <OakButton\r\n            theme=\"primary\"\r\n            variant=\"animate none\"\r\n            action={() => toggleSettings()}\r\n          >\r\n            Close\r\n          </OakButton>\r\n        </div>\r\n      </OakDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfile,\r\n  setProfile,\r\n  reloadProfile,\r\n})(withCookies(withRouter(Navigation)));\r\n","import { httpPost } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\n\r\nconst importBookmarks = (data, token) => {\r\n  return httpPost(constants.API_URL_BOOKMARK_IMPORT, data, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(function(response) {\r\n    return Promise.resolve(response);\r\n  });\r\n};\r\n\r\nexport default importBookmarks;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport importBookmarks from '../Bookmarks/BookmarkService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n}\r\n\r\nconst BookmarkImport = (props: Props) => {\r\n  const fileChoosen = (event: any) => {\r\n    event.preventDefault();\r\n    const reader = new FileReader();\r\n    sendMessage('spinner');\r\n    reader.onload = function(eventInner: any) {\r\n      importBookmarks(\r\n        {\r\n          content: eventInner.target.result,\r\n        },\r\n        props.authorization.token\r\n      ).then(response => {\r\n        sendMessage('notification', true, {\r\n          message: `Imported (${response.data.length}) bookmarks successfully`,\r\n          type: 'success',\r\n          duration: 6000,\r\n        });\r\n      });\r\n    };\r\n    reader.readAsText(event.target.files[0]);\r\n    event.target.value = '';\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3\">Import Bookmarks</div>\r\n      <div className=\"space-top-2\">\r\n        <label htmlFor=\"import_bookmark\" className=\"file-upload\">\r\n          <input\r\n            id=\"import_bookmark\"\r\n            type=\"file\"\r\n            name=\"file\"\r\n            onChange={fileChoosen}\r\n          />\r\n          Import\r\n        </label>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookmarkImport;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { httpGet } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\nimport sendBookmarkExportEmail from './SettingsService';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  email: string;\r\n}\r\n\r\nconst BookmarkExport = (props: Props) => {\r\n  const exportBookmark = () => {\r\n    httpGet(constants.API_URL_BOOKMARK, {\r\n      headers: {\r\n        Authorization: `Bearer ${props.authorization.token}`,\r\n      },\r\n    }).then(response => {\r\n      let staticContent =\r\n        '<META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html;' +\r\n        ' charset=UTF-8\"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>';\r\n\r\n      response.data.map(function(bookmark) {\r\n        const htmlContent =\r\n          `${'<DL><p>' + '<DT>' + '<A ' + 'HREF=\"'}${bookmark.href}\">${\r\n            bookmark.title\r\n          }</A>` + `</DL><p>`;\r\n        staticContent += htmlContent;\r\n      });\r\n\r\n      console.log(staticContent);\r\n      sendExportEmail(staticContent);\r\n    });\r\n  };\r\n\r\n  const sendExportEmail = staticContent => {\r\n    sendBookmarkExportEmail(\r\n      {\r\n        email: props.email,\r\n        content: staticContent,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${props.authorization.token}`,\r\n        },\r\n      }\r\n    )\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          sendMessage('notification', true, {\r\n            message: 'Check your mail for bookmark attachment',\r\n            type: 'success',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Export Bookmarks</div>\r\n      <div className=\"space-top-2\">\r\n        <OakButton\r\n          theme=\"secondary\"\r\n          variant=\"animate in\"\r\n          action={() => exportBookmark()}\r\n        >\r\n          Export\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookmarkExport;\r\n","import { httpPost } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\n\r\nexport default function sendBookmarkExportEmail(data, token) {\r\n  return httpPost(constants.API_URL_MAIL, data, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  profile: Profile;\r\n  persistProfile: Function;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst Appearance = (props: Props) => {\r\n  const toggleDarkMode = () => {\r\n    if (props.profile.theme === 'theme_dark') {\r\n      props.persistProfile(props.authorization, {\r\n        ...props.profile,\r\n        theme: 'theme_light',\r\n      });\r\n    } else {\r\n      props.persistProfile(props.authorization, {\r\n        ...props.profile,\r\n        theme: 'theme_dark',\r\n      });\r\n    }\r\n  };\r\n\r\n  const changeTextSize = size => {\r\n    props.persistProfile(props.authorization, {\r\n      ...props.profile,\r\n      textSize: size,\r\n    });\r\n  };\r\n\r\n  const changeThemeColor = color => {\r\n    props.persistProfile(props.authorization, {\r\n      ...props.profile,\r\n      themeColor: color,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Appearance</div>\r\n      <div className=\"appearance\">\r\n        <div className=\"typography-5\">Dark mode</div>\r\n        <div>\r\n          <Switch\r\n            checked={props.profile.theme === 'theme_dark'}\r\n            onChange={() => toggleDarkMode()}\r\n            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"typography-5 space-bottom-2\">Text Size</div>\r\n        <div className=\" space-bottom-2\">\r\n          <div\r\n            className={`text-size size-1 space-right-1 ${\r\n              props.profile.textSize === 'textsize_tiny' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_tiny')}\r\n          >\r\n            Az\r\n          </div>\r\n          <div\r\n            className={`text-size size-2 space-right-1 ${\r\n              props.profile.textSize === 'textsize_small' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_small')}\r\n          >\r\n            Az\r\n          </div>\r\n          <div\r\n            className={`text-size size-3 space-right-1 ${\r\n              props.profile.textSize === 'textsize_medium' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_medium')}\r\n          >\r\n            Az\r\n          </div>\r\n          <div\r\n            className={`text-size size-4 ${\r\n              props.profile.textSize === 'textsize_large' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_large')}\r\n          >\r\n            Az\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"typography-5\">Color Scheme</div>\r\n        <div>\r\n          <div\r\n            className=\"theme-color color-1\"\r\n            onClick={() => changeThemeColor('themecolor1')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor1' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-2\"\r\n            onClick={() => changeThemeColor('themecolor2')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor2' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-3\"\r\n            onClick={() => changeThemeColor('themecolor3')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor3' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-4\"\r\n            onClick={() => changeThemeColor('themecolor4')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor4' && 'check'}\r\n            </i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Appearance;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { withCookies } from 'react-cookie';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  updateUserDetailsImpl: Function;\r\n  authorization: Authorization;\r\n  cookies: any;\r\n}\r\n\r\nconst UserDetails = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    setData({\r\n      ...data,\r\n      name: props.cookies.get('name'),\r\n      email: props.cookies.get('email'),\r\n    });\r\n  }, []);\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const updateUserDetailsAction = () => {\r\n    if (isEmptyOrSpaces(data.name)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Name not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Email not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Email ID is invalid',\r\n        duration: 3000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    props.updateUserDetailsImpl(data, 'user');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">User Account</div>\r\n      <div>\r\n        <OakText\r\n          label=\"Name\"\r\n          data={data}\r\n          id=\"name\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakText\r\n          label=\"Email\"\r\n          data={data}\r\n          id=\"email\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakButton\r\n          theme=\"secondary\"\r\n          variant=\"animate in\"\r\n          action={() => updateUserDetailsAction()}\r\n        >\r\n          Update details\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withCookies(UserDetails);\r\n","import React, { useState } from 'react';\r\nimport './style.scss';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { signin, preSignin } from '../Auth/AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  email: string;\r\n  updateUserDetailsImpl: Function;\r\n}\r\n\r\nconst ChangePassword = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    oldPassword: '',\r\n    newPassword: '',\r\n    repeatPassword: '',\r\n  });\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const changePassword = () => {\r\n    if (isEmptyOrSpaces(data.oldPassword)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Old password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isEmptyOrSpaces(data.newPassword) ||\r\n      isEmptyOrSpaces(data.repeatPassword)\r\n    ) {\r\n      sendMessage('notification', true, {\r\n        message: 'New password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (data.newPassword !== data.repeatPassword) {\r\n      sendMessage('notification', true, {\r\n        message: 'New password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    checkOldPassword('oldpassword');\r\n  };\r\n\r\n  const checkOldPassword = type => {\r\n    preSignin(props.email).then(response => {\r\n      if (response.status === 200) {\r\n        signin(\r\n          {\r\n            email: props.email,\r\n            password: data.oldPassword,\r\n          },\r\n          response.data\r\n        )\r\n          .then(innerResponse => {\r\n            if (innerResponse.status === 200) {\r\n              props.updateUserDetailsImpl(\r\n                {\r\n                  password: data.newPassword,\r\n                },\r\n                'password'\r\n              );\r\n              // sendMessage('notification', true, {message: 'Passphrase updated successfully', type: 'success', duration: 3000});\r\n            } else if (innerResponse.status === 401) {\r\n              sendMessage('notification', true, {\r\n                message: 'Incorrect passphrase',\r\n                type: 'failure',\r\n                duration: 3000,\r\n              });\r\n            } else {\r\n              sendMessage('notification', true, {\r\n                message:\r\n                  'Unknown response from server. Please try again or at a later time',\r\n                type: 'failure',\r\n                duration: 3000,\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Unknown error. Please try again or at a later time',\r\n              duration: 3000,\r\n            });\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Password</div>\r\n      <div>\r\n        <OakText\r\n          type=\"password\"\r\n          label=\"Old Password\"\r\n          data={data}\r\n          id=\"oldPassword\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakText\r\n          type=\"password\"\r\n          label=\"New Password\"\r\n          data={data}\r\n          id=\"newPassword\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakText\r\n          type=\"password\"\r\n          label=\"Repeat New Password\"\r\n          data={data}\r\n          id=\"repeatPassword\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakButton\r\n          theme=\"secondary\"\r\n          variant=\"animate in\"\r\n          action={() => changePassword()}\r\n        >\r\n          Change Password\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport {\r\n  getProfile,\r\n  setProfile,\r\n  persistProfile,\r\n} from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport View from '../../oakui/View';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport { updateUserDetails } from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport BookmarkImport from './BookmarkImport';\r\nimport BookmarkExport from './BookmarkExport';\r\nimport Appearance from './Appearance';\r\nimport UserDetails from './UserDetails';\r\nimport ChangePassword from './ChangePassword';\r\n\r\ninterface Props {\r\n  profile: Profile;\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  persistProfile: Function;\r\n  authorization: Authorization;\r\n  cookies: any;\r\n}\r\n\r\nconst Settings = (props: Props) => {\r\n  const [email, setEmail] = useState('');\r\n\r\n  useEffect(() => {\r\n    setEmail(props.cookies.get('email'));\r\n  }, []);\r\n\r\n  const updateUserDetailsImpl = (user, type) => {\r\n    updateUserDetails(\r\n      {\r\n        name: user?.name,\r\n        email: user?.email,\r\n        password: user?.password,\r\n      },\r\n      props.authorization.token,\r\n      type\r\n    )\r\n      .then((response: any) => {\r\n        if (response.status === 201) {\r\n          if (type === 'password') {\r\n            sendMessage('notification', true, {\r\n              message: 'Password updated successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          } else {\r\n            props.cookies.set('name', user?.name);\r\n            props.cookies.set('email', user?.email);\r\n            sendMessage('notification', true, {\r\n              message: 'User account updated successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Unknown error. Please try again or at a later time',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Unknown error. Please try again or at a later time',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <ViewResolver sideLabel=\"More options\">\r\n        <View main>\r\n          <BookmarkImport authorization={props.authorization} />\r\n          <BookmarkExport authorization={props.authorization} email={email} />\r\n          <Appearance\r\n            authorization={props.authorization}\r\n            profile={props.profile}\r\n            persistProfile={props.persistProfile}\r\n          />\r\n          <UserDetails\r\n            authorization={props.authorization}\r\n            updateUserDetailsImpl={updateUserDetailsImpl}\r\n          />\r\n          <ChangePassword\r\n            authorization={props.authorization}\r\n            updateUserDetailsImpl={updateUserDetailsImpl}\r\n            email={email}\r\n          />\r\n        </View>\r\n      </ViewResolver>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfile,\r\n  setProfile,\r\n  persistProfile,\r\n})(withCookies(Settings));\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport { resetPassword } from './AuthService';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst ResetPassword = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    password: '',\r\n    repeatPassword: '',\r\n    resetCode: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query.code) {\r\n        setData({ ...data, resetCode: query.code });\r\n      } else {\r\n        props.history.push('/home');\r\n      }\r\n    }\r\n  });\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const changePassword = () => {\r\n    if (isEmptyOrSpaces(data.password)) {\r\n      sendMessage('notification', true, {\r\n        message: 'password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isEmptyOrSpaces(data.repeatPassword) ||\r\n      isEmptyOrSpaces(data.repeatPassword)\r\n    ) {\r\n      sendMessage('notification', true, {\r\n        message: 'Repeat password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (data.password !== data.repeatPassword) {\r\n      sendMessage('notification', true, {\r\n        message: 'Password is not matching',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    resetPasswordAction('password');\r\n  };\r\n\r\n  const resetPasswordAction = type => {\r\n    resetPassword(\r\n      {\r\n        password: data.password,\r\n        resetCode: data.resetCode,\r\n      },\r\n      type\r\n    )\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          if (type === 'password') {\r\n            sendMessage('notification', true, {\r\n              message: 'Password Changed successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Invalid request',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"container\">\r\n        <form method=\"GET\" onSubmit={changePassword} noValidate>\r\n          <h1>Reset password</h1>\r\n          <div className=\"form\">\r\n            <OakText\r\n              label=\"Password\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              data={data}\r\n              handleChange={e => handleChange(e)}\r\n            />\r\n            <OakText\r\n              label=\"Repeat Password\"\r\n              id=\"repeatPassword\"\r\n              type=\"password\"\r\n              data={data}\r\n              handleChange={e => handleChange(e)}\r\n            />\r\n          </div>\r\n          <br />\r\n          <OakButton\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            action={changePassword}\r\n          >\r\n            Submit\r\n          </OakButton>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  ResetPassword\r\n);\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './style.scss';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { withCookies } from 'react-cookie';\r\nimport { connect } from 'react-redux';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Home from '../Home';\r\nimport BookmarkController from '../Bookmarks/BookmarkController';\r\nimport NoteController from '../Notes/NoteController';\r\nimport Login from '../Auth/Login';\r\nimport PrivateRoute from '../Auth/PrivateRoute';\r\nimport AuthInit from '../Auth/AuthInit';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { getProfile } from '../../actions/ProfileActions';\r\n\r\nimport Backdrop from './Backdrop';\r\nimport Notification from '../Notification';\r\nimport Navigation from '../Navigation';\r\nimport Settings from '../Settings';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport ResetPassword from '../Auth/ResetPassword';\r\n\r\nconst themes = {\r\n  themecolor1: getTheme('#69A7BF'),\r\n  themecolor2: getTheme('#99587B'),\r\n  themecolor3: getTheme('#A66C26'),\r\n  themecolor4: getTheme('#37AE82'),\r\n};\r\n\r\nfunction getTheme(color) {\r\n  return createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        main: color,\r\n      },\r\n      secondary: {\r\n        main: color,\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\ninterface Props {\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n\r\n  // event: PropTypes.object,\r\n  profile: any;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst Content = (props: Props) => {\r\n  useEffect(() => {\r\n    props.getProfile();\r\n    props.getAuth();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'session expired') {\r\n        logout(null, 'failure', 'Session expired. Login again');\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  const logout = (\r\n    event,\r\n    type = 'success',\r\n    message = 'You have been logged out'\r\n  ) => {\r\n    props.removeAuth();\r\n    props.cookies.remove('isAuth');\r\n    props.cookies.remove('token');\r\n    props.cookies.remove('secret');\r\n    props.cookies.remove('name');\r\n    sendMessage('notification', true, {\r\n      type,\r\n      message,\r\n      duration: 3000,\r\n    });\r\n    sendMessage('loggedout', true);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`App ${props.profile.theme} ${props.profile.textSize} ${props.profile.themeColor}`}\r\n    >\r\n      <HashRouter>\r\n        <AuthInit />\r\n        <Backdrop />\r\n        <div className=\"body\">\r\n          <div className=\"body-content\">\r\n            <Notification />\r\n            <MuiThemeProvider theme={themes[props.profile.themeColor]}>\r\n              <Navigation {...props} logout={() => logout} />\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                render={propsLocal => (\r\n                  <Home {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/home\"\r\n                render={propsLocal => (\r\n                  <Home {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n                render={propsLocal => (\r\n                  <Login {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/reset\"\r\n                render={propsLocal => (\r\n                  <ResetPassword\r\n                    {...props}\r\n                    {...propsLocal}\r\n                    logout={() => logout}\r\n                  />\r\n                )}\r\n              />\r\n              <PrivateRoute\r\n                path=\"/bookmarks\"\r\n                render={propsLocal => (\r\n                  <BookmarkController\r\n                    {...props}\r\n                    {...propsLocal}\r\n                    logout={logout}\r\n                  />\r\n                )}\r\n              />\r\n              <PrivateRoute\r\n                path=\"/notes\"\r\n                render={propsLocal => (\r\n                  <NoteController\r\n                    {...props}\r\n                    {...propsLocal}\r\n                    logout={() => logout}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/settings\"\r\n                render={propsLocal => (\r\n                  <Settings {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n            </MuiThemeProvider>\r\n          </div>\r\n        </div>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n  profile: state.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAuth,\r\n  addAuth,\r\n  removeAuth,\r\n  getProfile,\r\n})(withCookies(Content));\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './button-oval.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nconst App = props => {\r\n  return (\r\n    <Provider store={store}>\r\n      <Content {...props} />\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      // eslint-disable-next-line no-param-reassign\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    // @ts-ignore\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <CookiesProvider>\r\n    <App />\r\n  </CookiesProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/curate_white.62b209a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/curate_black.de996ba5.svg\";"],"sourceRoot":""}