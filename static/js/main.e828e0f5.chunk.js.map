{"version":3,"sources":["images/developers1.jpg","images/developers2.jpg","reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/BookmarkReducer.ts","reducers/NoteReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","components/Home/index.tsx","components/Utils.ts","components/Lib/RestTemplate.ts","components/Constants.ts","actions/BookmarkActions.ts","oakui/OakDialog.tsx","oakui/OakButton.tsx","oakui/OakPrompt.tsx","components/Bookmarks/BookmarkItem.tsx","oakui/ViewResolver.tsx","oakui/View.tsx","oakui/Sidebar.tsx","oakui/OakText.tsx","oakui/OakSelect.tsx","oakui/OakPagination.tsx","components/Bookmarks/BookmarkView.tsx","components/Bookmarks/BookmarkController.tsx","actions/NoteActions.ts","oakui/Showdown.tsx","components/Notes/NoteItem.tsx","oakui/ActionButton.tsx","components/Notes/NoteLink.tsx","components/Notes/NoteView.tsx","components/Notes/NoteController.tsx","actions/AuthActions.ts","components/Auth/AuthService.ts","components/Auth/Login.tsx","components/Auth/PrivateRoute.tsx","components/Auth/AuthInit.tsx","actions/ProfileActions.ts","components/App/Backdrop.tsx","components/Notification/index.tsx","components/Navigation/Links.tsx","components/Navigation/Desktop.tsx","components/Navigation/Mobile.tsx","components/Navigation/index.tsx","components/Settings/BookmarkImport.tsx","components/Bookmarks/BookmarkService.ts","components/Settings/BookmarkExport.tsx","components/Settings/SettingsService.ts","components/Settings/Appearance.tsx","components/Settings/UserDetails.tsx","components/Settings/ChangePassword.tsx","components/Settings/index.tsx","components/Auth/ResetPassword.tsx","components/App/Content.tsx","components/App/index.tsx","serviceWorker.ts","index.tsx","images/curate_white.svg","images/curate_black.svg"],"names":["module","exports","initialState","isAuth","token","secret","name","theme","textSize","themeColor","items","combineReducers","authorization","state","action","type","console","log","payload","profile","bookmark","note","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","subject","Subject","sendMessage","signal","data","next","receiveMessage","asObservable","Home","props","useEffect","className","to","activeClassName","src","developers2","alt","developers1","isEmptyOrSpaces","str","match","text","words","found","split","forEach","word","RegExp","baseUrl","process","httpGet","endpoint","headers","axios","get","httpPost","post","httpPut","put","httpDelete","delete","constants","fetchBookmark","dispatch","Authorization","then","response","OakDialog","documentWidth","document","documentElement","clientWidth","scrollBarWidth","window","innerWidth","style","setProperty","visible","body","classList","add","remove","addEventListener","escFunction","removeEventListener","event","keyCode","toggleVisibility","getDialogStyle","small","fullscreen","onClick","children","OakButton","variant","invert","align","getStyle","icon","OakPrompt","BookmarkItem","useState","showDeletePrompt","setShowDeletePrompt","tags","map","item","push","key","searchByTag","deleteBookmark","id","open","href","editBookmark","title","target","rel","createdAt","ViewResolver","mobileViewPort","setMobileViewPort","showSide","setShowSide","views","setViews","main","setMain","side","setSide","viewPort","matchMedia","matches","addListener","eventBus","subscribe","message","unsubscribe","initializeViews","React","Children","toArray","node","toggleSideView","sideLabel","View","Sidebar","show","setShow","Array","elementList","setElementList","label","elements","undefined","number","animate","OakText","multiline","disabled","autoComplete","errorFields","value","onChange","handleChange","OakSelect","changeSelection","e","newValue","dropdownList","objects","width","find","element","first","firstAction","OakPagination","rowsPerPage","pageNo","setData","pageChanged","onChangePage","totalRows","Math","ceil","BookmarkView","editDialog","setEditDialog","paginationData","setPaginationData","sidebarElements","addNew","selectBookmark","toggleEditDialog","domain","duration","handleBookmarkDataChange","update","view","length","slice","_id","searchPref","filtered","method","onSubmit","search","noValidate","handleSearchPrefDataChange","Switch","checked","toggleSearchPref","inputProps","clearSearch","queryString","require","connect","saveBookmark","catch","error","status","setBookmark","content","searchText","filterActivator","setSearchPref","firstLoad","setFirstLoad","setView","location","query","parse","q","startsWith","preventDefault","filter","currentTarget","bookmarkId","pref","tagName","fetchNote","Showdown","html","showdown","Converter","tables","makeHtml","source","dangerouslySetInnerHTML","__html","NoteItem","flags","preview","setPreview","deleteNote","editNote","notebook","setEditNote","newNotebook","saveNote","notebooks","ActionButton","leftLabel","rightLabel","leftAction","rightAction","removeMd","NoteLink","selected","selectNote","flag","showTag","substring","sortTypes","sortOrders","emptyNote","NoteView","newNote","handleNoteDataChange","searchResults","filterPref","handleFilterPrefDataChange","notebookList","setNote","notebookFilter","Set","sortBy","sortOrder","setFilterPref","setSearchResults","existingNotebookList","setExistingNotebookList","from","array","property","isReverseOrder","noteList","sort","o1","o2","activeSelection","getAuth","addAuth","removeAuth","preSignin","email","Promise","resolve","signin","problem","solution","password","ciphertext","JSON","stringify","sjcl","decrypt","encrypt","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","Utf8","withCookies","newuser","resetCode","signinAction","success","signupAction","test","signup","sentPasswordChangeEmailAction","rand","random","sentPasswordChangeEmail","toggle","cookies","set","history","path","render","getProfile","setProfile","Backdrop","backdrop","setBackdrop","Notification","spinner","setSpinner","notification","setNotification","setTimeout","Links","Desktop","transparent","curate_black","curate_white","toggleSettings","logout","login","Mobile","menu","setMenu","reloadProfile","withRouter","mobilemenu","chooseTheme","showSettings","transparentNavBar","changeTextSize","size","changeThemeColor","color","BookmarkImport","reader","FileReader","onload","result","readAsText","files","BookmarkExport","sendExportEmail","staticContent","i","htmlContent","Appearance","persistProfile","updateUserDetailsImpl","ChangePassword","oldPassword","newPassword","repeatPassword","checkOldPassword","setEmail","user","newData","updateUserDetails","code","changePassword","resetPasswordAction","resetPassword","themes","getTheme","createMuiTheme","palette","primary","secondary","MuiThemeProvider","exact","propsLocal","App","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e828e0f5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/developers1.b75ace5c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/developers2.cf83e454.jpg\";","import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    token: '',\r\n    secret: '',\r\n    name: ''\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_AUTH:\r\n            console.log('GET_AUTH reducer');\r\n            return {\r\n                ...state\r\n            };\r\n        case ADD_AUTH:\r\n            console.log('ADD_AUTH reducer');\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case REMOVE_AUTH:\r\n            console.log('REMOVE_AUTH reducer');\r\n            return {\r\n                ...state,\r\n                isAuth: false,\r\n                token: '',\r\n                secret: '',\r\n                name: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    theme: 'theme_dark',\r\n    textSize: 'textsize_medium',\r\n    themeColor: 'themecolor_1'\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_PROFILE:\r\n            console.log('GET_PROFILE reducer');\r\n            return {\r\n                ...state\r\n            };\r\n        case SET_PROFILE:\r\n            console.log('SET_PROFILE reducer');\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { FETCH_BOOKMARK } from '../actions/types';\r\n\r\nconst initialState = {\r\n    items: []\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case FETCH_BOOKMARK:\r\n            console.log('FETCH_BOOKMARK reducer');\r\n            return {\r\n                ...state,\r\n                items: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { FETCH_NOTE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    items: []\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case FETCH_NOTE:\r\n            console.log('FETCH_NOTE reducer');\r\n            return {\r\n                ...state,\r\n                items: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport AuthReducer from './AuthReducer';\r\nimport ProfileReducer from './ProfileReducer';\r\nimport BookmarkReducer from './BookmarkReducer';\r\nimport NoteReducer from './NoteReducer';\r\n\r\nexport default combineReducers({\r\n    authorization: AuthReducer,\r\n    profile: ProfileReducer,\r\n    bookmark: BookmarkReducer,\r\n    note: NoteReducer\r\n})","export const GET_AUTH = 'GET_AUTH';\r\nexport const ADD_AUTH = 'ADD_AUTH';\r\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\r\n\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const SET_PROFILE = 'SET_PROFILE';\r\n\r\nexport const FETCH_BOOKMARK = 'FETCH_BOOKMARK';\r\nexport const FETCH_NOTE = 'FETCH_NOTE';","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers'\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    compose(\r\n        applyMiddleware(...middleware)//,\r\n        // window[\"__REDUX_DEVTOOLS_EXTENSION__\"] && window[\"__REDUX_DEVTOOLS_EXTENSION__\"]()\r\n    )\r\n);\r\n\r\nexport default store;\r\n","import { Subject, Observable } from 'rxjs';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n    subject.next({\r\n        name: name,\r\n        signal: signal,\r\n        data: data\r\n    });\r\n}\r\n\r\nexport function clearMessages() {\r\n    subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n    return subject.asObservable();\r\n}","import React, { useEffect } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './style.scss';\r\nimport developers1 from '../../images/developers1.jpg';\r\nimport developers2 from '../../images/developers2.jpg';\r\n\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  setProfile: Function,\r\n  profile: Profile,\r\n  match: any,\r\n  logout: Function\r\n}\r\n\r\nconst Home = (props: Props) => {\r\n  useEffect(() => {\r\n    sendMessage('navbar-transparency');\r\n    return () => sendMessage('navbar-transparency', false);\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"home\">\r\n        <div className=\"section parallax bg1\" />\r\n        <div className=\"section static bg1 odd\">\r\n          <h3>A bookmarking app like never before</h3>\r\n          <p>Take your link to the web wherever you go, with the most secure bookmark and note taking app</p>\r\n          <br />\r\n          <p><NavLink to=\"/login\" className=\"navitem\" activeClassName=\"active\">Sign up</NavLink>&nbsp;for free</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg bg2\" />\r\n        <div className=\"section static bg2 even\">\r\n          <h3>Secure by design</h3>\r\n          <p>Designed with security as a primary factor from ground up</p>\r\n          <p>Your passwords never leaves your workstation</p>\r\n          <p>Our servers have zero knowledge about your password</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg3\" />\r\n        <div className=\"section static bg3 odd\">\r\n          <h3>Premium features</h3>\r\n          <p>Get premium features free for lifetime. We standby free software for all</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg4\" />\r\n        <div className=\"section static bg4 even\">\r\n          <h3>Don't mix up personal and business</h3>\r\n          <p>With the help of workspaces, you can now work in isolated containers</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg5\" />\r\n        <div className=\"section static bg5 odd\">\r\n          <h3>We love open source</h3>\r\n          <p>Our codebase is 100% available for the community to do peer review and audit for any security flaws</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg6\" />\r\n        <div className=\"section static bg6 even\">\r\n          <h3>Clean clutter free interface</h3>\r\n          <p>Modern interface with a clutter free design to keep you in focus on your activity</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg7\" />\r\n        <div className=\"section static bg7 odd\">\r\n          <h3>Travel to the future</h3>\r\n          <p>We are evolving for the future. More features on the way. You can watch our roadmap here</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg8\" />\r\n        <div className=\"section static developers bg8\">\r\n          <div className=\"headline\">Meet the creators</div>\r\n          <div className=\"container\">\r\n            <div className=\"contact\">\r\n              <img src={developers2} alt=\"Avatar\" />\r\n              <div className=\"name\">Amarandra Sahoo</div>\r\n              <div className=\"tag\">Backend implementation</div>\r\n              <div className=\"description\">\r\n                <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"contact\">\r\n              <img src={developers1} alt=\"Avatar\" />\r\n              <div className=\"name\">Arun Kumar Selvaraj</div>\r\n              <div className=\"tag\">Frontend implementation</div>\r\n              <div className=\"description\">\r\n                {/* <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p> */}\r\n                <p>Nam ipsum tortor, pellentesque et sollicitudin vel, rutrum vel est. In venenatis enim nec justo rhoncus congue sed sed dolor. Morbi sagittis mauris a elementum euismod. Maecenas orci nibh, venenatis vitae felis convallis, interdum tincidunt tortor</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;","export function isEmptyOrSpaces(str){\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function match(text, words) {\r\n    let found = false;\r\n    if (words) {\r\n        words.split(' ').forEach(word => {\r\n            if (text.match(new RegExp('(\\\\w*'+ word +'\\\\w*)','gi'))) {\r\n                found = true;\r\n            }\r\n        });\r\n    }\r\n    return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n    const result = array.sort(function(o1,o2){\r\n        if (isReverseOrder) {\r\n            return o1[property] > o2[property] ? -1 : o1[property] < o2[property] ? 1 : 0;\r\n        } else {\r\n            return o1[property] < o2[property] ? -1 : o1[property] > o2[property] ? 1 : 0;\r\n        }\r\n    });\r\n\r\n    return result;\r\n}","import axios from \"axios\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport function httpGet(endpoint: string, headers: any) {\r\n    return axios.get(baseUrl + endpoint, headers)\r\n        // .then(function(response) {\r\n        //     return Promise.resolve(response);\r\n        // }\r\n    // )\r\n}\r\n\r\nexport function httpPost(endpoint: string, payload: any, headers: any) {\r\n    return axios.post(baseUrl + endpoint, payload, headers)\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n\r\nexport function httpPut(endpoint: string, payload: any, headers: any) {\r\n    return axios.put(baseUrl + endpoint, payload, headers)\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n\r\nexport function httpDelete(endpoint: string, headers: any) {\r\n    return axios.delete(baseUrl + endpoint, headers)\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n","export const constants = {\r\n    API_URL_PRESIGNUP: \"/auth/keys\",\r\n    API_URL_SIGNUP: \"/auth/signup\",\r\n    API_URL_PRESIGNIN: \"/auth/keys/\",\r\n    API_URL_SIGNIN: \"/auth/signin\",\r\n    API_URL_RESET: \"/auth/reset\",\r\n    API_URL_CODE: \"/auth/sendResetCode\",\r\n\r\n    API_URL_BOOKMARK: \"/bookmark\",\r\n    API_URL_BOOKMARK_IMPORT: \"/bookmark/import\",\r\n    API_URL_MAIL: \"/bookmark/sendExportMail\",\r\n    API_URL_PREFERENCES: \"/user/preferences\",\r\n    API_URL_USER_DETAILS: \"/user/details\",\r\n\r\n    API_URL_NOTE: \"/note\"\r\n}\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport { constants } from '../components/Constants';\r\nimport { FETCH_BOOKMARK } from './types';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\n\r\nconst domain = \"bookmark\";\r\n\r\nexport const fetchBookmark = (authorization) => dispatch => {\r\n    httpGet(constants.API_URL_BOOKMARK,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then((response) => {\r\n            dispatch({\r\n                type: FETCH_BOOKMARK,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const saveBookmark = (authorization, payload) => dispatch => {\r\n    httpPut(constants.API_URL_BOOKMARK, payload,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(() => {\r\n            sendMessage(domain, true, {action: payload.id ? \"updated\" : \"created\"});\r\n            dispatch(fetchBookmark(authorization))\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                sendMessage(\"session expired\");\r\n            }\r\n        })\r\n}\r\n\r\nexport const deleteBookmark = (authorization, id) => dispatch => {\r\n    httpDelete(constants.API_URL_BOOKMARK + \"/\" + id,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage(domain, true, {action: \"deleted\"});\r\n                dispatch(fetchBookmark(authorization));\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                sendMessage(\"session expired\");\r\n            }\r\n        })\r\n}","import React, { useEffect, ReactNode } from 'react';\r\nimport './OakDialog.scss';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\ninterface Props {\r\n    visible: boolean,\r\n    toggleVisibility: any,\r\n    small?: boolean,\r\n    fullscreen?: boolean,\r\n    children?: ReactNode\r\n}\r\n\r\nconst OakDialog = (props:Props) => {\r\n\r\n    useEffect(() => {\r\n        const documentWidth = document.documentElement.clientWidth;\r\n        const windowWidth = window.innerWidth;\r\n        const scrollBarWidth = windowWidth - documentWidth;\r\n        document.documentElement.style\r\n            .setProperty('--scrollbar-width', scrollBarWidth + 'px');\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        sendMessage(\"dialog\", props.visible);\r\n        if (props.visible) {\r\n            document.body.classList.add('oak-dialog-open');\r\n        } else {\r\n            document.body.classList.remove('oak-dialog-open');\r\n        }        \r\n        document.addEventListener(\"keydown\", escFunction, false);\r\n        return () => document.removeEventListener(\"keydown\", escFunction, false);\r\n    }, [props.visible])\r\n\r\n    const escFunction = event => {\r\n        if(event.keyCode === 27) {\r\n          if (props.visible) {\r\n            props.toggleVisibility();\r\n          }\r\n        }\r\n    }\r\n\r\n    const getDialogStyle = () => {\r\n        let style = \"\";\r\n        style = style + (props.small ? \" small\" : \"\");\r\n        style = style + (props.fullscreen ? \" fullscreen\" : \"\");\r\n        return style;\r\n    }\r\n\r\n    return (\r\n        <div className=\"oak-dialog\">\r\n            <div className={(props.visible ? \"dialog show \" + getDialogStyle() : \"dialog hide \" + getDialogStyle())}>\r\n                <div className={(props.visible ? \"container\": \"container hidetext\")}>\r\n                    <div className=\"dialog-header\">\r\n                        <div className=\"container\" onClick={props.toggleVisibility}>\r\n                            <i className=\"material-icons\">close</i><div className=\"text-esc\">esc</div>\r\n                        </div>\r\n                    </div>\r\n                    {props.children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OakDialog;\r\n","import React, { ReactNode } from 'react';\r\nimport './oak-button-oval.scss';\r\n\r\ninterface Props {\r\n    icon?: string,\r\n    action?: any,\r\n    variant?: 'block' | 'outline' | 'animate in' | 'animate out' | 'animate none' | 'disabled'\r\n    theme?: 'primary' | 'secondary' | 'tertiary' | 'default',\r\n    align?: 'left' | 'right' | 'center',\r\n    small?: boolean,\r\n    invert?: boolean,\r\n    children?: ReactNode\r\n}\r\n\r\nconst OakButton = (props:Props) => {\r\n\r\n    const getStyle = () => {\r\n        let style = props.theme ? props.theme : \"\";\r\n        style = style + (props.variant ? \" \" + props.variant : \"\");\r\n\r\n        if (!props.children) {\r\n            style = style + \" icon\";\r\n        }\r\n\r\n        style = style + (props.invert ? \" invert\": \"\");\r\n\r\n        style = style + (props.small ? \" small\" : \"\");\r\n\r\n        style = style + (props.align ? \" align-\" + props.align : \"\");\r\n\r\n        return style;\r\n    }\r\n\r\n    return (\r\n        <button className={\"oak-button \" + getStyle()} onClick={props.action}>\r\n            {props.icon && <i className=\"material-icons\">{props.icon}</i>}\r\n            {props.children && props.children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default OakButton;","import React from 'react';\r\nimport './OakDialog.scss';\r\nimport OakDialog from './OakDialog';\r\nimport OakButton from './OakButton';\r\n\r\ninterface Props {\r\n    visible: boolean,\r\n    toggleVisibility: any,\r\n    action: any,\r\n    text?: string,\r\n    children?: any\r\n}\r\n\r\nconst OakPrompt = (props: Props) => { \r\n    // useEffect(() => {\r\n    //     document.addEventListener(\"keydown\", escFunction, false);\r\n    //     return () => document.removeEventListener(\"keydown\", escFunction, false);\r\n    // }, []);\r\n\r\n    // const escFunction = (event) => {\r\n    //     if(event.keyCode === 27) {\r\n    //       if (props.visible) {\r\n    //         props.toggleVisibility();\r\n    //       }\r\n    //     }\r\n    // }\r\n\r\n    const action = () => {\r\n        props.action();\r\n        props.toggleVisibility();\r\n    }\r\n\r\n    return (\r\n        <OakDialog small visible={props.visible} toggleVisibility={props.toggleVisibility}>\r\n            <div className=\"dialog-body typography-4 space-top-4 space-bottom-4\">\r\n                {props.text ? props.text : \"Are you sure you want to continue?\"}\r\n            </div>\r\n            <div className=\"dialog-footer\">\r\n                {props.children && props.children}\r\n                {!props.children && \r\n                    <>\r\n                        <OakButton action={props.toggleVisibility} theme=\"default\" variant=\"animate in\" align=\"left\"><i className=\"material-icons\">close</i>No</OakButton>\r\n                        <OakButton action={action} theme=\"primary\" variant=\"animate out\" align=\"right\"><i className=\"material-icons\">double_arrow</i>Yes</OakButton>\r\n                    </>\r\n                }\r\n            </div>\r\n        </OakDialog>\r\n    )\r\n}\r\n\r\nexport default OakPrompt;","import React, { useState } from 'react';\r\nimport './style.scss';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\n\r\ninterface Props {\r\n    editBookmark: Function,\r\n    deleteBookmark: Function,\r\n    searchByTag: Function,\r\n    bookmark: any,\r\n    id: string\r\n}\r\n\r\nconst BookmarkItem = (props: Props) => {\r\n\r\n    const [showDeletePrompt, setShowDeletePrompt] = useState(false);\r\n    const tags: any = [];\r\n\r\n    if (props.bookmark.tags) {\r\n        props.bookmark.tags.split(\" \").map(item => {\r\n            tags.push(<div className=\"tag\" key={item} onClick={() => props.searchByTag(item)}>{item}</div>);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"item\">\r\n            <OakPrompt visible={showDeletePrompt} toggleVisibility={() => setShowDeletePrompt(!showDeletePrompt)} action={() => props.deleteBookmark(props.id)} text=\"Are you sure, you want to delete the bookmark?\" />\r\n            <div className=\"item-container\">\r\n                <div className=\"item-actions\">\r\n                    <div className=\"item-edit\"><i onClick={() => window.open(props.bookmark.href)} className=\"material-icons\">link</i></div>\r\n                    <div className=\"item-edit\"><i onClick={() => props.editBookmark(props.bookmark)} className=\"material-icons\">edit</i></div>\r\n                    <div className=\"item-delete\"><i onClick={() => setShowDeletePrompt(!showDeletePrompt)} className=\"material-icons\">delete</i></div>\r\n                </div>\r\n                {/* <div className=\"item-divider\"></div> */}\r\n                <div className=\"item-content\">\r\n                    <div className=\"title typography-4\">{props.bookmark.title}\r\n                        \r\n                    </div>\r\n                    <div className=\"url typography-6\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={props.bookmark.href}>{props.bookmark.href}</a></div>\r\n                    <div className=\"timestamp typography-6 space-bottom-1\">{props.bookmark.createdAt}</div>\r\n                    {tags}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookmarkItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport './ViewResolver.scss';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\nimport OakButton from './OakButton';\r\n\r\ninterface Props {\r\n    sideLabel?: string,\r\n    children: any\r\n}\r\n\r\nconst ViewResolver = (props: Props) => {\r\n\r\n    const [mobileViewPort, setMobileViewPort] = useState(false);\r\n\r\n    const [showSide, setShowSide] = useState(false);\r\n\r\n    const [views, setViews] = useState();\r\n\r\n    const [main, setMain] = useState();\r\n    const [side, setSide] = useState();\r\n    \r\n    const viewPort = window.matchMedia(\"(max-width: 767px)\");\r\n\r\n    useEffect(() => {\r\n        setMobileViewPort(viewPort.matches);\r\n        viewPort.addListener(() => setMobileViewPort(viewPort.matches));\r\n        setViews(props.children);\r\n        \r\n        const eventBus = receiveMessage().subscribe(message => {\r\n            if (message.name === 'sidebar') {\r\n                setShowSide(message.signal);\r\n            }\r\n        });\r\n        return () => eventBus.unsubscribe();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setViews(props.children);\r\n    }, [props.children])\r\n\r\n    useEffect(() => {\r\n        initializeViews();\r\n    }, [views])\r\n\r\n    const initializeViews = () => {\r\n        React.Children.toArray(props.children).forEach((node: any) => {\r\n            // node.type.name is minified after build and so static build result has different alphabet\r\n            // if (node.type.name === 'View') {\r\n                if (node.props.main) {\r\n                    setMain(node);\r\n                } else if (node.props.side) {\r\n                    setSide(node);\r\n                }\r\n            // }\r\n        })\r\n    }\r\n\r\n    const toggleSideView = () => {\r\n        sendMessage('sidebar', !showSide);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {!mobileViewPort && <div className=\"view-desktop\">\r\n            {side && <div className=\"view-side\">\r\n                {side}\r\n            </div>}\r\n            <div className={'view-content' + (side ? ' side-present' : '')}>\r\n                {main}\r\n            </div>\r\n        </div>}\r\n\r\n        {mobileViewPort && <div className=\"view-mobile\">\r\n            <div className={(showSide ? \"slider show\" : \"slider hide\")}>\r\n                <div className=\"topbar\" onClick={toggleSideView}>\r\n                    <div>\r\n                        <OakButton theme=\"default\" variant=\"disabled\" action={toggleSideView}>\r\n                            {!showSide && <><i className=\"material-icons\">expand_more</i>{props.sideLabel ? props.sideLabel : 'Menu'}</>}\r\n                            {showSide && <><i className=\"material-icons\">expand_less</i>Collapse</>}\r\n                        </OakButton>\r\n                    </div>\r\n                </div>\r\n                <div className=\"view-side\">\r\n                    {showSide && side}\r\n                </div>\r\n            </div>\r\n            {!showSide && <div className=\"view-main\">\r\n                {main}\r\n            </div>}\r\n        </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ViewResolver;","import React from 'react';\r\n\r\ninterface Props {\r\n    main?: any,\r\n    side?: any,\r\n    children?: any\r\n}\r\n\r\nconst View = (props: Props) => {\r\n    return (\r\n        <div>\r\n            {/* {this.props} */}\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default View;","import React, { useState, useEffect } from 'react';\r\nimport './Sidebar.scss';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\n\r\ninterface Props {\r\n    show?: boolean,\r\n    elements?: Array<any>,\r\n    label: string,\r\n    icon: string,\r\n    number?: number,\r\n    animate?: boolean,\r\n    children?: any\r\n}\r\n\r\nconst Sidebar = (props: Props) => {\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [elementList, setElementList] = useState(new Array());\r\n\r\n    useEffect(() => {\r\n        sendMessage('sidebarExpanded', show, {label: props.label});\r\n    }, [show]);\r\n\r\n    useEffect(() => {\r\n        setShow(props.show ? true : false);\r\n        setElementList(props.elements ? props.elements : []);\r\n        const eventBus = receiveMessage().subscribe(message => {\r\n            if (message.name === 'sidebarExpanded' && message.signal && message.data && message.data.label !== props.label) {\r\n                setShow(false);\r\n            }\r\n        });\r\n        return () => eventBus.unsubscribe();\r\n    }, []);\r\n\r\n    const elements = elementList.map((item: any) => (\r\n        <div key={item.label} className=\"element\" onClick={item.action}><i className=\"material-icons\">{item.icon}</i>{item.label}</div>\r\n    ))\r\n    return (            \r\n        <div className=\"sidebar\">\r\n            <div className={show ? \"header active\" : \"header\"} onClick={() => setShow(!show)}>\r\n                <div className=\"label\">\r\n                    <i className=\"material-icons\">{props.icon}</i>\r\n                    {props.label}\r\n                    {props.number !== undefined && <div className=\"number\">{props.number}</div>}\r\n                </div>\r\n                {/* <div className=\"aria\"><i className=\"material-icons\">{this.state.show ? 'expand_less' : 'expand_more'}</i></div> */}\r\n                <div className=\"aria\"><i className={show ? \"material-icons collapse\" : \"material-icons\"}>keyboard_arrow_left</i></div>\r\n            </div>\r\n            <div className={show ? \"content show \" + (props.animate ? \"animate in\" : \"static\") : \"content hide \" + (props.animate ? \"animate in\" : \"static\")}>\r\n                {elements}\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n        \r\n        \r\n    )\r\n    \r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport './OakText.scss';\r\n\r\ninterface Props {\r\n    label: string,\r\n    id: string,\r\n    data: any,\r\n    type?: string,\r\n    handleChange: any,\r\n    errorFields?: any,\r\n    disabled?: boolean,\r\n    rows?: number,\r\n    multiline?: boolean\r\n}\r\nconst OakText = (props: Props) => {\r\n    return (\r\n        <div className=\"oak-text-field\">\r\n            <label>{props.label}</label>\r\n            {!props.multiline && <input disabled={props.disabled} autoComplete=\"off\"\r\n                className={(props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                type={props.type ? props.type : \"text\"} name={props.id} value={props.data[props.id]} onChange={props.handleChange}></input>}\r\n            {/* rows={props.rows ? props.rows : 4} */}\r\n            {props.multiline && <textarea disabled={props.disabled}\r\n                className={(props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                name={props.id} value={props.data[props.id]} onChange={props.handleChange}></textarea>}\r\n            {/* {props.multiline && <div contentEditable={props.disabled ? false : true} suppressContentEditableWarning={true}\r\n                className={\"textarea \" + (props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                onBlur={handleChange}>{props.data[props.id]}</div>} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OakText;\r\n","import React, { useState } from 'react';\r\nimport './OakSelect.scss';\r\n\r\ninterface Props {\r\n  id: string,\r\n  label?: string,\r\n  handleChange: Function,\r\n  error?: boolean,\r\n  data: any,\r\n  elements?: string[],\r\n  objects?: Array<any>,\r\n  first?: string,\r\n  firstAction?: string,\r\n  variant?: 'outline' | 'no-outline' | 'block' | 'normal',\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default',\r\n  width?: 'width-25' | 'width-50' | 'width-75' | 'width-100'\r\n}\r\n\r\nconst OakSelect = (props: Props) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const changeSelection = (e, newValue) => {\r\n    e.target.name = props.id;\r\n    e.target.value = newValue;\r\n    props.handleChange(e);\r\n    setShow(!show);\r\n  }\r\n  \r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : \"\";\r\n    style = style + (props.variant ? \" \" + props.variant : \"\");\r\n    style = style + (props.width ? \" \" + props.width : \"\");\r\n\r\n    return style;\r\n  }\r\n\r\n  let dropdownList: Array<any> = [];\r\n\r\n  if (props.elements) {\r\n    dropdownList = props.elements.map(item => <div className=\"option\" key={item} onClick={(e) => changeSelection(e, item)}>{item}</div>);\r\n  } else if (props.objects) {\r\n    dropdownList = props.objects.map(item => <div className=\"option\" key={item.key} onClick={(e) => changeSelection(e, item.key)}>{item.value}</div>);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={\"oak-select \" + getStyle()}>\r\n        {props.label && <label>{props.label}</label>}\r\n        <div className=\"select-button\" onClick={() => setShow(!show)}>\r\n          {props.elements && <div>{props.data[props.id]}</div>}\r\n          {props.objects && <div>{props.objects.find((element) => element.key === props.data[props.id]) && props.objects?.find((element) => element.key === props.data[props.id]).value}</div>}\r\n          {/*{this.props.objects && <div>{this.props.objects[0].value}</div>}*/}\r\n          <div><i className=\"material-icons\">keyboard_arrow_down</i></div>\r\n        </div>\r\n        <div className={show ? \"dropdown show\" : \"dropdown hide\"}>\r\n          <div className=\"dropdown-content\">\r\n            {props.first && <div className=\"option\" onClick={e => changeSelection(e, props.first)}>{props.first}</div>}\r\n            {props.firstAction && <div className=\"option\" onClick={e => changeSelection(e, props.firstAction)}>{props.firstAction}</div>}\r\n            {dropdownList}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default OakSelect;","import React, { useState, useEffect } from 'react';\r\nimport './OakPagination.scss';\r\nimport OakSelect from './OakSelect';\r\n\r\ninterface Props {\r\n    onChangePage: any,\r\n    totalRows: number,\r\n    label?: string\r\n}\r\n\r\nconst OakPagination = (props: Props) => {\r\n    const [data, setData] = useState({\r\n        rowsPerPage: 6,\r\n        pageNo: 1\r\n    });\r\n\r\n    useEffect(() => {\r\n        pageChanged();\r\n    }, [data])\r\n\r\n    const previousPage = () => {\r\n        if (data.pageNo !== 1) {\r\n            setData({...data, pageNo: data.pageNo - 1});\r\n        }\r\n    }\r\n\r\n    const pageChanged = () => {\r\n        props.onChangePage(data.pageNo, data.rowsPerPage);\r\n    }\r\n\r\n    const nextPage = () => {\r\n        if (Math.ceil(props.totalRows / data.rowsPerPage) !== data.pageNo) {\r\n            setData({...data, pageNo: data.pageNo + 1});\r\n        }\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setData({...data, [event.target.name]: event.target.value});\r\n    }\r\n\r\n    return (\r\n        <div className=\"oak-pagination\">\r\n            <div className=\"space-right-3\">{props.label ? props.label : \"Rows per page\"}</div>\r\n            <div className=\"space-right-3\">\r\n                <OakSelect data={data} id=\"rowsPerPage\" handleChange={e => handleChange(e)} elements={[\"6\",\"10\",\"20\",\"50\"]} />\r\n            </div>\r\n            <div className=\"page-number space-right-3\">\r\n                <div>{(data.pageNo - 1) * data.rowsPerPage + 1} \r\n                        - {(data.pageNo * data.rowsPerPage < props.totalRows) ? data.pageNo * data.rowsPerPage : props.totalRows}\r\n                        &nbsp;of&nbsp; {props.totalRows} </div>\r\n            </div>\r\n            <div className=\"page-nav\">\r\n                <div className=\"space-right-2\"><i className={data.pageNo === 1 ? \"material-icons disabled\" : \"material-icons\"} onClick={previousPage}>keyboard_arrow_left</i></div>\r\n                <div><i className={Math.ceil(props.totalRows / data.rowsPerPage) === data.pageNo ? \"material-icons disabled\" : \"material-icons\"} onClick={nextPage}>keyboard_arrow_right</i></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OakPagination;\r\n","import React, { useState, useEffect } from 'react';\r\nimport BookmarkItem from './BookmarkItem';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport View from '../../oakui/View';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport Sidebar from '../../oakui/Sidebar';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakPagination from '../../oakui/OakPagination';\r\nimport OakTable from '../../oakui/OakTable';\r\n\r\ninterface Props {\r\n    selectBookmark: Function,\r\n    deleteBookmark: Function,\r\n    search: any,\r\n    searchByTag: Function,\r\n    \r\n    bookmark: any,\r\n    searchPref: any,\r\n    view: any[],\r\n\r\n    handleBookmarkDataChange: Function,\r\n    handleSearchPrefDataChange: Function,\r\n    toggleSearchPref: Function,\r\n    clearSearch: Function,\r\n    update: Function\r\n}\r\n\r\nconst BookmarkView = (props: Props) => {\r\n    const [editDialog, setEditDialog] = useState(false);\r\n    const [paginationData, setPaginationData] = useState({\r\n        pageNo: 1,\r\n        rowsPerPage: 6,\r\n    });\r\n    \r\n    const domain = \"bookmark\";    \r\n    const sidebarElements = {\r\n        addNew: [\r\n            {\r\n                label: 'New Bookmark',\r\n                action: () => newBookmark(),\r\n                icon: 'note_add'\r\n            }\r\n        ]\r\n    };\r\n    \r\n    useEffect(() => {\r\n        const eventBus = receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === domain && message.signal) {\r\n                    sendMessage('notification', true, {type: 'success', message: domain + \" \" + message.data.action, duration: 5000});\r\n                    if (message.data.action !== 'deleted') {\r\n                        toggleEditDialog();\r\n                    }\r\n                }\r\n            }\r\n        );\r\n        return () => eventBus.unsubscribe();\r\n    })\r\n\r\n    function newBookmark() {\r\n        props.selectBookmark(null);\r\n        setEditDialog(true);\r\n    }\r\n\r\n    function selectBookmark(item) {\r\n        props.selectBookmark(item);\r\n        setEditDialog(true);\r\n    }\r\n\r\n    function toggleEditDialog() {\r\n        setEditDialog(!editDialog);\r\n    }\r\n\r\n    const onChangePage = (pageNo: number, rowsPerPage: number) => {\r\n        setPaginationData({\r\n            pageNo: pageNo,\r\n            rowsPerPage: rowsPerPage\r\n        });\r\n    }\r\n\r\n    return (\r\n            <div className=\"bookmarks\">\r\n                <OakDialog visible={editDialog} toggleVisibility={toggleEditDialog}>\r\n                    <div className=\"dialog-body\">\r\n                        <OakText label=\"Title\" data={props.bookmark} id=\"title\" handleChange={e => props.handleBookmarkDataChange(e)} />\r\n                        <OakText label=\"URL\" data={props.bookmark} id=\"href\" handleChange={e => props.handleBookmarkDataChange(e)} />\r\n                        <OakText label=\"Tags\" data={props.bookmark} id=\"tags\" handleChange={e => props.handleBookmarkDataChange(e)} />\r\n                    </div>\r\n                    <div className=\"dialog-footer\">\r\n                        <OakButton action={toggleEditDialog} theme=\"default\" variant=\"outline\" align=\"left\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n                        <OakButton action={props.update} theme=\"primary\" variant=\"animate in\" align=\"right\"><i className=\"material-icons\">double_arrow</i>Save</OakButton>\r\n                    </div>\r\n                </OakDialog>\r\n\r\n                <ViewResolver>\r\n                    <View main>\r\n                    <OakPagination totalRows={props.view.length} onChangePage={onChangePage} label=\"Items per page\" />\r\n                    <div className=\"space-bottom-2\" />\r\n                    {props.view.slice((paginationData.pageNo - 1) * paginationData.rowsPerPage, paginationData.pageNo * paginationData.rowsPerPage).map((item: any) => (\r\n                        <div key={item._id}>\r\n                        <BookmarkItem id={item._id} bookmark={item} editBookmark={selectBookmark} deleteBookmark={props.deleteBookmark} searchByTag={props.searchByTag} />\r\n                        <br />\r\n                        </div>\r\n                    ))}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                                <Sidebar label=\"Add New\" elements={sidebarElements['addNew']} icon=\"add\" animate />\r\n                                <Sidebar label=\"Search\" elements={sidebarElements['search']} icon=\"search\" animate number={props.searchPref.filtered ? props.view.length : undefined}>\r\n                                    <form method=\"GET\" onSubmit={props.search} noValidate>\r\n                                    <div className=\"space-top-2 space-left-4 space-right-4\"><OakText label=\"Keywords\" id=\"searchText\" data={props.searchPref} handleChange={e => props.handleSearchPrefDataChange(e)} /></div>\r\n                                    </form>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={props.searchPref.title}\r\n                                            onChange={() => props.toggleSearchPref('title')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include title\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={props.searchPref.tags}\r\n                                            onChange={() => props.toggleSearchPref('tags')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include tags\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={props.searchPref.href}\r\n                                            onChange={() => props.toggleSearchPref('href')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include URL\r\n                                    </div>\r\n                                    {props.searchPref.filtered && <div className=\"typography-4 space-top-2 space-left-2\">Found {props.view.length} bookmarks matching the search criteria</div>}\r\n                                    <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                        <div>\r\n                                            <OakButton action={props.clearSearch} theme=\"default\">Clear</OakButton>\r\n                                        </div>\r\n                                        <div>\r\n                                        <OakButton action={props.search} theme=\"primary\" variant=\"animate in\">Search</OakButton>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n    )\r\n}\r\n  \r\nexport default BookmarkView;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\nimport { isEmptyOrSpaces, match } from '../Utils';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { fetchBookmark,  saveBookmark, deleteBookmark } from '../../actions/BookmarkActions';\r\nimport BookmarkView from './BookmarkView';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    authorization: Authorization\r\n    location: any,\r\n    logout: Function,\r\n\r\n    fetchBookmark: Function,\r\n    saveBookmark: Function,\r\n    deleteBookmark: Function,\r\n    bookmark: any\r\n}\r\n\r\nconst BookmarkController = (props: Props) => {\r\n    const [bookmark, setBookmark] = useState({\r\n        id: undefined,\r\n        title: '',\r\n        href: '',\r\n        tags: ''\r\n    });\r\n\r\n    const [searchPref, setSearchPref] = useState({\r\n        title: true,\r\n        tags: true,\r\n        href: true,\r\n        content: true,\r\n        searchText: \"\",\r\n        filtered: false,\r\n        filterActivator: false\r\n    });\r\n\r\n    const [firstLoad, setFirstLoad] = useState(true);\r\n    const [view, setView] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (props.location.search) {\r\n            const query = queryString.parse(props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    setSearchPref({\r\n                        ...searchPref,\r\n                        title: false,\r\n                        tags: true,\r\n                        href: true,\r\n                        content: false\r\n                    });\r\n                }\r\n                setSearchPref({...searchPref, searchText: query.q, filterActivator: !searchPref.filterActivator});\r\n            }\r\n        }\r\n    }, [props.location.search])\r\n\r\n    useEffect(() => {\r\n        if (firstLoad && props.authorization?.isAuth) {\r\n            props.fetchBookmark(props.authorization);\r\n            setFirstLoad(false);\r\n        }\r\n    }, [props.authorization])\r\n\r\n    useEffect(() => {\r\n        setSearchPref({...searchPref, filterActivator: !searchPref.filterActivator});\r\n    }, [props.bookmark])\r\n\r\n    useEffect(() => {\r\n        search();\r\n    }, [searchPref.filterActivator]);\r\n\r\n    const selectBookmark = (bookmark) => {\r\n        setBookmark({\r\n            id: bookmark ? bookmark._id : '',\r\n            title: bookmark ? bookmark.title : '',\r\n            href: bookmark ? bookmark.href : '',\r\n            tags: bookmark ? bookmark.tags : ''\r\n        });\r\n    }\r\n\r\n    const deleteBookmark = (bookmarkId) => {\r\n        props.deleteBookmark(props.authorization, bookmarkId);\r\n    }\r\n\r\n    const clearSearch = () => {\r\n        setView(props.bookmark?.items);\r\n        setFirstLoad(false);\r\n        setSearchPref({...searchPref, searchText: \"\", filterActivator: !searchPref.filterActivator});\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    const searchByTag = (tagName) => {\r\n        setSearchPref({\r\n            ...searchPref,\r\n            title: false,\r\n            tags: true,\r\n            href: false,\r\n            searchText: tagName,\r\n            filterActivator: !searchPref.filterActivator\r\n        });\r\n    }\r\n\r\n    const search = (event?: any) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n        if (isEmptyOrSpaces(searchPref.searchText)) {\r\n            setView(props.bookmark?.items);\r\n            setSearchPref({...searchPref, filtered: false});\r\n            return;\r\n        }\r\n\r\n        setView(props.bookmark?.items?.filter((item) => {\r\n                if (searchPref.title && match(item.title, searchPref.searchText)) {\r\n                    return true;\r\n                } else if (searchPref.tags && match(item.tags, searchPref.searchText)) {\r\n                    return true;\r\n                } else if (searchPref.href && match(item.href, searchPref.searchText)) {\r\n                    return true;\r\n                }\r\n            })\r\n        );\r\n        setSearchPref({...searchPref, filtered: true});\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    const toggleSearchPref = (pref) => {\r\n        setSearchPref({\r\n            ...searchPref,\r\n            [pref]: !searchPref[pref]\r\n        });\r\n    }\r\n\r\n    const update = () => {\r\n\r\n        if (isEmptyOrSpaces(bookmark.title)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Title / description missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.href)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Website URL / Link is missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.tags)) {\r\n            setBookmark({...bookmark, tags: \"unsorted\"});\r\n        }\r\n\r\n        props.saveBookmark(props.authorization, bookmark);\r\n    }\r\n\r\n    const handleBookmarkDataChange = (event) => {\r\n        setBookmark({...bookmark, [event.currentTarget.name]: event.currentTarget.value});\r\n    }\r\n\r\n    const handleSearchPrefDataChange = (event) => {\r\n        setSearchPref({...searchPref, [event.currentTarget.name]: event.currentTarget.value});\r\n    }\r\n\r\n    return (\r\n        <BookmarkView view={view}\r\n            bookmark={bookmark} handleBookmarkDataChange={handleBookmarkDataChange} selectBookmark={selectBookmark} update={update} deleteBookmark={deleteBookmark}\r\n            searchPref={searchPref} handleSearchPrefDataChange={handleSearchPrefDataChange} toggleSearchPref={toggleSearchPref} clearSearch={clearSearch} \r\n            search={search} searchByTag={searchByTag}\r\n        />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    bookmark: state.bookmark\r\n})\r\n  \r\nexport default connect(mapStateToProps, { fetchBookmark, saveBookmark, deleteBookmark })(BookmarkController);\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport { constants } from '../components/Constants';\r\nimport { FETCH_NOTE } from './types';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\n\r\nconst domain = \"note\";\r\n\r\nexport const fetchNote = (authorization) => dispatch => {\r\n    httpGet(constants.API_URL_NOTE,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then((response) => {\r\n            dispatch({\r\n                type: FETCH_NOTE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const saveNote = (authorization, payload) => dispatch => {\r\n    if (payload._id) {\r\n        payload.id = payload._id;\r\n        payload._id = undefined;\r\n    }\r\n    httpPut(constants.API_URL_NOTE, payload,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(() => {\r\n            sendMessage(domain, true, {action: payload.id ? \"updated\" : \"created\"});\r\n            dispatch(fetchNote(authorization))\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                sendMessage(\"session expired\");\r\n            }\r\n        })\r\n}\r\n\r\nexport const deleteNote = (authorization, id) => dispatch => {\r\n    httpDelete(constants.API_URL_NOTE + \"/\" + id,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage(domain, true, {action: \"deleted\"});\r\n                dispatch(fetchNote(authorization));\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                sendMessage(\"session expired\");\r\n            }\r\n        })\r\n}","import React from 'react';\r\nimport showdown  from 'showdown';\r\nimport './Showdown.scss';\r\n\r\ninterface Props {\r\n    source: string\r\n}\r\nconst Showdown = (props: Props) => {\r\n    const converter = new showdown.Converter({tables: true});\r\n    const html      = converter.makeHtml(props.source);\r\n    return (\r\n        <div className=\"markdown-body\">\r\n            <div dangerouslySetInnerHTML={{__html:html}} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Showdown;\r\n","import React, { useState } from 'react';\r\nimport Showdown from '../../oakui/Showdown';\r\nimport OakSelect from '../../oakui/OakSelect';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\n\r\ninterface Props {\r\n    note: any,\r\n    deleteNote: Function,\r\n    saveNote: Function,\r\n    handleChange: Function,\r\n    notebooks: any,\r\n    editNote: boolean,\r\n    setEditNote: Function\r\n}\r\n\r\nconst NoteItem = (props: Props) => {\r\n    const flags = [\r\n        {\r\n            key: 'one',\r\n            value: <div className=\"select-palette one\" />\r\n        },\r\n        {\r\n            key: 'two',\r\n            value: <div className=\"select-palette two\" />\r\n        },\r\n        {\r\n            key: 'three',\r\n            value: <div className=\"select-palette three\" />\r\n        },\r\n        {\r\n            key: 'four',\r\n            value: <div className=\"select-palette four\" />\r\n        },\r\n        {\r\n            key: 'five',\r\n            value: <div className=\"select-palette five\" />\r\n        },\r\n        {\r\n            key: 'six',\r\n            value: <div className=\"select-palette six\" />\r\n        }\r\n    ];\r\n\r\n    const [showDeletePrompt, setShowDeletePrompt] = useState(false);\r\n    const [preview, setPreview] = useState(true);\r\n    const [newNotebook, setNewNotebook] = useState(\"\");\r\n\r\n    const deleteNote = () => {\r\n        props.deleteNote(props.note._id || props.note.id);\r\n    }\r\n\r\n    const saveNote = () => {\r\n        let notebook = props.note.notebook;\r\n\r\n        if (notebook === '<create new>') {\r\n            notebook = props.note.newNotebook;\r\n        }\r\n\r\n        props.saveNote(props.note, true)\r\n    }\r\n    const tags: any = [];\r\n    if (props.note.tags) {\r\n        props.note.tags.split(\" \").map(item => {\r\n            tags.push(<div key={item} className=\"tag\">{item}</div>);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <OakPrompt visible={showDeletePrompt} toggleVisibility={() => setShowDeletePrompt(!showDeletePrompt)} action={deleteNote} text=\"Are you sure, you want to delete the bookmark?\" />\r\n        {!props.editNote && \r\n        <div className=\"noteitem\">\r\n            <div className=\"notebook\"><i className=\"material-icons\">insert_drive_file</i>{props.note.notebook}</div>\r\n            {/* <div className=\"space-bottom-2\" /> */}\r\n            <div className=\"typography-3 space-bottom-1\">\r\n                {props.note.title}\r\n            </div>\r\n            {tags}\r\n            <div className=\"space-bottom-2\" />\r\n            <OakButton action={() => props.setEditNote(true)} theme=\"secondary\" variant=\"animate in\" align=\"left\"><i className=\"material-icons\">edit</i>Edit</OakButton>\r\n            <OakButton action={() => setShowDeletePrompt(!showDeletePrompt)} theme=\"secondary\" variant=\"animate in\" align=\"right\"><i className=\"material-icons\">delete</i>Delete</OakButton>\r\n            \r\n            \r\n            <Showdown source={props.note.content} />\r\n\r\n        </div>}\r\n        \r\n        {props.editNote && \r\n            <div className=\"noteitem\">\r\n                <div className=\"typography-3 space-bottom-1\">{props.note.title}</div>\r\n                \r\n                <OakButton action={saveNote} theme=\"primary\" variant=\"animate in\" align=\"left\"><i className=\"material-icons\">double_arrow</i>Save</OakButton>\r\n                <OakButton action={() => props.setEditNote(true)} theme=\"default\" variant=\"outline\" align=\"center\"><i className=\"material-icons\">refresh</i>Undo All</OakButton>\r\n                <OakButton action={() => props.setEditNote(false)} theme=\"default\" variant=\"outline\" align=\"center\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n                {!preview && <OakButton action={() => setPreview(!preview)} theme=\"default\" variant=\"outline\" align=\"right\"><i className=\"material-icons\">visibility</i>Show Preview</OakButton>}\r\n                {preview && <OakButton action={setPreview(!preview)} theme=\"default\" variant=\"outline\" align=\"right\"><i className=\"material-icons\">visibility_off</i>Hide Preview</OakButton>}\r\n                \r\n                <div><OakSelect width=\"width-25\" label=\"Flag\" data={props.note} id=\"flag\" handleChange={e => props.handleChange(e)} objects={flags} /></div>\r\n                <div><OakSelect label=\"Notebook\" data={props.note} id=\"notebook\" handleChange={e => props.handleChange(e)} elements={props.notebooks} firstAction=\"<create new>\" /></div>\r\n                <div>\r\n                    {props.note.notebook === '<create new>' && <OakText label=\"Notebook name\" data={props.note} id=\"newNotebook\" handleChange={e => props.handleChange(e)} />}\r\n                </div>\r\n                <OakText label=\"Title\" data={props.note} id=\"title\" handleChange={e => props.handleChange(e)} />\r\n                <OakText label=\"Tags (separated by blank spaces)\" data={props.note} id=\"tags\" handleChange={e => props.handleChange(e)} />\r\n\r\n                {preview && <div className=\"edit-note-view\">\r\n                    <div><OakText label=\"Content (Markdown / HTML / Plaintext)\" data={props.note} id=\"content\" multiline handleChange={e => props.handleChange(e)} /></div>\r\n                    <div>\r\n                        <div className=\"typography-5 space-bottom-1\">Preview</div>\r\n                        <Showdown source={props.note.content} />\r\n                    </div>\r\n                </div>}\r\n                {!preview && <OakText label=\"Content (Markdown / HTML / Plaintext)\" data={props.note} id=\"content\" multiline handleChange={e => props.handleChange(e)} />}\r\n                <div className=\"space-top-2\" />\r\n        </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NoteItem;\r\n","import React from 'react';\r\nimport './ActionButton.scss';\r\n\r\ninterface Props {\r\n    icon?: string,\r\n    leftLabel?: string,\r\n    leftAction?: any,\r\n    rightLabel?: string,\r\n    rightAction?: any,\r\n    type?: string\r\n}\r\nconst ActionButton = (props: Props) => {\r\n    const icon = <i className=\"material-icons\">{props.icon}</i>;\r\n    return (\r\n        <div className=\"action-button\">\r\n            {props.leftLabel && props.rightLabel && <button className={\"left \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n            {props.leftLabel && props.rightLabel && <button className={\"right \" + props.type} onClick={props.rightAction}>{props.icon && icon}{props.rightLabel}</button>}\r\n            {props.leftLabel && !props.rightLabel && <button className={\"center \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActionButton;\r\n","import React from 'react';\r\nimport ActionButton from '../../oakui/ActionButton';\r\nimport './style.scss';\r\nconst removeMd = require('remove-markdown');\r\n\r\ninterface Props {\r\n    selectNote: Function,\r\n    note: any,\r\n    id: string,\r\n    selected: boolean,\r\n    showTag: boolean\r\n}\r\n\r\nconst NoteLink = (props: Props) => {\r\n\r\n    const selectNote = () => {\r\n        props.selectNote(props.id);\r\n    }\r\n\r\n    const tags: any = [];\r\n    if (props.note.tags) {\r\n        props.note.tags.split(\" \").map(item => {\r\n            tags.push(<ActionButton leftLabel={item}></ActionButton>);\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n        <div className={props.selected ? \"notelink selected\" : \"notelink\"} onClick={selectNote}>\r\n            <div className=\"content\">\r\n                {props.note.flag && <div className={\"flag-palette \" + props.note.flag} />}\r\n                {props.showTag && <div className=\"notebook\">\r\n                    {/* <i className=\"material-icons\">insert_drive_file</i> */}\r\n                    {props.note.notebook}\r\n                </div>}\r\n                <div className=\"title\">{props.note.title}</div>\r\n                <div className=\"space-bottom-0\" />\r\n                {props.note.type !== 'Artboard' && <div className=\"detail\">{removeMd(props.note.content.substring(0, 100))}</div>}\r\n                {props.note.type === 'Artboard' && <div className=\"detail-artboard\"><i className=\"material-icons\">tv</i></div>}\r\n                {/* <div className=\"detail typography-5\"><Showdown source={props.note.content.substring(0, 150)} /></div> */}\r\n            </div>\r\n        </div>\r\n        <div className=\"separator\" />\r\n        {/* <hr /> */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NoteLink;\r\n","import React, { useState, useEffect } from 'react';\r\nimport NoteItem from './NoteItem';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport View from '../../oakui/View';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport Sidebar from '../../oakui/Sidebar';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakSelect from '../../oakui/OakSelect';\r\nimport NoteLink from './NoteLink';\r\n\r\n\r\nconst sortTypes = \r\n[\r\n    {key: \"createdAt\", value: \"created\"},\r\n    {key: \"lastModifiedAt\", value: \"last modified\"},\r\n    {key: \"notebook\", value: \"notebook\"},\r\n    {key: \"title\", value: \"note name\"}\r\n];\r\n\r\nconst sortOrders = [\r\n'ascending',\r\n'descending'\r\n];\r\n\r\ninterface Props {\r\n    selectNote: Function,\r\n    saveNote: Function,\r\n    deleteNote: Function,\r\n    search: any,\r\n    \r\n    note: any,\r\n    searchPref: any,\r\n    filterPref: any,\r\n    view: any[],\r\n    searchResults: any[],\r\n\r\n    notebooks: any,\r\n\r\n    handleNoteDataChange: Function,\r\n    handleSearchPrefDataChange: Function,\r\n    handleFilterPrefDataChange: Function,\r\n    toggleSearchPref: Function,\r\n    clearSearch: Function\r\n}\r\nconst emptyNote = {\r\n    id: undefined,\r\n    type: 'Notebook',\r\n    title: '',\r\n    content: '',\r\n    tags: '',\r\n    notebook: '',\r\n    newNotebook: ''\r\n}\r\n\r\nconst NoteView = (props: Props) => {\r\n    const [editDialog, setEditDialog] = useState(false);\r\n    const [editNote, setEditNote] = useState(false);\r\n    \r\n    const domain = \"note\";    \r\n    const sidebarElements = {\r\n        addNew: [\r\n            {\r\n                label: 'New Note',\r\n                action: () => newNote(),\r\n                icon: 'note_add'\r\n            },\r\n            {\r\n                label: 'New Whiteboard',\r\n                action: () => newNote(),\r\n                icon: 'tv'\r\n            }\r\n        ]\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const eventBus = receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === domain && message.signal) {\r\n                    sendMessage('notification', true, {type: 'success', message: domain + \" \" + message.data.action, duration: 5000});\r\n                    if (message.data.action === 'created') {\r\n                        toggleEditDialog();\r\n                    } else if (message.data.action === 'updated') {\r\n                        setEditNote(false);\r\n                    }\r\n                }\r\n            }\r\n        );\r\n        return () => eventBus.unsubscribe();\r\n    })\r\n\r\n    // useEffect(() => {\r\n    //     if (!editNote) {\r\n    //         selectNote(emptyNote);\r\n    //     }\r\n    // }, [editNote])\r\n\r\n    function newNote() {\r\n        props.selectNote(emptyNote);\r\n        setEditDialog(true);\r\n    }\r\n\r\n    function selectNote(item) {\r\n        props.selectNote(item);\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    function toggleEditDialog() {\r\n        setEditDialog(!editDialog);\r\n    }\r\n\r\n    return (\r\n            <div className=\"notes\">\r\n                <OakDialog visible={editDialog} toggleVisibility={toggleEditDialog}>\r\n                    <div className=\"dialog-body\">\r\n                        <div><OakSelect label=\"Notebook\" theme=\"default\" data={props.note} id=\"notebook\" handleChange={e => props.handleNoteDataChange(e)} elements={props.notebooks} firstAction=\"<create new>\" /></div>\r\n                        <div>\r\n                        {props.note.notebook === '<create new>' && <OakText label=\"Notebook name\" data={props.note} id=\"newNotebook\" handleChange={e => props.handleNoteDataChange(e)} />}\r\n                        </div>\r\n                        <div><OakText label=\"Title\" data={props.note} id=\"title\" handleChange={e => props.handleNoteDataChange(e)} /></div>\r\n                        <div><OakText label=\"Tags (separated by blank spaces)\" data={props.note} id=\"tags\" handleChange={e => props.handleNoteDataChange(e)} /></div>\r\n                        <div><OakText label=\"Content (Markdown / HTML / Plaintext)\" data={props.note} id=\"content\" multiline handleChange={e => props.handleNoteDataChange(e)} /></div>\r\n                    </div>\r\n                    <div className=\"dialog-footer\">\r\n                        <OakButton action={toggleEditDialog} theme=\"default\" variant=\"outline\" align=\"left\"><i className=\"material-icons\">close</i>Cancel</OakButton>\r\n                        <OakButton action={props.saveNote} theme=\"primary\" variant=\"animate in\" align=\"right\"><i className=\"material-icons\">double_arrow</i>Save</OakButton>\r\n                    </div>\r\n                </OakDialog>\r\n\r\n                <ViewResolver>\r\n                    <View main>\r\n                        {(props.note?._id || props.note?.id) && \r\n                            <NoteItem note={props.note} saveNote={props.saveNote} editNote={editNote} setEditNote={setEditNote}\r\n                                deleteNote={props.deleteNote} notebooks={props.notebooks} handleChange={e => props.handleNoteDataChange(e)} />}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                                <Sidebar label=\"Add New\" elements={sidebarElements['addNew']} icon=\"add\" animate />\r\n                                <Sidebar label=\"Search\" elements={sidebarElements['search']} icon=\"search\" animate number={props.searchPref.filtered ? props.searchResults.length : undefined}>\r\n                                <div className=\"space-top-1\" />\r\n                                <form method=\"GET\" onSubmit={props.search} noValidate>\r\n                                    <div className=\"space-left-4 space-right-4\"><OakText label=\"Keywords\" id=\"searchText\" data={props.searchPref} handleChange={e => props.handleSearchPrefDataChange(e)} /></div>\r\n                                </form>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={props.searchPref.title}\r\n                                        onChange={() => props.toggleSearchPref('title')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include title\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={props.searchPref.tags}\r\n                                        onChange={() => props.toggleSearchPref('tags')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include tags\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={props.searchPref.content}\r\n                                        onChange={() => props.toggleSearchPref('content')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include Content\r\n                                </div>\r\n                                {props.searchPref.filtered && <div className=\"typography-4 space-top-2\">Found {props.searchResults.length} notes matching the search criteria</div>}\r\n                                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                    <div>\r\n                                        <OakButton action={props.clearSearch} theme=\"default\" variant=\"animate none\">Clear</OakButton>\r\n                                    </div>\r\n                                    <div>\r\n                                        <OakButton action={props.search} theme=\"default\" variant=\"animate in\">Search</OakButton>\r\n                                    </div>\r\n                                </div>\r\n                            </Sidebar>\r\n                            \r\n                            <Sidebar label={props.searchPref.filtered ? \"Search results\" : \"All Notes\"} icon=\"notes\" number={props.view.length}>\r\n                                <div className=\"filter-bar\">\r\n                                    {props.searchResults.length > 1 && <div><OakSelect label=\"Notebook\" data={props.filterPref} id=\"notebookFilter\" handleChange={e => props.handleFilterPrefDataChange(e)} elements={props.filterPref.notebookList} first='all notebooks' /></div>}\r\n                                    {props.searchResults.length === 1 && <div><OakSelect label=\"Notebook\" data={props.filterPref} id=\"notebookFilter\" handleChange={e => props.handleFilterPrefDataChange(e)} elements={props.filterPref.notebookList} /></div>}\r\n                                    <div></div>\r\n                                    <div><OakSelect label=\"Sort by\" data={props.filterPref} id=\"sortBy\" handleChange={e => props.handleFilterPrefDataChange(e)} objects={sortTypes} /></div>\r\n                                    <div><OakSelect label=\"Sort Order\" data={props.filterPref} id=\"sortOrder\" handleChange={e => props.handleFilterPrefDataChange(e)} elements={sortOrders} /></div>\r\n                                </div>\r\n                                {\r\n                                    props.view?.map((item: any) => (\r\n                                        <div key={item._id ? item._id : item.id}>\r\n                                            {/* <NoteLink selected={props.note?.id === item._id ? true : false} id={item._id} note={item} selectNote={() => selectNote(item)} showTag={notebookFilter === 'all notebooks'}/> */}\r\n                                            <NoteLink selected={props.note?._id === item._id || props.note?.id === item._id ? true : false} id={item._id} note={item} selectNote={() => selectNote(item)} showTag={true} />\r\n                                        </div>\r\n                                    ))\r\n                                }\r\n                            </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n    )\r\n}\r\n  \r\nexport default NoteView;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { fetchNote, saveNote, deleteNote } from '../../actions/NoteActions';\r\nimport NoteView from './NoteView';\r\nimport { isEmptyOrSpaces, match, sort } from '../Utils';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    authorization: Authorization\r\n    location: any,\r\n    logout: Function,\r\n\r\n    fetchNote: Function,\r\n    saveNote: Function,\r\n    deleteNote: Function,\r\n    note: any\r\n}\r\n\r\nconst NoteController = (props: Props) => {\r\n    const emptyNote = {\r\n        _id: undefined,\r\n        id: undefined,\r\n        type: 'Notebook',\r\n        title: '',\r\n        content: '',\r\n        tags: '',\r\n        notebook: '',\r\n        newNotebook: ''\r\n    }\r\n    const [note, setNote] = useState(emptyNote);\r\n\r\n    const [searchPref, setSearchPref] = useState({\r\n        title: true,\r\n        tags: true,\r\n        content: true,\r\n        searchText: \"\",\r\n        filtered: false,\r\n        filterActivator: false\r\n    });\r\n\r\n    const [filterPref, setFilterPref] = useState({\r\n        notebookFilter: \"all notebooks\",\r\n        notebookList: [...new Set()],\r\n        sortBy: 'lastModifiedAt',\r\n        sortOrder: 'descending',\r\n        filtered: false,\r\n        filterActivator: false\r\n    });\r\n\r\n    const [firstLoad, setFirstLoad] = useState(true);\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [view, setView] = useState([]);\r\n    const [existingNotebookList, setExistingNotebookList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (props.location.search) {\r\n            const query = queryString.parse(props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    setSearchPref({\r\n                        ...searchPref,\r\n                        title: false,\r\n                        tags: true,\r\n                        content: false\r\n                    });\r\n                }\r\n                setSearchPref({...searchPref, searchText: query.q, filterActivator: !searchPref.filterActivator});\r\n            }\r\n        }\r\n    }, [props.location.search])\r\n\r\n    useEffect(() => {\r\n        if (firstLoad && props.authorization?.isAuth) {\r\n            props.fetchNote(props.authorization);\r\n            setFirstLoad(false);\r\n        }\r\n    }, [props.authorization])\r\n\r\n    useEffect(() => {\r\n        setSearchPref({...searchPref, filterActivator: !searchPref.filterActivator});\r\n\r\n        const existingNotebookList: any = [];\r\n        props.note?.items?.map(item => existingNotebookList.push(item.notebook));\r\n        setExistingNotebookList(Array.from(new Set(existingNotebookList)));\r\n    }, [props.note])\r\n\r\n    useEffect(() => {\r\n        search();\r\n    }, [searchPref.filterActivator]);\r\n\r\n    useEffect(() => {\r\n        filter();\r\n    }, [filterPref.filterActivator]);\r\n\r\n    const selectNote = (note) => {\r\n        setNote(note);\r\n    }\r\n\r\n    const deleteNote = (bookmarkId) => {\r\n        props.deleteNote(props.authorization, bookmarkId);\r\n    }\r\n\r\n    const clearSearch = () => {\r\n        setView(props.note?.items);\r\n        setFirstLoad(false);\r\n        setSearchPref({...searchPref, searchText: \"\", filterActivator: !searchPref.filterActivator});\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    const search = (event?: any) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n        if (isEmptyOrSpaces(searchPref.searchText)) {\r\n            setSearchResults(props.note?.items);\r\n            setSearchPref({...searchPref, filtered: false});\r\n            setFilterPref({...filterPref, filterActivator: !filterPref.filterActivator});\r\n            return;\r\n        }\r\n\r\n        setSearchResults(props.note?.items?.filter((item) => {\r\n                if (searchPref.title && match(item.title, searchPref.searchText)) {\r\n                    return true;\r\n                } else if (searchPref.tags && match(item.tags, searchPref.searchText)) {\r\n                    return true;\r\n                }\r\n            })\r\n        );\r\n        setSearchPref({...searchPref, filtered: true});\r\n        setFilterPref({...filterPref, filterActivator: !filterPref.filterActivator});\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    const filter = () => {\r\n        const notebookList: any = [];\r\n        let noteList: any = [];\r\n        searchResults.map((item: any) => {\r\n            if (isEmptyOrSpaces(filterPref.notebookFilter) || filterPref.notebookFilter === 'all notebooks' || item.notebook === filterPref.notebookFilter) {\r\n                noteList.push(item);\r\n            }\r\n            notebookList.push(item.notebook);\r\n        });\r\n    \r\n        noteList = sort(noteList, filterPref.sortBy, filterPref.sortOrder === 'descending' ? true : false);\r\n        \r\n        if (noteList.length > 0) {\r\n            let activeSelection = false;\r\n            noteList.map((item: any) => {\r\n                if (item._id === note.id || item._id === note._id) {\r\n                    activeSelection = true;\r\n                }\r\n            })\r\n\r\n            if (!activeSelection) {\r\n                setNote(searchResults[0]);\r\n            }\r\n        }\r\n\r\n        // if (!notebookList.find(item => item === filterPref.notebookFilter)) {\r\n        //     setFilterPref({\r\n        //         ...filterPref, notebookFilter: (notebookList.length === 1 ? notebookList[0] : \"all notebooks\"), notebookList: Array.from(new Set(notebookList)), filtered: true\r\n        //     });\r\n        // } else {\r\n            setFilterPref({...filterPref, notebookList: Array.from(new Set(notebookList)), filtered: true});\r\n        // }\r\n\r\n        setView(noteList);\r\n    }\r\n\r\n    const toggleSearchPref = (pref) => {\r\n        setSearchPref({\r\n            ...searchPref,\r\n            [pref]: !searchPref[pref]\r\n        });\r\n    }\r\n\r\n    const saveNote = () => {\r\n\r\n        if (!note) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Unknown error', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.notebook) || (note.notebook === \"<create new>\" && isEmptyOrSpaces(note.newNotebook))) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Notebook not chosen', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.title)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Note name / title missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.tags)) {\r\n            note.tags = 'unsorted';\r\n        }\r\n\r\n        if (note.notebook === \"<create new>\") {\r\n            note.notebook = note.newNotebook;\r\n        }\r\n\r\n        props.saveNote(props.authorization, note);\r\n    }\r\n\r\n    const handleNoteDataChange = (event) => {\r\n        setNote({...note, [event.currentTarget.name]: event.currentTarget.value});\r\n    }\r\n\r\n    const handleSearchPrefDataChange = (event) => {\r\n        setSearchPref({...searchPref, [event.currentTarget.name]: event.currentTarget.value});\r\n    }\r\n\r\n    const handleFilterPrefDataChange = (event) => {\r\n        setFilterPref({...filterPref, [event.currentTarget.name]: event.currentTarget.value, filterActivator: !filterPref.filterActivator});\r\n    }\r\n\r\n    return (\r\n        <NoteView view={view} notebooks={existingNotebookList} searchResults={searchResults}\r\n            note={note} handleNoteDataChange={handleNoteDataChange} selectNote={selectNote} deleteNote={deleteNote} saveNote={saveNote}\r\n            searchPref={searchPref} handleSearchPrefDataChange={handleSearchPrefDataChange} toggleSearchPref={toggleSearchPref} clearSearch={clearSearch} \r\n            filterPref={filterPref} handleFilterPrefDataChange={handleFilterPrefDataChange}\r\n            search={search}\r\n        />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    note: state.note\r\n})\r\n  \r\nexport default connect(mapStateToProps, { fetchNote, saveNote, deleteNote })(NoteController);\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from '../actions/types';\r\n\r\nexport const getAuth = () => dispatch => {\r\n    dispatch({\r\n        type: GET_AUTH\r\n    });\r\n}\r\n\r\nexport const addAuth = (data) => dispatch => {\r\n    dispatch({\r\n        type: ADD_AUTH,\r\n        payload: data\r\n    });\r\n}\r\n\r\nexport const removeAuth = () => dispatch => {\r\n    dispatch({\r\n        type: REMOVE_AUTH\r\n    });\r\n}","import { httpGet, httpPost, httpPut } from \"../Lib/RestTemplate\";\r\nimport sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\nimport { constants } from '../Constants';\r\n\r\nexport function preSignup() {\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response);\r\n        })\r\n}\r\n\r\nexport function signup(data) {\r\n    return httpPost(constants.API_URL_SIGNUP, {\r\n        name: data.name,\r\n        email: data.email,\r\n        problem: encrypt(data.password, data.solution, data.salt),\r\n        solution: data.solution\r\n        }, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n\r\nexport function preSignin(email) {\r\n    return httpGet(constants.API_URL_PRESIGNIN + email, null)\r\n        .then(response => Promise.resolve(response))\r\n        .catch(error => Promise.resolve(error.response))\r\n}\r\n\r\nexport function signin(data, problem) {\r\n    try {\r\n        let solution = decrypt(data.password, JSON.stringify(problem));\r\n        return httpPost(constants.API_URL_SIGNIN, {\r\n            email: data.email, solution: solution\r\n            }, null)\r\n            .then(function(response) {\r\n                return Promise.resolve(response);\r\n            })\r\n\r\n    } catch(error) {\r\n        if (error.message === \"ccm: tag doesn't match\") {\r\n            return Promise.resolve({\r\n                status: 401\r\n            });\r\n        } else {\r\n            return Promise.resolve(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateUserDetails(data, token, type) {\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution\r\n                    }\r\n                } else {\r\n                    newData = {\r\n                        name: data.name,\r\n                        email: data.email\r\n                    }\r\n                }\r\n\r\n                return httpPut(constants.API_URL_USER_DETAILS, newData,\r\n                    {\r\n                        headers: {\r\n                            Authorization: 'Bearer ' + token\r\n                        }\r\n                    })\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response);\r\n                    })\r\n            }\r\n        })\r\n}\r\n\r\nexport function sentPasswordChangeEmail(data, type) {\r\n\r\n    return httpPost(constants.API_URL_CODE, data, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n\r\nexport function resetPassword(data, type) {\r\n\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution,\r\n                        resetCode: data.resetCode\r\n                    }\r\n\r\n                }\r\n\r\n                return httpPost(constants.API_URL_RESET, newData, null)\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response.status);\r\n                    })\r\n\r\n\r\n            }\r\n        })\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n    const config = {\r\n        cipher: 'aes',\r\n        iter: '12000',\r\n        ks: 256,\r\n        salt: CryptoJS.enc.Base64.stringify((CryptoJS.enc.Utf8.parse(salt)))\r\n    }\r\n    return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n    return sjcl.decrypt(password, ciphertext);\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { withCookies } from 'react-cookie';\r\nimport './Login.scss';\r\nimport {signup, signin, sentPasswordChangeEmail, preSignup, preSignin} from './AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any,\r\n    history: any,\r\n    location: any,\r\n    authorization: Authorization\r\n}\r\n\r\nconst Login = (props: Props) => {\r\n\r\n    const [data, setData] = useState({\r\n        newuser: false,\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        resetCode:''\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (props.location.search) {\r\n            const query = queryString.parse(props.location.search);\r\n            if (query && query.type === 'signup') {\r\n                setData({...data, newuser: true});\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const signinAction = (event) => {\r\n        event.preventDefault();\r\n\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (data.email && data.password) {\r\n            preSignin(data.email).then((response) => {\r\n                if (response.status === 200) {\r\n                    signin({\r\n                        email: data.email,\r\n                        password: data.password\r\n                        }, response.data)\r\n                        .then((response) => {\r\n                            if (response.status === 200) {\r\n                                sendMessage('notification', true, {message: 'Signed In successfully', type: 'success', duration: 3000});\r\n                                success(response.data);\r\n                            } else if (response.status === 401) {\r\n                                sendMessage('notification', true, {message: 'Incorrect passphrase', type: 'failure', duration: 3000});\r\n                            } else {\r\n                                sendMessage('notification', true, {message: 'Unknown response from server. Please try again or at a later time', type: 'failure', duration: 3000});\r\n                            }\r\n                        })\r\n                        .catch((error) => {\r\n                            sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n                        })\r\n                } else if (response.status === 404) {\r\n                    sendMessage('notification', true, {message: 'User name does not exist', type: 'failure', duration: 3000});\r\n                }\r\n            })\r\n\r\n            \r\n        } else {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Username/password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    const signupAction = (event) => {\r\n        event.preventDefault();\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (data.name && data.password && data.email) {\r\n            if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email))) {\r\n                sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n                return;\r\n            }\r\n            preSignup().then((response) => {\r\n                if (response.status === 200) {\r\n                    signup({\r\n                        name: data.name,\r\n                        password: data.password,\r\n                        email: data.email,\r\n                        solution: response.data.solution,\r\n                        salt: response.data.salt\r\n                        })\r\n                        .then((status) => {\r\n                            if (status === 200) {\r\n                                sendMessage('notification', true, {'type': 'success', message: 'Your account has been created. You can login now', duration: 3000});\r\n                                setData({...data, newuser: !data.newuser});\r\n                            }\r\n                        })\r\n                }\r\n            });\r\n        } else if (!data.name) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Name cannot be empty', duration: 3000});\r\n        } else if (!data.email) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Email cannot be empty', duration: 3000});\r\n        } else if (!data.password) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    const sentEmailWithCode = () => {\r\n        if (isEmptyOrSpaces(data.email)) {\r\n            sendMessage('notification', true, {message: 'Email cannot be empty', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        sentPasswordChangeEmailAction('password');\r\n\r\n    }\r\n\r\n    const sentPasswordChangeEmailAction = (type) => {\r\n        const min = 1;\r\n        const max = 100;\r\n        const rand = min + Math.random() * (max - min);\r\n        sentPasswordChangeEmail({\r\n            email: data.email,\r\n            resetCode: rand\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password sent successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid Email error', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setData({...data, [event.currentTarget.name]: event.currentTarget.value});\r\n    }\r\n\r\n    const toggle = () => {\r\n        setData({...data, newuser: !data.newuser});\r\n    }\r\n\r\n    const success = (data) => {\r\n        props.addAuth({\r\n            isAuth: true,\r\n            token: data.token,\r\n            secret: data.secret,\r\n            name: data.name\r\n        });\r\n        sendMessage('loggedin', true);\r\n        props.cookies.set('isAuth', true);\r\n        props.cookies.set('token', data.token);\r\n        props.cookies.set('secret', data.secret);\r\n        props.cookies.set('name', data.name);\r\n        props.cookies.set('email', data.email);\r\n        props.history.push(\"/bookmarks\");\r\n        // this.props.history.push(\"/notes\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            {!data.newuser && <div className=\"container\">\r\n                <form method=\"GET\" onSubmit={signinAction} noValidate>\r\n                    <h1>Log In</h1>\r\n                    <div className=\"form\">\r\n                        <OakText label=\"Username/e-mail\" id=\"email\" data={data} handleChange={e => handleChange(e)} />\r\n                        <OakText label=\"Password\" id=\"password\" type=\"password\" data={data} handleChange={e => handleChange(e)} />\r\n                    </div>\r\n                    <br />\r\n                    <OakButton theme=\"primary\" variant=\"animate in\"  action={signinAction}>Sign In</OakButton>\r\n                    <br /><br />\r\n                    Don't have an account? &nbsp; <OakButton theme=\"secondary\" variant=\"outline\"  action={toggle}>Sign Up</OakButton>\r\n                    <br /><br />\r\n\r\n                </form>\r\n\r\n                <OakButton action={sentEmailWithCode}>Forgot password ?</OakButton>\r\n\r\n            </div>}\r\n\r\n            {data.newuser && <div className=\"container\">\r\n                <form method=\"GET\" onSubmit={signupAction} noValidate>\r\n                    <h1>Sign Up</h1>\r\n                    <div className=\"form\">\r\n                        <OakText label=\"Name\" id=\"name\" data={data} handleChange={e => handleChange(e)} />\r\n                        <OakText label=\"Email / User Name\" id=\"email\" data={data} handleChange={e => handleChange(e)} />\r\n                        <OakText label=\"Password\" id=\"password\" type=\"password\" data={data} handleChange={e => handleChange(e)} />\r\n                    </div>\r\n                    <br />\r\n                    <OakButton theme=\"primary\" variant=\"animate in\"  action={signupAction}>Create account</OakButton>\r\n                    <br /><br />\r\n                    Already have a account? &nbsp; <OakButton theme=\"secondary\" variant=\"outline\"  action={toggle}>Sign In</OakButton>\r\n                </form>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(withCookies(Login));\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization,\r\n  getAuth: Function,\r\n  path: string,\r\n  render: any\r\n}\r\n\r\nconst PrivateRoute = (props: Props) => {\r\n    useEffect(() => {\r\n      props.getAuth();\r\n    }, [props.authorization.isAuth]);\r\n    \r\n    return (\r\n      <>\r\n        {props.authorization.isAuth && <Route path={props.path} render={props.render} />}\r\n        {/* {!this.props.authorization.isAuth && <Redirect to={{pathname: \"/login\"}} />} */}\r\n      </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth })(PrivateRoute);","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport {withCookies, ReactCookieProps} from 'react-cookie';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props extends ReactCookieProps {\r\n    authorization: Authorization,\r\n    addAuth: Function,\r\n    getAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any\r\n}\r\n\r\nconst AuthInit = (props: Props) => {\r\n    useEffect(() => {\r\n        if(!props.authorization.isAuth && props.cookies.get('isAuth')) {\r\n            props.addAuth({\r\n                isAuth: true,\r\n                token: props.cookies.get('token'),\r\n                secret: props.cookies.get('secret'),\r\n                name: props.cookies.get('name')\r\n            });\r\n        }\r\n        props.getAuth();\r\n    }, [props.authorization.isAuth])\r\n\r\n    return (\r\n        <></>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(withCookies(AuthInit));","import { httpGet, httpPut } from '../components/Lib/RestTemplate';\r\nimport { constants } from '../components/Constants';\r\nimport { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nexport const getProfile = () => dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE\r\n    });\r\n}\r\n\r\nexport const reloadProfile = (authorization) => dispatch => {\r\n    httpGet(constants.API_URL_PREFERENCES,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const persistProfile = (authorization, payload) => dispatch => {\r\n    httpPut(constants.API_URL_PREFERENCES, payload,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const setProfile = (payload) => dispatch => {\r\n    dispatch({\r\n        type: SET_PROFILE,\r\n        payload: payload\r\n    });\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\nconst Backdrop = () => {\r\n    const [backdrop, setBackdrop] = useState(\"\");\r\n    useEffect(() => {\r\n        const eventBus = receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'dialog') {\r\n                    if (message.signal) {\r\n                        setBackdrop(\"backdrop-fade\");\r\n                    } else {\r\n                        setBackdrop(\"\");\r\n                    }\r\n                }\r\n            }\r\n        );\r\n        return () => eventBus.unsubscribe();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={backdrop}></div>\r\n    );\r\n}\r\n\r\nexport default Backdrop;","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n}\r\n\r\nconst Notification= (props: Props) => {\r\n    const [spinner, setSpinner] = useState(false);\r\n    const [notification, setNotification] = useState({type: undefined, message: undefined});\r\n\r\n    useEffect(() => {\r\n        const eventBus = receiveMessage().subscribe(message => {\r\n            if (message.name === 'notification') {\r\n                if (!message.signal) {\r\n                    setNotification({type: undefined, message: undefined});\r\n                } else {\r\n                    setNotification(message.data);\r\n                    setSpinner(false);\r\n                    \r\n                    if (message.data && message.data.duration) {\r\n                        setTimeout(() => {\r\n                            sendMessage('notification', false);\r\n                        }, message.data.duration);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (message.name === 'spinner') {\r\n                setSpinner(message.signal)\r\n            }\r\n        });\r\n        return () => eventBus.unsubscribe();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        {notification && <div className={\"notification \" + notification?.type}><div className=\"message\">{notification?.message}</div></div>}\r\n        {spinner && <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>}\r\n        {/* {this.props.spinner && <div className=\"lds-facebook\"><div></div><div></div><div></div></div>} */}\r\n        {/* {this.props.spinner && <div className=\"lds-dual-ring\"></div>} */}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Notification;","import React from 'react';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n    authorization: Authorization,\r\n    profile: Profile\r\n}\r\n\r\nconst Links = (props: Props) => {\r\n\r\n    return (\r\n        <div className=\"links\">\r\n            {props.authorization.isAuth &&\r\n                <>\r\n                <NavLink to=\"/bookmarks\" className=\"navitem\" activeClassName=\"active\">Bookmarks</NavLink>\r\n                <NavLink to=\"/notes\" className=\"navitem\" activeClassName=\"active\">Notes</NavLink>\r\n                <NavLink to=\"/settings\" className=\"navitem\" activeClassName=\"active\">Settings</NavLink>\r\n                <NavLink to=\"/help\" className=\"navitem\" activeClassName=\"active\">Help</NavLink>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Links;","import React, { useEffect } from 'react';\r\n\r\nimport './style.scss';\r\nimport curate_white from '../../images/curate_white.svg';\r\nimport curate_black from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\nconst Desktop = (props: Props) => {\r\n\r\n    useEffect(() => {\r\n        props.getProfile();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={(props.transparent ? \"navbar desktop transparent\" : \"navbar desktop\")}>\r\n            <div className=\"left\">\r\n                {!props.transparent && props.profile.theme === 'theme_light' && <img className=\"logo\" src={curate_black} alt=\"Curate logo\" />}\r\n                {(props.transparent || props.profile.theme === 'theme_dark') && <img className=\"logo\" src={curate_white} alt=\"Curate logo\" />}\r\n                <Links authorization={props.authorization} profile={props.profile} />\r\n            </div>\r\n            <div className=\"right\">\r\n                <div className=\"action\">\r\n                    {props.authorization.isAuth && \r\n                        <OakButton theme=\"default\" variant=\"outline\" small action={props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</OakButton>}\r\n                    {props.authorization.isAuth && \r\n                        <OakButton theme=\"default\" variant=\"outline\" small action={props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</OakButton>}\r\n                    {!props.authorization.isAuth && \r\n                        <OakButton theme=\"default\" variant=\"outline\" small action={() => props.login('signin')}><i className=\"material-icons\">person</i>Login</OakButton>}\r\n                    {!props.authorization.isAuth && \r\n                        <OakButton theme=\"default\" variant=\"outline\" small action={() => props.login('signup')}><i className=\"material-icons\">person_add</i>Signup</OakButton>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Desktop;","import React, { useState, useEffect } from 'react';\r\n\r\nimport './style.scss';\r\nimport curate_white from '../../images/curate_white.svg';\r\nimport curate_black from '../../images/curate_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\nconst Mobile = (props: Props) => {\r\n    const [menu, setMenu] = useState(false);\r\n\r\n    useEffect(() => {\r\n        props.getProfile();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n        <div className={(props.transparent ? \"navbar mobile transparent\" : \"navbar mobile\")}>\r\n            <div className=\"left\">\r\n                {!props.transparent && props.profile.theme === 'theme_light' && <img className=\"logo\" src={curate_black} alt=\"Curate logo\" />}\r\n                {(props.transparent || props.profile.theme === 'theme_dark') && <img className=\"logo\" src={curate_white} alt=\"Curate logo\" />}\r\n                {/* links */}\r\n            </div>\r\n            <div className=\"right\">\r\n                {/* <div className=\"settings-icon\" onClick={props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\r\n                <div className={(menu ? \"menu active\" : \"menu\")} onClick={() => setMenu(!menu)}><div></div></div>\r\n                {/* action login */}\r\n            </div>\r\n        </div>\r\n        <div className={(menu ? \"slider show\" : \"slider hide\")} onClick={() => setMenu(!menu)}>\r\n            <div className={(menu ? \"container\": \"container hidetext\")} onClick={() => setMenu(!menu)}>\r\n                <div className=\"action\">\r\n                    <div className=\"settings-icon\" onClick={props.toggleSettings}>\r\n                        {props.authorization.isAuth && <OakButton theme=\"default\" variant=\"outline\" small action={props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</OakButton>}\r\n                    </div>\r\n                    <div className=\"buttons\">\r\n                        {props.authorization.isAuth && <OakButton theme=\"default\" variant=\"outline\" small action={props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</OakButton>}\r\n                        {!props.authorization.isAuth && <OakButton theme=\"secondary\" variant=\"animate none\" small action={() => props.login('signin')}><i className=\"material-icons\">person</i>Login</OakButton>}\r\n                        {!props.authorization.isAuth && <OakButton theme=\"secondary\" variant=\"animate none\" small action={() => props.login('signup')}><i className=\"material-icons\">person_add</i>Signup</OakButton>}\r\n                    </div>\r\n                </div>\r\n                <Links authorization={props.authorization} profile={props.profile}/>\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Mobile;","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {withRouter} from 'react-router'\r\nimport { getProfile, setProfile, reloadProfile } from '../../actions/ProfileActions';\r\nimport {withCookies} from 'react-cookie';\r\n\r\nimport './style.scss';\r\nimport Desktop from './Desktop';\r\nimport Mobile from './Mobile';\r\nimport { Switch } from '@material-ui/core';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization,\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    reloadProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any,\r\n    history: any,\r\n    cookies: any,\r\n    location: any,\r\n    match: any\r\n}\r\n\r\nconst Navigation = (props: Props) => {\r\n    const [data, setData] = useState({\r\n        visible: false,\r\n        mobilemenu: 'hide',\r\n        chooseTheme: false,\r\n        showSettings: false,\r\n        transparentNavBar: false,\r\n        firstLoad: true\r\n    });\r\n\r\n    useEffect(() => {\r\n        props.getProfile();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const eventBus = receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'navbar-transparency') {\r\n                    setData({...data, transparentNavBar: message.signal});\r\n                }\r\n\r\n                if (message.name === 'loggedin') {\r\n                    props.reloadProfile(props.authorization);\r\n                    setData({...data, firstLoad: false});\r\n                }\r\n\r\n                if (message.name === 'loggedout') {\r\n                    props.history.push('/home');\r\n                }\r\n            }\r\n        );\r\n        return () => eventBus.unsubscribe();\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (data.firstLoad && props.authorization?.isAuth) {\r\n            props.reloadProfile(props.authorization);\r\n            setData({...data, firstLoad: false});\r\n        }\r\n    }, [props.authorization]);\r\n\r\n    const toggleDarkMode = () => {\r\n        if (props.profile.theme === 'theme_dark') {\r\n            props.setProfile({...props.profile, theme: 'theme_light'})   \r\n        } else  {\r\n            props.setProfile({...props.profile, theme: 'theme_dark'})   \r\n        }\r\n    }\r\n\r\n    const changeTextSize = (size) => {\r\n        props.setProfile({...props.profile, textSize: size});\r\n    }\r\n\r\n    const changeThemeColor = (color) => {\r\n        props.setProfile({...props.profile, themeColor: color});\r\n    }\r\n\r\n    const login = (type) => {\r\n        props.history.push('/login?type=' + type);\r\n    }\r\n\r\n    const toggleSettings = () => {\r\n        setData({...data, showSettings: !data.showSettings});\r\n    }\r\n\r\n    return (\r\n        <div className=\"nav\">\r\n            <Desktop {...props} logout={() => props.logout()} login={login} toggleSettings={() => toggleSettings()} transparent={data.transparentNavBar} />\r\n            <Mobile {...props} logout={() => props.logout()} login={login} toggleSettings={() => toggleSettings()} transparent={data.transparentNavBar} />\r\n\r\n            <OakDialog visible={data.showSettings} toggleVisibility={() => toggleSettings()}>\r\n                <div className=\"dialog-body\">\r\n                    <div className=\"settings\">\r\n                        <div>Dark mode</div>\r\n                        <div>\r\n                            <Switch\r\n                            checked={props.profile.theme === 'theme_dark'}\r\n                            onChange={() => toggleDarkMode()}\r\n                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                        </div>\r\n                        \r\n                        <div>Text Size</div>\r\n                        <div>\r\n                            <div className={\"text-size size-1 space-right-1 \" + (props.profile.textSize === 'textsize_tiny' ? 'active' : '')} onClick={() => changeTextSize('textsize_tiny')}>Az</div>\r\n                            <div className={\"text-size size-2 space-right-1 \" + (props.profile.textSize === 'textsize_small' ? 'active' : '')} onClick={() => changeTextSize('textsize_small')}>Az</div>\r\n                            <div className={\"text-size size-3 space-right-1 \" + (props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => changeTextSize('textsize_medium')}>Az</div>\r\n                            <div className={\"text-size size-4 \" + (props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => changeTextSize('textsize_large')}>Az</div>\r\n                        </div>\r\n\r\n                        <div className=\"typography-5\">Color Scheme</div>\r\n                        <div>\r\n                            <div className=\"theme-color color-1\" onClick={() => changeThemeColor('themecolor_1')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-2\" onClick={() => changeThemeColor('themecolor_2')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-3\" onClick={() => changeThemeColor('themecolor_3')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-4\" onClick={() => changeThemeColor('themecolor_4')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"dialog-footer\">\r\n                    <OakButton theme=\"primary\" variant=\"animate none\" action={() => toggleSettings()}>Close</OakButton>\r\n                </div>\r\n            </OakDialog>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, reloadProfile })(withCookies(withRouter(Navigation)));","import React from 'react';\r\nimport './style.scss';\r\nimport {importBookmarks} from '../Bookmarks/BookmarkService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  authorization: Authorization\r\n}\r\n\r\nconst BookmarkImport = (props: Props) => {\r\n\r\n  const fileChoosen = (event) => {\r\n    event.preventDefault();\r\n    var reader = new FileReader();\r\n    sendMessage('spinner');\r\n    reader.onload = function(event: any) {\r\n      importBookmarks({\r\n        content: event.target.result\r\n      }, props.authorization.token)\r\n      .then((response) => {\r\n        sendMessage('notification', true, {message: 'Imported (' + response.data.length + ') bookmarks successfully', type: 'success', duration: 6000});\r\n      });\r\n    }\r\n    reader.readAsText(event.target.files[0]);\r\n    event.target.value = '';\r\n  }\r\n\r\n  return (\r\n    <>\r\n        <div className=\"typography-3\">Import Bookmarks</div>\r\n        <div className=\"space-top-2\">\r\n          <label className=\"file-upload\">\r\n            <input type=\"file\" name=\"file\" onChange={fileChoosen} />\r\n            Import\r\n          </label>\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookmarkImport;\r\n","import { httpPost } from \"../Lib/RestTemplate\";\r\nimport { constants } from '../Constants';\r\n\r\nexport function importBookmarks(data, token) {\r\n    return httpPost(constants.API_URL_BOOKMARK_IMPORT, data,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            return Promise.resolve(response);\r\n        })\r\n}\r\n\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { httpGet } from \"../Lib/RestTemplate\";\r\nimport {constants} from \"../Constants\";\r\nimport {sendBookmarkExportEmail} from \"./SettingsService\";\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  authorization: Authorization,\r\n  email: String\r\n}\r\n\r\nconst BookmarkExport = (props: Props) => {\r\n\r\n  const exportBookmark = () => {\r\n    httpGet(constants.API_URL_BOOKMARK,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + props.authorization.token\r\n          }\r\n        })\r\n        .then((response) => {\r\n          let staticContent = '<META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html;' +\r\n              ' charset=UTF-8\"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>';\r\n\r\n          response.data.map(function(bookmark, i){\r\n            let htmlContent = '<DL><p>' + '<DT>' + '<A ' + 'HREF=\"' + bookmark.href + '\">' + bookmark.title + '</A>' + '</DL><p>';\r\n            staticContent = staticContent+htmlContent;\r\n          })\r\n\r\n          console.log(staticContent);\r\n          sendExportEmail(staticContent);\r\n        }\r\n        );\r\n\r\n  }\r\n\r\n  const sendExportEmail = (staticContent) => {\r\n\r\n    sendBookmarkExportEmail({\r\n          email: props.email,\r\n          content: staticContent\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + props.authorization.token\r\n          }\r\n        })\r\n        .then((response: any) => {\r\n          if (response === 200) {\r\n            sendMessage('notification', true, {message: 'Check your mail for bookmark attachment', type: 'success', duration: 3000});\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n        })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Export Bookmarks</div>\r\n      <div className=\"space-top-2\"><OakButton theme=\"secondary\" variant=\"animate in\" action={() => exportBookmark()}>Export</OakButton></div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookmarkExport;\r\n","import { httpPost } from \"../Lib/RestTemplate\";\r\nimport { constants } from '../Constants';\r\n\r\nexport function sendBookmarkExportEmail(data, token) {\r\n\r\n    return httpPost(constants.API_URL_MAIL, data,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  profile: Profile,\r\n  persistProfile: Function,\r\n  authorization: Authorization\r\n}\r\n\r\nconst Appearance = (props: Props) => {\r\n\r\n  const toggleDarkMode = () => {\r\n      if (props.profile.theme === 'theme_dark') {\r\n          props.persistProfile(props.authorization, {\r\n              ...props.profile,\r\n              theme: 'theme_light'\r\n          })\r\n      } else  {\r\n          props.persistProfile(props.authorization, {\r\n              ...props.profile,\r\n              theme: 'theme_dark'\r\n          })\r\n      }\r\n  }\r\n\r\n  const changeTextSize = (size) => {\r\n      props.persistProfile(props.authorization, {\r\n          ...props.profile,\r\n          textSize: size\r\n      })\r\n  }\r\n\r\n  const changeThemeColor = (color) => {\r\n      props.persistProfile(props.authorization, {\r\n          ...props.profile,\r\n          themeColor: color\r\n      })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Appearance</div>\r\n      <div className=\"appearance\">\r\n        <div className=\"typography-5\">Dark mode</div>\r\n        <div>\r\n            <Switch\r\n            checked={props.profile.theme === 'theme_dark'}\r\n            onChange={() => toggleDarkMode()}\r\n            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n        </div>\r\n\r\n        <div className=\"typography-5 space-bottom-2\">Text Size</div>\r\n        <div className=\" space-bottom-2\">\r\n          <div className={\"text-size size-1 space-right-1 \" + (props.profile.textSize === 'textsize_tiny' ? 'active' : '')}  onClick={() => changeTextSize('textsize_tiny')}>Az</div>\r\n          <div className={\"text-size size-2 space-right-1 \" + (props.profile.textSize === 'textsize_small' ? 'active' : '')}  onClick={() => changeTextSize('textsize_small')}>Az</div>\r\n          <div className={\"text-size size-3 space-right-1 \" + (props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => changeTextSize('textsize_medium')}>Az</div>\r\n          <div className={\"text-size size-4 \" + (props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => changeTextSize('textsize_large')}>Az</div>\r\n        </div>\r\n\r\n\r\n        <div className=\"typography-5\">Color Scheme</div>\r\n        <div>\r\n          <div className=\"theme-color color-1\" onClick={() => changeThemeColor('themecolor_1')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n          <div className=\"theme-color color-2\" onClick={() => changeThemeColor('themecolor_2')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n          <div className=\"theme-color color-3\" onClick={() => changeThemeColor('themecolor_3')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n          <div className=\"theme-color color-4\" onClick={() => changeThemeColor('themecolor_4')}><i className=\"material-icons\">{props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Appearance;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getProfile, setProfile, persistProfile } from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport View from '../../oakui/View';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport { connect } from 'react-redux';\r\nimport {withCookies} from 'react-cookie';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport {signin, updateUserDetails, preSignin} from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport BookmarkImport from './BookmarkImport';\r\nimport BookmarkExport from './BookmarkExport';\r\nimport Appearance from './Appearance';\r\n\r\ninterface Props {\r\n  updateUserDetailsImpl: Function,\r\n  authorization: Authorization,\r\n  cookies: any\r\n}\r\n\r\nconst UserDetails = (props: Props) => {\r\n\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    setData({...data, name: props.cookies.get('name'), email: props.cookies.get('email')});\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    setData({...data, [event.currentTarget.name]: event.currentTarget.value});\r\n  }\r\n\r\n  const updateUserDetailsAction = () => {\r\n    if (isEmptyOrSpaces(data.name)) {\r\n      sendMessage('notification', true, {message: 'Name not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      sendMessage('notification', true, {message: 'Email not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email))) {\r\n      sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n      return;\r\n    }\r\n\r\n    props.updateUserDetailsImpl(data, 'user');\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n        <div className=\"typography-3 space-top-4\">User Account</div>\r\n        <div><OakText label=\"Name\" data={data} id=\"name\" handleChange={e => handleChange(e)} /></div>\r\n        <div><OakText label=\"Email\" data={data} id=\"email\" handleChange={e => handleChange(e)} /></div>\r\n        <div><OakButton theme=\"secondary\" variant=\"animate in\" action={() => updateUserDetailsAction()}>Update details</OakButton></div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withCookies(UserDetails);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getProfile, setProfile, persistProfile } from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport View from '../../oakui/View';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport { connect } from 'react-redux';\r\nimport {withCookies} from 'react-cookie';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport {signin, updateUserDetails, preSignin} from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport BookmarkImport from './BookmarkImport';\r\nimport BookmarkExport from './BookmarkExport';\r\nimport Appearance from './Appearance';\r\nimport UserDetails from './UserDetails';\r\n\r\ninterface Props {\r\n  authorization: Authorization,\r\n  email: String,\r\n  updateUserDetailsImpl: Function\r\n}\r\n\r\nconst ChangePassword = (props: Props) => {\r\n\r\n  const [data, setData] = useState({\r\n    oldPassword: '',\r\n    newPassword: '',\r\n    repeatPassword: ''\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    setData({...data, [event.currentTarget.name]: event.currentTarget.value});\r\n  }\r\n\r\n  const changePassword = () => {\r\n    if (isEmptyOrSpaces(data.oldPassword)) {\r\n      sendMessage('notification', true, {message: 'Old password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(data.newPassword) || isEmptyOrSpaces(data.repeatPassword)) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (data.newPassword !== data.repeatPassword) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    checkOldPassword('oldpassword');\r\n  }\r\n\r\n  const checkOldPassword = (type) => {\r\n    preSignin(props.email).then((response) => {\r\n      if (response.status === 200) {\r\n          signin({\r\n              email: props.email,\r\n              password: data.oldPassword\r\n              }, response.data)\r\n              .then((response) => {\r\n                  if (response.status === 200) {\r\n                      props.updateUserDetailsImpl({\r\n                          password: data.newPassword\r\n                        }, 'password');\r\n                      // sendMessage('notification', true, {message: 'Passphrase updated successfully', type: 'success', duration: 3000});\r\n                  } else if (response.status === 401) {\r\n                      sendMessage('notification', true, {message: 'Incorrect passphrase', type: 'failure', duration: 3000});\r\n                  } else {\r\n                      sendMessage('notification', true, {message: 'Unknown response from server. Please try again or at a later time', type: 'failure', duration: 3000});\r\n                  }\r\n              })\r\n              .catch((error) => {\r\n                  sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n              })\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Password</div>\r\n      <div><OakText type=\"password\" label=\"Old Password\" data={data} id=\"oldPassword\" handleChange={e => handleChange(e)} /></div>\r\n      <div><OakText type=\"password\" label=\"New Password\" data={data} id=\"newPassword\" handleChange={e => handleChange(e)} /></div>\r\n      <div><OakText type=\"password\" label=\"Repeat New Password\" data={data} id=\"repeatPassword\" handleChange={e => handleChange(e)} /></div>\r\n      <div><OakButton theme=\"secondary\" variant=\"animate in\" action={() => changePassword()}>Change Password</OakButton></div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ChangePassword;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getProfile, setProfile, persistProfile } from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport View from '../../oakui/View';\r\nimport ViewResolver from '../../oakui/ViewResolver';\r\nimport { connect } from 'react-redux';\r\nimport {withCookies} from 'react-cookie';\r\nimport { updateUserDetails } from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport BookmarkImport from './BookmarkImport';\r\nimport BookmarkExport from './BookmarkExport';\r\nimport Appearance from './Appearance';\r\nimport UserDetails from './UserDetails';\r\nimport ChangePassword from './ChangePassword';\r\n\r\ninterface Props {\r\n  profile: Profile,\r\n  getProfile: Function,\r\n  setProfile: Function,\r\n  persistProfile: Function,\r\n  authorization: Authorization,\r\n  cookies: any\r\n}\r\n\r\nconst Settings = (props: Props) => {\r\n\r\n  const [email, setEmail] = useState('');\r\n\r\n  useEffect(() => {\r\n    setEmail(props.cookies.get('email'));\r\n  }, []);\r\n\r\n  const updateUserDetailsImpl = (user, type) => {\r\n    updateUserDetails({\r\n      name: user?.name,\r\n      email: user?.email,\r\n      password: user?.password\r\n    }, props.authorization.token, type)\r\n    .then((response: any) => {\r\n      if (response.status === 201) {\r\n        if (type === 'password') {\r\n          sendMessage('notification', true, {message: 'Password updated successfully', type: 'success', duration: 3000});\r\n        } else{\r\n          props.cookies.set('name', user?.name);\r\n          props.cookies.set('email', user?.email);\r\n          sendMessage('notification', true, {message: 'User account updated successfully', type: 'success', duration: 3000});\r\n        }\r\n      } else {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n      }\r\n    })\r\n    .catch((error) => {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <ViewResolver sideLabel='More options'>\r\n        <View main>\r\n        <BookmarkImport authorization={props.authorization} />\r\n        <BookmarkExport authorization={props.authorization} email={email} />\r\n        <Appearance authorization={props.authorization} profile={props.profile} persistProfile={props.persistProfile} />\r\n        <UserDetails authorization={props.authorization} updateUserDetailsImpl={updateUserDetailsImpl} />\r\n        <ChangePassword authorization={props.authorization} updateUserDetailsImpl={updateUserDetailsImpl} email={email} />\r\n        </View>\r\n      </ViewResolver>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, persistProfile })(withCookies(Settings));\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport { resetPassword } from './AuthService';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    history: any,\r\n    location: any\r\n}\r\n\r\nconst ResetPassword = (props: Props) => {\r\n\r\n    const [data, setData] = useState({\r\n        password: '',\r\n        repeatPassword: '',\r\n        resetCode:''\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (props.location.search) {\r\n            const query = queryString.parse(props.location.search);\r\n            if (query.code) {\r\n                setData({...data, resetCode: query.code});\r\n            }else {\r\n                props.history.push(\"/home\");\r\n            }\r\n        }\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        setData({...data, [event.currentTarget.name]: event.currentTarget.value});\r\n    }\r\n\r\n    const changePassword = () => {\r\n        if (isEmptyOrSpaces(data.password)) {\r\n            sendMessage('notification', true, {message: 'password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(data.repeatPassword) || isEmptyOrSpaces(data.repeatPassword)) {\r\n            sendMessage('notification', true, {message: 'Repeat password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (data.password !== data.repeatPassword) {\r\n            sendMessage('notification', true, {message: 'Password is not matching', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        resetPasswordAction('password');\r\n\r\n    }\r\n\r\n    const resetPasswordAction = (type) => {\r\n        resetPassword({\r\n            password: data.password,\r\n            resetCode: data.resetCode\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password Changed successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid request', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"container\">\r\n                <form method=\"GET\" onSubmit={changePassword} noValidate>\r\n                    <h1>Reset password</h1>\r\n                    <div className=\"form\">\r\n                        <OakText label=\"Password\" id=\"password\" type=\"password\" data={data} handleChange={e => handleChange(e)} />\r\n                        <OakText label=\"Repeat Password\" id=\"repeatPassword\" type=\"password\" data={data} handleChange={e => handleChange(e)} />\r\n                    </div>\r\n                    <br />\r\n                    <OakButton theme=\"primary\" variant=\"animate in\"  action={changePassword}>Submit</OakButton>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(ResetPassword);\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './style.scss';\r\nimport Home from '../Home';\r\nimport BookmarkController from '../Bookmarks/BookmarkController';\r\nimport NoteController from '../Notes/NoteController';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport Login from '../Auth/Login';\r\nimport PrivateRoute from '../Auth/PrivateRoute';\r\nimport AuthInit from '../Auth/AuthInit';\r\nimport { withCookies } from 'react-cookie';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { getProfile } from '../../actions/ProfileActions';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Backdrop from './Backdrop';\r\nimport Notification from '../Notification';\r\nimport Navigation from '../Navigation';\r\nimport Settings from '../Settings';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport ResetPassword from '../Auth/ResetPassword';\r\n\r\nconst themes = {\r\n    'themecolor_1': getTheme('#69A7BF'),\r\n    'themecolor_2': getTheme('#99587B'),\r\n    'themecolor_3': getTheme('#A66C26'),\r\n    'themecolor_4': getTheme('#37AE82')\r\n}\r\n\r\nfunction getTheme(color) {\r\n    return createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n              main: color         \r\n          },\r\n          secondary: {\r\n              main: color\r\n          }\r\n        }\r\n      });\r\n}\r\n\r\ninterface Props {\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    cookies: any,\r\n    history: any,\r\n\r\n    // event: PropTypes.object,\r\n    profile: any,\r\n    authorization: Authorization\r\n}\r\n\r\nconst Content = (props: Props) => {\r\n    useEffect(() => {\r\n        props.getProfile();\r\n        props.getAuth();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const eventBus = receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'session expired') {\r\n                    logout(null, 'failure', 'Session expired. Login again');\r\n                }\r\n            }\r\n        );\r\n        return () => eventBus.unsubscribe();\r\n    });\r\n    \r\n    const logout = (event, type = 'success', message = 'You have been logged out') => {\r\n        props.removeAuth();\r\n        props.cookies.remove('isAuth');\r\n        props.cookies.remove('token');\r\n        props.cookies.remove('secret');\r\n        props.cookies.remove('name');\r\n        sendMessage('notification', true, {type: type, message: message, duration: 3000});\r\n        sendMessage('loggedout', true);\r\n    }\r\n\r\n    return (\r\n        <div className={\"App \" + props.profile.theme + \" \" + props.profile.textSize + \" \" + props.profile.themeColor}>\r\n            \r\n            <HashRouter>\r\n                <AuthInit />\r\n                <Backdrop />\r\n                <div className=\"body\">\r\n                    <div className=\"body-content\">\r\n                        <Notification />\r\n                        <MuiThemeProvider theme={themes[props.profile.themeColor]}>\r\n                            <Navigation {...props} logout={() => logout}/>\r\n                            <Route exact path=\"/\" render={(propsLocal) => <Home {...props} {...propsLocal} logout={() => logout}/>} />\r\n                            <Route path=\"/home\" render={(propsLocal) => <Home {...props} {...propsLocal} logout={() => logout}/>} />\r\n                            <Route path=\"/login\" render={(propsLocal) => <Login {...props} {...propsLocal} logout={() => logout}/>} />\r\n                            <Route path=\"/reset\" render={(propsLocal) => <ResetPassword {...props} {...propsLocal} logout={() => logout}/>} />\r\n                            <PrivateRoute path=\"/bookmarks\" render={(propsLocal) => <BookmarkController {...props} {...propsLocal} logout={logout} />} />\r\n                            <PrivateRoute path=\"/notes\" render={(propsLocal) => <NoteController {...props} {...propsLocal} logout={() => logout} />} />\r\n                            <Route path=\"/settings\" render={(propsLocal) => <Settings {...props} {...propsLocal} logout={() => logout}/>} />\r\n                        </MuiThemeProvider>\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth, getProfile })(withCookies(Content));\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './button-oval.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nconst App = (props) => {\r\n  return (\r\n    <Provider store={store}>\r\n      <Content {...props} />\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {CookiesProvider} from \"react-cookie\";\r\n\r\nReactDOM.render(<CookiesProvider><App /></CookiesProvider>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/curate_white.62b209a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/curate_black.de996ba5.svg\";"],"sourceRoot":""}